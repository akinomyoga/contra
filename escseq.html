<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <title>akinomyoga/contra :: Control functions</title>
  <meta name="agh-fly-type" content="color" />
  <!-- <link rel="stylesheet" type="text/css" href="/agh/mwg.slide.css" /> -->
  <!-- <link rel="stylesheet" type="text/css" href="/agh/prog.std.css" /> -->
  <!-- <script type="text/javascript" charset="utf-8" src="/agh/agh.fly.js"></script> -->
  <link rel="stylesheet" type="text/css" href="https://akinomyoga.github.io/agh/mwg.slide.css" />
  <link rel="stylesheet" type="text/css" href="https://akinomyoga.github.io/agh/prog.std.css" />
  <script type="text/javascript" charset="utf-8" src="https://akinomyoga.github.io/agh/agh.fly.js"></script>
  <script type="text/javascript" charset="utf-8" src="escseq.js"></script>
  <link rel="stylesheet" type="text/css" href="escseq.css" />
  <style type="text/css">
  table.normal>*>tr>th{background-color:#eee;}
  table.normal>*>tr>th.markB{background-color:#fee;}
  table.normal>*>tr>th.markC{background-color:#efe;}
  dfn.cfunc{color:blue;}
  dfn.cmode{color:brown;}
  dfn.sgr{color:brown;}

  a.contra-autolink{text-decoration:none;color:#48d;}
  a.contra-autolink:hover{text-decoration:underline;}

  table.contra-cell-centered>tbody>tr>td { text-align: center; }
  </style>
</head>
<body class="tex:math_bqd">
<div id="pagetopholder">
  <div class="linkbar2" id="pagetop">
    <span class="left">-- ≪</span>
    <span class="right">≫ --</span>
    <span class="center">
    akinomyoga/contra :: Control functions
    </span>
  </div>
  <div>
  <p></p>
  </div>
</div>
<hr style="height:1px;"/>
<h1>akinomyoga/contra :: Control functions</h1>

<!--===================================================================================-->
<h2>制御機能 一般論</h2>

<p><dfn>制御機能</dfn> (control functions) とは端末などでの文字列の交換(やりとり)に於いて、
通常の文字列の中に埋め込まれる特定のバイト列 (シーケンス) によって指定・実行される端末などの機能のことである。
一つ一つの制御機能には<dfn>名称</dfn> (name) と<dfn>略号</dfn> (acronym) が与えられ、それぞれ例えば以下の様な目的で使われる。
</p>
<ul>
<li>"通信の開始・終了" や "文字コードの切替" などのデータのやり取り自体に関する制御</li>
<li>"スペース・タブ・改行・改頁・カーソル移動" など文字列の配置に関する制御</li>
<li>"文字の色・字体・背景色・下線・記号" などの文字列の修飾に関する制御</li>
<li>"カーソルキー・Functionキー・テンキー・マウス操作" などの特別な入力に関する通知</li>
<li>"文字の表示領域のサイズ・ウィンドウのタイトル" などの設定の問い合わせ・応答</li>
<li>その他、様々な特別な機能の制御</li>
</ul>

<p>シーケンスが使われる場所は二つに分けることができる。
アプリケーションからの出力 (アプリケーションから端末に対して送られるバイト列) では端末制御の為に使われる。
アプリケーションへの入力 (端末からアプリケーションに対して送られるバイト列) の中では端末の応答やユーザの入力を伝達する為に使われる。
シーケンスは、これらの2つの場所でそれぞれ独立な体系を持っている。
つまり、片方で或る意味を持つバイト列は他方では全く異なる意味を持つ。
この文書では便宜のため、
アプリケーションからの出力に使われる物を<dfn>制御</dfn>の用途のシーケンスとし、
入力に使われる物を<dfn>応答</dfn> (response) の用途のシーケンスと呼ぶ事にする。
この文書では特に制御の用途のシーケンスを中心に扱い、特に断りがなければこれを指す。
</p>

<p class="marked"><strong>※注意</strong>: この文書に於いて小文字から始まる略号はこの文書内だけで通じる便宜上の略号である事に注意する。
  各種規格で定義される制御機能及び後述のモード・モード設定の名称と略号は、
  一般の単語と区別する為に全て大文字で与えられる。
  様々な端末の持つ独自の制御機能の名称は必ずしも大文字ではないが、
  略号については全て大文字でつけられるのが普通である。
  更に一部の制御機能には名称・略号が割り当てられていない。
  独自モードについては名称・略号が割り当てられていない物が多くある。
  独自モード設定については名称・略号が割り当てられている事は稀である。
  この文書では名前の割り当てられていない制御機能・モードに対して独自の略号を与える。
</p>

<h3>関連する標準規格</h3>
<p>複数ある主要な標準規格の名称と関係について簡潔に述べる。
詳細な情報については<a class="internal" href="#section.reference">文献</a>に記述する。
</p>

<ul>
<li>いわゆる <dfn>ASCII</dfn> の規格は <dfn class="standard">ANSI X3.4</dfn> になる。
  ASCII の 7-bit 符号については <dfn class="standard">ISO/IEC 646</dfn> (<dfn class="standard">ECMA-6</dfn>) が対応する。
  8-bit 符号については
  一連の <dfn class="standard">ISO/IEC 8859</dfn> と対応する ECMA 規格 (西欧の文字)、
  および <dfn class="standard">JIS X 0201</dfn> (いわゆる半角仮名) が存在する。
</li>
<li><dfn class="standard">ISO/IEC 2022</dfn> (<dfn class="standard">ECMA-35</dfn>, <dfn class="standard">JIS X 0202</dfn>)
  は文字符号拡張方法についての標準規格である。
</li>
<li>いわゆる <dfn>ANSI 端末</dfn> は <dfn class="standard">ECMA-48</dfn>
  (<dfn class="standard">ANSI X3.64</dfn>, <dfn class="standard">ISO/IEC 6429</dfn>, <dfn class="standard">JIS X 0211</dfn>) に当たる。
  双方向テキストの対応に関する報告書は <dfn class="standard">ECMA-TR/53</dfn> にある。
  一部の制御機能については文書ファイル形式の規格 <dfn class="standard">ISO 8613-6</dfn>
  (<dfn class="standard">ITU T.416</dfn>, CCITT Recommendation T.416, <dfn class="standard">JIS X 4106</dfn>)
  を参照する (というよりこれらの標準規格で使用するために予約されている)。
  またテレテックス文字集合の規格 <dfn class="standard">ITU T.61</dfn> (CCITT Recommendation T.61) に対する参照もある。
</li>
<li><dfn class="standard">ISO/IEC 10646</dfn> (<dfn class="standard">JIS X 0221</dfn>) は国際符号化文字集合の規格で、
  実質 Unicode のうち文字集合の部分に対応する。
</li>
<li>基本伝送制御に関する規格は <dfn class="standard">ISO 1745</dfn> (<dfn class="standard">ECMA-16</dfn>)
  とそれに対する拡張 <dfn class="standard">ISO 2111</dfn> (<dfn class="standard">ECMA-24</dfn>),
  <dfn class="standard">ISO 2628</dfn> (<dfn class="standard">ECMA-26</dfn>, <dfn class="standard">ECMA-27</dfn>, <dfn class="standard">ECMA-28</dfn>),
  <dfn class="standard">ISO 2629</dfn> (<dfn class="standard">ECMA-29</dfn>), <dfn class="standard">ECMA-37</dfn> で構成される。
  <dfn class="standard">JIS X 5002</dfn> は ISO 1745, ISO 2111, ISO 2628, ISO 2629 の内容を含む。
  一連の ECMA 規格は全て廃止されて、他の ECMA 規格からは ISO が代わりに参照されている。
</li>
</ul>

<h3>符号化表現 (coded representation)</h3>
<p>以降ではバイトを column/row の組み合わせで表現する。
column と row は 0-15 の十進整数であり、それぞれ上位 4 bit と下位 4 bit を表す。
例えば 02/00 は 0x20 を表し ASCII コードにおいて空白文字に対応する。
</p>
<p>制御機能を表現するバイト列を<dfn>符号化表現</dfn> (coded representation) という。
符号化表現の形式によって制御機能は以下の様に分類される。
</p>
<table class="normal center">
<tr><th colspan="2">名称</th><th>符号化表現</th><th>説明</th><th>関連規格</th></tr>
<tr><th rowspan="3">制御文字</th>
    <th>C0 制御文字</th><td><kbd><i>C0</i></kbd></td><td>制御機能の基本集合</td><td>ISO/IEC 646</td></tr>
<tr><th>C1 制御文字</th><td><kbd><i>C1</i></kbd></td><td>制御機能の補助集合</td><td>ISO/IEC 6429 (ECMA-48)</td></tr>
<tr><th>Unicode 制御文字</th><td><kbd><i>Cc</i></kbd></td><td>Unicode 制御機能</td><td>ISO/IEC 10646, Unicode UAXs</td></tr>
<tr><th colspan="2">DLE シーケンス</th>
    <td><kbd>DLE <i>I</i><strong>*</strong> <i>F</i></kbd><br />
        <kbd>DLE <i>I</i><strong>*</strong> <i>C0</i></kbd></td><td>伝送の制御</td><td rowspan="2">ISO/IEC 1745 (ECMA-16, ECMA-37)</td></tr>
<tr><th colspan="2">情報メッセージ<br/>情報ブロック</th>
    <td><kbd><strong>(</strong>SOH ...<strong>)?</strong> STX ... ETX</kbd><br/>
        <kbd><strong>(</strong>SOH ...<strong>)?</strong> STX ... ETB</kbd><br/>
        <kbd>SOH ... ETB</kbd></td><td>伝送</td></tr>
<tr><th colspan="2" rowspan="2">エスケープシーケンス</th>
    <td><kbd>ESC <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>文字コードの制御</td><td rowspan="2">ISO/IEC 2022</td></tr>
<tr><td><kbd>ESC <i>I</i><strong>*</strong> <i>Fp</i></kbd></td><td>私用の制御</td></tr>
<tr><th colspan="2">制御シーケンス</th>
    <td><kbd>CSI <i>P</i><strong>*</strong> <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <td>ANSI 制御機能</td><td rowspan="6">ISO/IEC 6429 (ECMA-48)</td></tr>
<tr><th rowspan="5">制御列</th><th rowspan="4">コマンド列</th>
    <td><kbd>DCS ... ST</kbd></td><td>装置制御</td></tr>
<tr><td><kbd>OSC ... ST</kbd></td><td>OSの機能</td></tr>
<tr><td><kbd>PM ... ST</kbd></td> <td>私用の機能</td></tr>
<tr><td><kbd>APC ... ST</kbd></td><td>アプリケーションの機能</td></tr>
<tr><th>文字列</th>
    <td><kbd>SOS ... ST</kbd></td><td>文字列</td></tr>
</table>
<p>但し、DLE, ESC, DCS, SOS, CSI, ST, OSC, PM, APC は C0 または C1 に含まれる制御文字である (後述)。</p>
<p>[ECMA-48/5.4, ECMA-35/13.2.1] また、<i class="kbd">Name</i> の表記で示したバイトは、Name に応じて特定の集合に含まれる。
</p>
<table class="normal center">
<tr><th colspan="3"><i class="kbd">Name</i></th><th>範囲</th></tr>
<tr><th colspan="3"><i class="kbd">C0</i></th><td>00/00 - 01/15</td></tr>
<tr><th colspan="3"><i class="kbd">I</i></th><td>02/00 - 02/15</td></tr>
<tr><th rowspan="3"><i class="kbd">F</i></th>
    <th colspan="2"><i class="kbd">Fp</i>, <i class="kbd">P</i></th><td>03/00 - 03/15</td></tr>
<tr><th rowspan="2"><i class="kbd">Ft</i></th>
    <th><i class="kbd">Fe</i></th><td>04/00 - 05/15</td></tr>
<tr><th><i class="kbd">Fs</i></th><td>06/00 - 07/14</td></tr>
<tr><th colspan="3"><i class="kbd">C1</i></th><td>08/00 - 09/15</td></tr>
<tr><th colspan="3"><i class="kbd">Cc</i></th>
    <td>Unicode General Category "Cc" の文字 (C0, C1 以外)<br/>
    (特定の文字符号化方式でバイト列を Unicode 文字の列に変換した後)
    </td></tr>
</table>
<ul>
<li>ECMA-35 では <i class="kbd">F</i> を 03/00 - 07/14 と定義しているが、ECMA-48 では 04/00 - 07/14 と定義している。
  混乱を避ける為にこの文書では ECMA-35 での定義を採用し、
  ECMA-48 の <i class="kbd">F</i> は ECMA-35 に倣って <i class="kbd">Ft</i> に置き換えて表記する。
</li>
<li>エスケープシーケンス (ECMA-35) では 03/00 - 03/15 は終端バイト (final byte) として働き <i class="kbd">Fp</i> と表記する。
  制御シーケンス (ECMA-48) では 03/00 - 03/15 は引数バイト (parameter byte) として働き <i class="kbd">P</i> と表記する。
  両者は役割が異なるので表記も異なっているが、文字集合としての区別はない。
</li>
</ul>

<h3>制御文字 (control character)</h3>
<table class="normal center">
<tr><th colspan="12">C0 (ISO/IEC 646)</th><th colspan="12">C1 (ISO/IEC 6429)</th></tr>
<tr>
  <th>略号</th><th>C/R</th><th>16進</th><th>8進</th><th>ES</th><th>CN</th>
  <th>略号</th><th>C/R</th><th>16進</th><th>8進</th><th>ES</th><th>CN</th>
  <th>略号</th><th>C/R</th><th>16進</th><th>8進</th>
  <th>略号</th><th>C/R</th><th>16進</th><th>8進</th>
</tr>
<tr>
  <th>NUL</th><td>00/00</td><td>\x00</td><td>\000</td><td></td><td>^@</td>
  <th class="markB">DLE</th><td>01/00</td><td>\x10</td><td>\020</td><td></td><td>^P</td>
  <th>(PAD)</th><td>08/00</td><td>\x80</td><td>\200</td>
  <th class="markB">DCS</th><td>09/00</td><td>\x90</td><td>\220</td>
</tr>
<tr>
  <th class="markB">SOH</th><td>00/01</td><td>\x01</td><td>\001</td><td></td><td>^A</td>
  <th>DC1<br/>(XON)</th><td>01/01</td><td>\x11</td><td>\021</td><td></td><td>^Q</td>
  <th>(HOP)</th><td>08/01</td><td>\x81</td><td>\201</td>
  <th>PU1</th><td>09/01</td><td>\x91</td><td>\221</td>
</tr>
<tr>
  <th class="markB">STX</th><td>00/02</td><td>\x02</td><td>\002</td><td></td><td>^B</td>
  <th>DC2</th><td>01/02</td><td>\x12</td><td>\022</td><td></td><td>^R</td>
  <th>BPH</th><td>08/02</td><td>\x82</td><td>\202</td>
  <th>PU2</th><td>09/02</td><td>\x92</td><td>\222</td>
</tr>
<tr>
  <th class="markC">ETX</th><td>00/03</td><td>\x03</td><td>\003</td><td></td><td>^C</td>
  <th>DC3<br/>(XOFF)</th><td>01/03</td><td>\x13</td><td>\023</td><td></td><td>^S</td>
  <th>NBH</th><td>08/03</td><td>\x83</td><td>\203</td>
  <th>STS</th><td>09/03</td><td>\x93</td><td>\223</td>
</tr>
<tr>
  <th class="markC">EOT</th><td>00/04</td><td>\x04</td><td>\004</td><td></td><td>^D</td>
  <th>DC4</th><td>01/04</td><td>\x14</td><td>\024</td><td></td><td>^T</td>
  <th>IND<sup>廃</sup></th><td>08/04</td><td>\x84</td><td>\204</td>
  <th>CCH</th><td>09/04</td><td>\x94</td><td>\224</td>
</tr>
<tr>
  <th>ENQ</th><td>00/05</td><td>\x05</td><td>\005</td><td></td><td>^E</td>
  <th>NAK</th><td>01/05</td><td>\x15</td><td>\025</td><td></td><td>^U</td>
  <th>NEL</th><td>08/05</td><td>\x85</td><td>\205</td>
  <th>MW</th> <td>09/05</td><td>\x95</td><td>\225</td>
</tr>
<tr>
  <th>ACK</th><td>00/06</td><td>\x06</td><td>\006</td><td></td><td>^F</td>
  <th>SYN</th><td>01/06</td><td>\x16</td><td>\026</td><td></td><td>^V</td>
  <th>SSA</th><td>08/06</td><td>\x86</td><td>\206</td>
  <th>SPA</th><td>09/06</td><td>\x96</td><td>\226</td>
</tr>
<tr>
  <th>BEL</th><td>00/07</td><td>\x07</td><td>\007</td><td>\a</td><td>^G</td>
  <th class="markC">ETB</th><td>01/07</td><td>\x17</td><td>\027</td><td></td><td>^W</td>
  <th>ESA</th><td>08/07</td><td>\x87</td><td>\207</td>
  <th>EPA</th><td>09/07</td><td>\x97</td><td>\227</td>
</tr>

<tr>
  <th>BS</th> <td>00/08</td><td>\x08</td><td>\010</td><td>\b</td><td>^H</td>
  <th>CAN</th><td>01/08</td><td>\x18</td><td>\030</td><td></td><td>^X</td>
  <th>HTS</th><td>08/08</td><td>\x88</td><td>\210</td>
  <th class="markB">SOS</th><td>09/08</td><td>\x98</td><td>\230</td>
</tr>
<tr>
  <th>HT</th> <td>00/09</td><td>\x09</td><td>\011</td><td>\t</td><td>^I</td>
  <th>EM</th> <td>01/09</td><td>\x19</td><td>\031</td><td></td><td>^Y</td>
  <th>HTJ</th><td>08/09</td><td>\x89</td><td>\211</td>
  <th>(SGCI)</th><td>09/09</td><td>\x99</td><td>\231</td>
</tr>
<tr>
  <th>LF</th> <td>00/10</td><td>\x0A</td><td>\012</td><td>\n</td><td>^J</td>
  <th>SUB</th><td>01/10</td><td>\x1A</td><td>\032</td><td>\z</td><td>^Z</td>
  <th>VTS</th><td>08/10</td><td>\x8A</td><td>\212</td>
  <th>SCI<br/>(DECID)</th><td>09/10</td><td>\x9A</td><td>\232</td>
</tr>
<tr>
  <th>VT</th> <td>00/11</td><td>\x0B</td><td>\013</td><td>\v</td><td>^K</td>
  <th class="markB">ESC</th><td>01/11</td><td>\x1B</td><td>\033</td><td>\e</td><td>^[</td>
  <th>PLD</th><td>08/11</td><td>\x8B</td><td>\213</td>
  <th class="markB">CSI</th><td>09/11</td><td>\x9B</td><td>\233</td>
</tr>
<tr>
  <th>FF</th> <td>00/12</td><td>\x0C</td><td>\014</td><td>\f</td><td>^L</td>
  <th>FS</th> <td>01/12</td><td>\x1C</td><td>\034</td><td></td><td>^\</td>
  <th>PLU</th><td>08/12</td><td>\x8C</td><td>\214</td>
  <th class="markC">ST</th><td>09/12</td><td>\x9C</td><td>\234</td>
</tr>
<tr>
  <th>CR</th> <td>00/13</td><td>\x0D</td><td>\015</td><td>\r</td><td>^M</td>
  <th>GS</th> <td>01/13</td><td>\x1D</td><td>\035</td><td></td><td>^]</td>
  <th>RI</th><td>08/13</td><td>\x8D</td><td>\215</td>
  <th class="markB">OSC</th><td>09/13</td><td>\x9D</td><td>\235</td>
</tr>
<tr>
  <th>SO<br/>LS1</th> <td>00/14</td><td>\x0E</td><td>\016</td><td></td><td>^N</td>
  <th>RS</th> <td>01/14</td><td>\x1E</td><td>\036</td><td></td><td>^^</td>
  <th>SS2</th><td>08/14</td><td>\x8E</td><td>\216</td>
  <th class="markB">PM</th><td>09/14</td><td>\x9E</td><td>\236</td>
</tr>
<tr>
  <th>SI<br/>LS0</th> <td>00/15</td><td>\x0F</td><td>\017</td><td></td><td>^O</td>
  <th>US</th><td>01/15</td><td>\x1F</td><td>\037</td><td></td><td>^_</td>
  <th>SS3</th><td>08/15</td><td>\x8F</td><td>\217</td>
  <th class="markB">APC</th><td>09/15</td><td>\x9F</td><td>\237</td>
</tr>

<tr><th colspan="12">GL</th></tr>
<tr>
  <th>SP</th><td>02/00</td><td>\x20</td><td>\040</td><td></td><td>&#x2423;</td>
  <th>DEL</th><td>07/15</td><td>\x7F</td><td>\177</td><td></td><td>^?</td>
</tr>
</table>

<ul>
<li>C0, C1, GL 等とした物は、バイト値のグループ分けの事で、
  00/00-01/15 の範囲の文字の集合を <dfn>C0</dfn> (ASCII control characters) と呼び、
  08/00-09/15 の範囲の文字の集合を <dfn>C1</dfn> (8-bit control characters) と呼ぶ。
  この C0 C1 の二つの文字の集合を総称して<dfn>制御文字</dfn> (control character, 制御キャラクタ, 制御機能文字) と呼ぶ。
  一方で、02/00-07/15 の範囲のバイトの集合を <dfn>GL</dfn> と呼び、
  10/00-15/15 の範囲のバイトの集合を <dfn>GR</dfn> (8-bit graphic code) と呼ぶ。
  GL のバイトには通常、キーボードの表面に印刷されている様な普通の文字 (ASCII文字) が割り当てられている。
  GR のバイトには文字集合 (character set) に応じて様々な文字が割り当てられる。
  GL GR に割り当てられる文字を総称して<dfn>図形文字</dfn> (graphic character) と呼ぶ。
  但し、特に GL に属する SP 及び DEL については、
  制御文字的な性格が多少あるので上の表の隅に載せた。
</li>
<li>制御文字の中でも、或る物は単独で一つの制御機能を表し、
  或る物は後続するバイト列と一連のシーケンスを為して一つ制御機能を表す。
  <b>制御シーケンス</b>・<b>エスケープシーケンス</b> は狭義には
  それぞれ CSI, ESC から始まるシーケンスの事であるが、
  複数バイトからなるシーケンスの総称として用いられる事も多い。
  表中で赤色で示した物が、シーケンスの開始として用いられる制御文字である。
  緑色で示した物は、専ら何らかのシーケンスの終端として用いられる制御文字である。
</li>
<li>列の項目について
  <ul>
  <li>"略号" の列には ASCII や、各端末に於いて定義された機能の短縮名を示してある。</li>
  <li>"C/R" の列は、行と列によるバイト値の表記である。</li>
  <li>"16進", "8進", "ES" の列には C 言語などの文字列リテラル中で用いられる表現を示した。
  それぞれ 16進数、8進数、(文字列リテラルの) エスケープシーケンス による表現である。
  "ES" の列に関しては必ずしも全ての言語で全ての表現に対応しているとは限らない。</li>
  <li>"CN" の列は caret notation によるバイトの表現である。
  例えば、端末のキーボードで Control+A を入力すると
  <code class="agh-prog-cpp">0x1F &amp; 'A'</code> の様に計算されたバイトが送信される。
  それを以て <kbd>^A</kbd> の様に表記する。
  同様にして端末のキーボードで Meta と一緒に文字を入力すると、
  bit 7 (最上位ビット) が立てられるので、C1 の文字は例えば Control+Meta+A の様にして送信できる。
  Meta に対応する一般的な caret notation はないのでここでは省略した。
  [Note: 敢えて C1 に対する caret notation を割り当てるならば、
  macOS のショートカットキーを表現する caret notation で
  Alt/Option を表現するのに &#x2325; が用いられるのに倣って、
  Control+Meta+A を &#x2325;^A と表現しても良いかもしれない。]
  </li>
  </ul>
  <p>
  </p>
</li>
<li>ISO/IEC 646 には C0 が含まれる。ISO/IEC 6429, ISO/IEC 10646 には C0/C1 の両方が含まれる。
  ISO/IEC 2022 では C0 は primary set of control functions と呼ばれ、
  C1 は supplementary sets of control functions と呼ばれる。
  表中の C0 の制御文字は ISO/IEC 646 (1967) による。また C1 の制御文字は ISO/IEC 6429 による。
  <ul>
  <li>[ECMA-48] ISO/IEC 6429 では FS, GS, RS, US には
    それぞれ IS4, IS3, IS2, IS1 という名称が与えられている。</li>
  <li><a href="https://en.wikipedia.org/wiki/ASCII">ASCII (Wikipedia)</a>:
    ISO/IEC 646 (1965) では SUB は SS という名称だった。
    ISO/IEC 646 (1963) では
    NUL は NULL、SOH は SOM、STX は EOA、ETX は EOM、
    ENQ は WRU、ACK は RU、BEL は BELL、BS は FE0、HT は HT/SK、
    VT は VTAB、DLE は DC0、NAK は ERR、SYN は SYNC、ETB は LEM、
    CAN-US は S0-S7 という名称だった。
  </li>
  <li>ISO/IEC 6429 では 08/00, 08/01, 08/04, 09/09 に名称は与えられていない。
    Unicode (ISO/IEC 10646) では 08/04 (U+0084) に IND (Index)という名称が与えられているが、
    他は何も割り当てられていない (XXX)。
  </li>
  </ul>
</li>
</ul>

<ul>
<li><dfn class="cfunc">NUL</dfn>: NULL</li>
<li><dfn class="cfunc">DEL</dfn>: DELETE
  <p>[ECMA-48/8.3.88 NUL, ECMA-35/6.2.1 DEL]
  これらのバイトは単に無視され、(CCデータ要素に) 任意に挿入・削除しても情報の意味は変わらない。
  media-fill または time-fill に用いることができる。
  </p>
  <p>[ECMA-35/6.2.1] DEL は元々パンチカードで、誤りまたは不要の文字を塗り潰し無視させるために使われた。</p>
  <p>[ECMA-48/F.8.1] DEL は厳密には制御機能といいがたいので ECMA-48 からは削除されたそうだ。
    それでも別の規格 (ECMA-35) に記述が残っているので、まだ効力はあるものと思われる。</p>
  <p>Note: 制御機能の符号化表現の途中に含まれていても無視されるべきと読める。
  以下は実際の実装で CSI の途中に NUL, DEL を挟んで試した
  (<code>printf '\e\x00[34mhello\e[m\n\e\x7F[34mhello\e[m\n'</code>) 結果である。</p>
  <ul>
  <li>xterm, RLogin, Poderosa では途中の NUL, DEL は無視される。</li>
  <li>mintty では NUL は無視されるが DEL は不正なシーケンスになる。</li>
  <li>screen では NUL, DEL のどちらも不正なシーケンスになる。</li>
  </ul>
</li>
</ul>

<h3>図形文字 (graphic characters)</h3>
<p>エスケープシーケンスや制御シーケンス・制御列では、
ISO 2022 の図形文字に相当するバイト値を構成要素として含む。
これらのバイト値は文字コードに依らずに一定のバイト値で表現される。
しかし毎回数値で表現すると不便なので、
この文書ではそれらのバイト値を ASCII コードに従って便宜上図形文字に割り当てて表現する。
例えば、制御シーケンス内に含まれる "06/13" はどの文字コード・文字符号化状態であっても
"06/13" というバイト値で表されるが、この文書では便宜上 ASCII コードで対応する文字 "m" を用いる。
しかし、実際の実装では文字コードに依らずに 06/13 として取り扱われるべきである。
以下にバイト値と図形文字の対応を載せる。</p>
<p>[ECMA-48/5.4.2(b)] また数字に対応するバイト値には ZERO, ONE, ..., NINE などの名前が与えられている。
  [ECMA-35/4.2] 但し、バイトを構成するビットの状態を ZERO, ONE で表すこともある。
</p>

<table class="normal center contra-cell-centered">
<tr><th>略号</th><th>C/R 16進<br/>8進 10進</th>
    <th>略号</th><th>C/R 16進<br/>8進 10進</th>
    <th>略号</th><th>C/R 16進<br/>8進 10進</th>
    <th>略号</th><th>C/R 16進<br/>8進 10進</th>
    <th>略号</th><th>C/R 16進<br/>8進 10進</th>
    <th>略号</th><th>C/R 16進<br/>8進 10進</th>
</tr>
<tr><th>SP</th>   <td>02/00 \x20<br/>\040 32</td><th>0</th>   <td>03/00 \x30<br/>\060  48</td><th>@</th>  <td>04/00 \x40<br/>\100  64</td>
    <th>P</th>    <td>05/00 \x50<br/>\120 80</td><th>`</th>   <td>06/00 \x60<br/>\140  96</td><th>p</th>  <td>07/00 \x70<br/>\160 112</td></tr>
<tr><th>!</th>    <td>02/01 \x21<br/>\041 33</td><th>1</th>   <td>03/01 \x31<br/>\061  49</td><th>A</th>  <td>04/01 \x41<br/>\101  65</td>
    <th>Q</th>    <td>05/01 \x51<br/>\121 81</td><th>a</th>   <td>06/01 \x61<br/>\141  97</td><th>q</th>  <td>07/01 \x71<br/>\161 113</td></tr>
<tr><th>"</th>    <td>02/02 \x22<br/>\042 34</td><th>2</th>   <td>03/02 \x32<br/>\062  50</td><th>B</th>  <td>04/02 \x42<br/>\102  66</td><!--"-->
    <th>R</th>    <td>05/02 \x52<br/>\122 82</td><th>b</th>   <td>06/02 \x62<br/>\142  98</td><th>r</th>  <td>07/02 \x72<br/>\162 114</td></tr>
<tr><th>#</th>    <td>02/03 \x23<br/>\043 35</td><th>3</th>   <td>03/03 \x33<br/>\063  51</td><th>C</th>  <td>04/03 \x43<br/>\103  67</td>
    <th>S</th>    <td>05/03 \x53<br/>\123 83</td><th>c</th>   <td>06/03 \x63<br/>\143  99</td><th>s</th>  <td>07/03 \x73<br/>\163 115</td></tr>
<tr><th>$</th>    <td>02/04 \x24<br/>\044 36</td><th>4</th>   <td>03/04 \x34<br/>\064  52</td><th>D</th>  <td>04/04 \x44<br/>\104  68</td>
    <th>T</th>    <td>05/04 \x54<br/>\124 84</td><th>d</th>   <td>06/04 \x64<br/>\144 100</td><th>t</th>  <td>07/04 \x74<br/>\164 116</td></tr>
<tr><th>%</th>    <td>02/05 \x25<br/>\045 37</td><th>5</th>   <td>03/05 \x35<br/>\065  53</td><th>E</th>  <td>04/05 \x45<br/>\105  69</td>
    <th>U</th>    <td>05/05 \x55<br/>\125 85</td><th>e</th>   <td>06/05 \x65<br/>\145 101</td><th>u</th>  <td>07/05 \x75<br/>\165 117</td></tr>
<tr><th>&amp;</th><td>02/06 \x26<br/>\046 38</td><th>6</th>   <td>03/06 \x36<br/>\066  54</td><th>F</th>  <td>04/06 \x46<br/>\106  70</td>
    <th>V</th>    <td>05/06 \x56<br/>\126 86</td><th>f</th>   <td>06/06 \x66<br/>\146 102</td><th>v</th>  <td>07/06 \x76<br/>\166 118</td></tr>
<tr><th>'</th>    <td>02/07 \x27<br/>\047 39</td><th>7</th>   <td>03/07 \x37<br/>\067  55</td><th>G</th>  <td>04/07 \x47<br/>\107  71</td><!--'-->
    <th>W</th>    <td>05/07 \x57<br/>\127 87</td><th>g</th>   <td>06/07 \x67<br/>\147 103</td><th>w</th>  <td>07/07 \x77<br/>\167 119</td></tr>
<tr><th>(</th>    <td>02/08 \x28<br/>\050 40</td><th>8</th>   <td>03/08 \x38<br/>\070  56</td><th>H</th>  <td>04/08 \x48<br/>\110  72</td>
    <th>X</th>    <td>05/08 \x58<br/>\130 88</td><th>h</th>   <td>06/08 \x68<br/>\150 104</td><th>x</th>  <td>07/08 \x78<br/>\170 120</td></tr>
<tr><th>)</th>    <td>02/09 \x29<br/>\051 41</td><th>9</th>   <td>03/09 \x39<br/>\071  57</td><th>I</th>  <td>04/09 \x49<br/>\111  73</td>
    <th>Y</th>    <td>05/09 \x59<br/>\131 89</td><th>i</th>   <td>06/09 \x69<br/>\151 105</td><th>y</th>  <td>07/09 \x79<br/>\171 121</td></tr>
<tr><th>*</th>    <td>02/10 \x2A<br/>\052 42</td><th>:</th>   <td>03/10 \x3A<br/>\072  58</td><th>J</th>  <td>04/10 \x4A<br/>\112  74</td>
    <th>Z</th>    <td>05/10 \x5A<br/>\132 90</td><th>j</th>   <td>06/10 \x6A<br/>\152 106</td><th>z</th>  <td>07/10 \x7A<br/>\172 122</td></tr>
<tr><th>+</th>    <td>02/11 \x2B<br/>\053 43</td><th>;</th>   <td>03/11 \x3B<br/>\073  59</td><th>K</th>  <td>04/11 \x4B<br/>\113  75</td>
    <th>[</th>    <td>05/11 \x5B<br/>\133 91</td><th>k</th>   <td>06/11 \x6B<br/>\153 107</td><th>{</th>  <td>07/11 \x7B<br/>\173 123</td></tr>
<tr><th>,</th>    <td>02/12 \x2C<br/>\054 44</td><th>&lt;</th><td>03/12 \x3C<br/>\074  60</td><th>L</th>  <td>04/12 \x4C<br/>\114  76</td>
    <th>\</th>    <td>05/12 \x5C<br/>\134 92</td><th>l</th>   <td>06/12 \x6C<br/>\154 108</td><th>|</th>  <td>07/12 \x7C<br/>\174 124</td></tr>
<tr><th>-</th>    <td>02/13 \x2D<br/>\055 45</td><th>=</th>   <td>03/13 \x3D<br/>\075  61</td><th>M</th>  <td>04/13 \x4D<br/>\115  77</td>
    <th>]</th>    <td>05/13 \x5D<br/>\135 93</td><th>m</th>   <td>06/13 \x6D<br/>\155 109</td><th>}</th>  <td>07/13 \x7D<br/>\175 125</td></tr>
<tr><th>.</th>    <td>02/14 \x2E<br/>\056 46</td><th>&gt;</th><td>03/14 \x3E<br/>\076  62</td><th>N</th>  <td>04/14 \x4E<br/>\116  78</td>
    <th>^</th>    <td>05/14 \x5E<br/>\136 94</td><th>n</th>   <td>06/14 \x6E<br/>\156 110</td><th>~</th>  <td>07/14 \x7E<br/>\176 126</td></tr>
<tr><th>/</th>    <td>02/15 \x2F<br/>\057 47</td><th>?</th>   <td>03/15 \x3F<br/>\077  63</td><th>O</th>  <td>04/15 \x4F<br/>\117  79</td>
    <th>_</th>    <td>05/15 \x5F<br/>\137 95</td><th>o</th>   <td>06/15 \x6F<br/>\157 111</td><th>DEL</th><td>07/15 \x7F<br/>\177 127</td></tr>
</table>

<h3>エスケープシーケンス (escape sequence)</h3>
<ul>
<li id="acro.ESC"><dfn class="cfunc">ESC</dfn>: ESCAPE
  <p>[ECMA-48/8.3.48, ECMA-35/6.2.2]
  符号拡張の目的で使用される。後続の CC データ要素のバイトの意味を変える。
  結果として ESC と後続のバイトで<dfn>エスケープシーケンス</dfn> (escape sequence) を成す。
  エスケープシーケンスは<dfn>符号識別機能</dfn> (code-identification function) およびある種の制御機能の符号化表現となる。
  </p>
  <p>[ECMA-35/13.1] エスケープシーケンスは ESC で始まり終端バイト 03/00-07/15 で終わる。
  間に 0 個以上の中間バイト <i class="kbd">I</i> を含む。
  その形式によって以下の様な型 (types) に分類される。
  </p>
  <table class="normal center">
  <tr><th>種類</th><th>型</th><th>符号化表現</th><th>名称</th><th>規格</th></tr>
  <tr><th rowspan="3">制御機能</th>
      <td>Fe</td><td><kbd>ESC <i>Fe</i></kbd></td>
      <td>制御機能の補助集合 (Supplementary sets of coded control functions)</td><td>ECMA-35/6.4.3</td></tr>
  <tr><td>Fs</td><td><kbd>ESC <i>Fs</i></kbd></td>
      <td>標準単独制御機能 (Standardized single control functions)</td><td>ECMA-35/6.5.1</td></tr>
  <tr><td>3Ft</td><td><kbd>ESC # <i>I</i><strong>*</strong> <i>Fs</i></kbd></td>
      <td>登録単独制御機能 (Registered single control functions)</td><td>ECMA-35/6.5.2</td></tr>
  <tr><th rowspan="13">符号識別機能</th>
      <td>0Ft</td><td><kbd>ESC SP <i>Ft</i></kbd></td><td>ACS (ANNOUNCE CODE STRUCTURE)</td><td>ECMA-35/15.2</td></tr>
  <tr><td>1Ft</td><td><kbd>ESC ! <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>CZD (C0-DESIGNATE)</td><td rowspan="2">ECMA-35/14.2</td></tr>
  <tr><td>2Ft</td><td><kbd>ESC " <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>C1D (C1-DESIGNATE)</td></tr><!--"-->
  <tr><td>4Ft</td><td><kbd>ESC $ <i>I</i> <i>Ft</i></kbd></td><td>Designation of multiple-byte graphic character sets</td><td>ECMA-35/13.2.3, 14.3</td></tr>
  <tr><td>5Ft</td><td><kbd>ESC % <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>DOCS (DESIGNATE OTHER CODING SYSTEM)</td><td>ECMA-35/15.4</td></tr>
  <tr><td>6Ft</td><td><kbd>ESC &amp; <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>IRR (IDENTIFY REVISED REGISTRATION)</td><td>ECMA-35/14.5</td></tr>
  <tr><td>8Ft</td> <td><kbd>ESC ( <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>GZD4 (G0-DESIGNATE 94-SET)</td><td rowspan="7">ECMA-35/14.3</td></tr>
  <tr><td>9Ft</td> <td><kbd>ESC ) <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>G1D4 (G1-DESIGNATE 94-SET)</td></tr>
  <tr><td>10Ft</td><td><kbd>ESC * <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>G2D4 (G2-DESIGNATE 94-SET)</td></tr>
  <tr><td>11Ft</td><td><kbd>ESC + <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>G3D4 (G3-DESIGNATE 94-SET)</td></tr>
  <tr><td>13Ft</td><td><kbd>ESC - <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>G1D6 (G1-DESIGNATE 96-SET)</td></tr>
  <tr><td>14Ft</td><td><kbd>ESC . <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>G2D6 (G2-DESIGNATE 96-SET)</td></tr>
  <tr><td>15Ft</td><td><kbd>ESC / <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td>G3D6 (G3-DESIGNATE 96-SET)</td></tr>
  <tr><th rowspan="3">私用の機能</th>
      <td>Fp</td><td><kbd>ESC <i>Fp</i></kbd></td>
      <td rowspan="2">私用制御機能 (Private control functions)</td><td rowspan="2">ECMA-35/6.5.3</td></tr>
  <tr><td>3Fp</td><td><kbd>ESC # <i>I</i><strong>*</strong> <i>Fp</i></kbd></td></tr>
  <tr><td>nFp</td><td><kbd>ESC <i>I</i><strong>+</strong> <i>Fp</i></kbd></td>
      <td>私用の機能その他 (Reserved for Private use)</td><td>ECMA-35/13.2.2</td></tr>
  <tr><th rowspan="2">(予約)</th>
      <td>7Ft</td> <td><kbd>ESC ' <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><td rowspan="2">-R- (予約)</td><td rowspan="2">-</td></tr><!--'-->
  <tr><td>12Ft</td><td><kbd>ESC , <i>I</i><strong>*</strong> <i>Ft</i></kbd></td></tr>
  </table>
  <ul>
  <li><i class="kbd">Fp</i> で終端するエスケープシーケンスは私用の為に保留されている。</li>
  <li>2バイト目が <i class="kbd">I</i> のエスケープシーケンスは符号識別機能に用いられ、
    特に文字集合の設定に用いられる。</li>
  <li>2バイト目が <i class="kbd">Fe</i> にあるエスケープシーケンスは、
    C1 の文字を 7bit で符号化するのに用いられる。
    実際の端末の実装においては、
    歴史的な背景からこの領域の特定の文字に別の機能を割り当てている事がある。
  </li>
  <li>2バイト目が範囲 <i class="kbd">Fs</i> にあるシーケンスは ISO/IEC 2022 (ECMA-35) で規定される単独制御機能である。</li>
  <li>(予約) とした物は現在は規定されていないが、将来の規格変更・文字集合登録の為に予約されている。</li>
  <li>[ECMA-35/6.4.4, 6.5.4] 00/00-01/15 の基本集合および Fe 型の補助集合および一部の標準単独制御機能は ECMA-48 で定義される。</li>
  </ul>
</li>
</ul>
<p>以下に 2バイト目 (ESC の次のバイト) で分類した表を載せる。
例によって赤色で示したのが、続きのバイト列を持つシーケンスである。
</p>
<table class="normal center">
<tr><th colspan="2">nFt型: 符号識別機能<br/>(第2バイト <i class="kbd">I</i>)</th>
    <th colspan="2">Fp型: 私用制御機能<br/>(第2バイト <i class="kbd">Fp</i>)</th>
    <th colspan="4">Fe型: 補助集合 C1<br/>(第2バイト <i class="kbd">Fe</i>)</th>
    <th colspan="4">Fs型: 標準単独制御機能<br/>(第2バイト <i class="kbd">Fs</i>)</th></tr>
<tr><th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th></tr>
<tr><th class="markB">ACS</th><td><kbd>ESC SP <i>Ft</i></kbd></td>
    <th>---</th><td><kbd>ESC 0</kbd></td>
    <th>(PAD)</th><td><kbd>ESC @</kbd></td>
    <th class="markB">DCS</th><td><kbd>ESC P</kbd></td>
    <th>DMI</th><td><kbd>ESC `</kbd></td>
    <th>PCD</th><td><kbd>ESC p</kbd></td></tr>
<tr><th class="markB">CZD</th><td><kbd>ESC ! <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>DECHTS</th><td><kbd>ESC 1</kbd></td>
    <th>(HOP)</th><td><kbd>ESC A</kbd></td>
    <th>PU1</th><td><kbd>ESC Q</kbd></td>
    <th>INT</th><td><kbd>ESC a</kbd></td>
    <th>-R-</th><td><kbd>ESC q</kbd></td></tr>
<tr><th class="markB">C1D</th><td><kbd>ESC " <i>I</i><strong>*</strong> <i>Ft</i></kbd></td><!--"-->
    <th>DECCAHT</th><td><kbd>ESC 2</kbd></td>
    <th>BPH</th><td><kbd>ESC B</kbd></td>
    <th>PU2</th><td><kbd>ESC R</kbd></td>
    <th>EMI</th><td><kbd>ESC b</kbd></td>
    <th>-R-</th><td><kbd>ESC r</kbd></td></tr>
<tr><th class="markB">"RSCF"</th><td><kbd>ESC # <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>DECVTS</th><td><kbd>ESC 3</kbd></td>
    <th>NBH</th><td><kbd>ESC C</kbd></td>
    <th>STS</th><td><kbd>ESC S</kbd></td>
    <th>RIS</th><td><kbd>ESC c</kbd></td>
    <th>-R-</th><td><kbd>ESC s</kbd></td></tr>
<tr><th class="markB">GnDMm</th><td><kbd>ESC $ <i>I</i> <i>Ft</i></kbd></td>
    <th>DECAVT</th><td><kbd>ESC 4</kbd></td>
    <th>IND<sup>廃</sup></th><td><kbd>ESC D</kbd></td>
    <th>CCH</th><td><kbd>ESC T</kbd></td>
    <th>CMD</th><td><kbd>ESC d</kbd></td>
    <th>-R-</th><td><kbd>ESC t</kbd></td></tr>
<tr><th class="markB">DOCS</th><td><kbd>ESC % <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>---</th><td><kbd>ESC 5</kbd></td>
    <th>NEL</th><td><kbd>ESC E</kbd></td>
    <th>MW</th><td><kbd>ESC U</kbd></td>
    <th>-R-</th><td><kbd>ESC e</kbd></td>
    <th>-R-</th><td><kbd>ESC u</kbd></td></tr>
<tr><th class="markB">IRR</th><td><kbd>ESC &amp; <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>DECBI</th><td><kbd>ESC 6</kbd></td>
    <th>SSA</th><td><kbd>ESC F</kbd></td>
    <th>SPA</th><td><kbd>ESC V</kbd></td>
    <th>-R-</th><td><kbd>ESC f</kbd></td>
    <th>-R-</th><td><kbd>ESC v</kbd></td></tr>
<tr><th>-R-</th><td><kbd>ESC '</kbd></td><!--'-->
    <th>DECSC</th><td><kbd>ESC 7</kbd></td>
    <th>ESA</th><td><kbd>ESC G</kbd></td>
    <th>EPA</th><td><kbd>ESC W</kbd></td>
    <th>-R-</th><td><kbd>ESC g</kbd></td>
    <th>-R-</th><td><kbd>ESC w</kbd></td></tr>

<tr><th class="markB">GZD4</th><td><kbd>ESC ( <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>DECRC</th><td><kbd>ESC 8</kbd></td>
    <th>HTS</th><td><kbd>ESC H</kbd></td>
    <th>SOS</th><td><kbd>ESC X</kbd></td>
    <th>-R-</th><td><kbd>ESC h</kbd></td>
    <th>-R-</th><td><kbd>ESC x</kbd></td></tr>
<tr><th class="markB">G1D4</th><td><kbd>ESC ) <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>DECFI</th><td><kbd>ESC 9</kbd></td>
    <th>HTJ</th><td><kbd>ESC I</kbd></td>
    <th>(SGCI)</th><td><kbd>ESC Y</kbd></td>
    <th>-R-</th><td><kbd>ESC i</kbd></td>
    <th>-R-</th><td><kbd>ESC y</kbd></td></tr>
<tr><th class="markB">G2D4</th><td><kbd>ESC * <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>---</th><td><kbd>ESC :</kbd></td>
    <th>VTS</th><td><kbd>ESC J</kbd></td>
    <th>SCI<br/>DECID</th><td><kbd>ESC Z</kbd></td>
    <th>-R-</th><td><kbd>ESC j</kbd></td>
    <th>-R-</th><td><kbd>ESC z</kbd></td></tr>
<tr><th class="markB">G3D4</th><td><kbd>ESC + <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>---</th><td><kbd>ESC ;</kbd></td>
    <th>PLD</th><td><kbd>ESC K</kbd></td>
    <th class="markB">CSI</th><td><kbd>ESC [</kbd></td>
    <th>(LS1R)<br/>scrTDS</th><td><kbd>ESC k</kbd></td>
    <th>-R-</th><td><kbd>ESC {</kbd></td></tr>
<tr><th>-R-</th><td><kbd>ESC ,</kbd></td>
    <th>V5EX</th><td><kbd>ESC &lt;</kbd></td>
    <th>PLU</th><td><kbd>ESC L</kbd></td>
    <th>ST</th><td><kbd>ESC \</kbd></td>
    <th>(LS2R)</th><td><kbd>ESC l</kbd></td>
    <th>LS3R</th><td><kbd>ESC |</kbd></td></tr>
<tr><th class="markB">G1D6</th><td><kbd>ESC - <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>DECKPAM</th><td><kbd>ESC =</kbd></td>
    <th>RI</th><td><kbd>ESC M</kbd></td>
    <th class="markB">OSC</th><td><kbd>ESC ]</kbd></td>
    <th>(LS3R)</th><td><kbd>ESC m</kbd></td>
    <th>LS2R</th><td><kbd>ESC }</kbd></td></tr>
<tr><th class="markB">G2D6</th><td><kbd>ESC . <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>DECKPNM</th><td><kbd>ESC &gt;</kbd></td>
    <th>SS2</th><td><kbd>ESC N</kbd></td>
    <th class="markB">PM</th><td><kbd>ESC ^</kbd></td>
    <th>LS2</th><td><kbd>ESC n</kbd></td>
    <th>LS1R</th><td><kbd>ESC ~</kbd></td></tr>
<tr><th class="markB">G3D6</th><td><kbd>ESC / <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
    <th>---</th><td><kbd>ESC ?</kbd></td>
    <th>SS3</th><td><kbd>ESC O</kbd></td>
    <th class="markB">APC</th><td><kbd>ESC _</kbd></td>
    <th>LS3</th><td><kbd>ESC o</kbd></td>
    <th>---</th><td>-</td></tr>
</table>

<ul>
<li><kbd>ESC k</kbd>, <kbd>ESC l</kbd>, <kbd>ESC m</kbd> には昔は LS1R, LS2R, LS3R が与えられていたが、
  現在は LS1R, LS2R, LS3R はそれぞれ <kbd>ESC ~</kbd>, <kbd>ESC }</kbd>, <kbd>ESC |</kbd> を用いる。
  ただし、互換性の為に <kbd>ESC k</kbd>, <kbd>ESC l</kbd>, <kbd>ESC m</kbd> を認識する事もある。
</li>
<li>xterm のマニュアルによると HP terminals では以下の制御機能 (略号はこの文書だけで通用) が存在するが、ISO 2022 と衝突する。
  <table class="normal center">
  <tr><th>略号</th><th>符号化表現</th></tr>
  <tr><th>hpLowerLeft</th>   <td><kbd>ESC F</kbd></td></tr>
  <tr><th>hpMemoryLock</th>  <td><kbd>ESC l</kbd></td></tr>
  <tr><th>hpMemoryUnlock</th><td><kbd>ESC m</kbd></td></tr>
  </table>
</li>
<li>screen は <kbd>ESC k</kbd> をバッファーのタイトルを設定する為の私用コマンド列の開始記号 (scrTDS) に使っている。</li>
</ul>

<h4>3Ft型 登録単独制御機能</h4>
<p>[ECMA-35/6.5.2] ISO-IR (ISO International Register of Coded Character Sets) に後から登録される制御機能。</p>
<p>Note: 現在 (2016-10-13) この型の制御機能は一つも登録されていない様だ。</p>

<h4>3Fp型 私用制御機能</h4>
<p>実際の端末実装で確認できる私用制御機能を以下に挙げる。</p>
<table class="normal center">
<tr><th>略号</th>   <th>符号化表現</th><th>Hex; 行/列</th></tr>
<tr><th>DECDHL</th> <td><kbd>ESC # 3</kbd></td> <td>\x1B\x23\x33; 1/11 2/3 3/3</td></tr>
<tr><th>DECDHL</th> <td><kbd>ESC # 4</kbd></td> <td>\x1B\x23\x34; 1/11 2/3 3/4</td></tr>
<tr><th>DECSWL</th> <td><kbd>ESC # 5</kbd></td> <td>\x1B\x23\x34; 1/11 2/3 3/4</td></tr>
<tr><th>DECDWL</th> <td><kbd>ESC # 6</kbd></td> <td>\x1B\x23\x36; 1/11 2/3 3/6</td></tr>
<tr><th>DECALN</th> <td><kbd>ESC # 8</kbd></td> <td>\x1B\x23\x38; 1/11 2/3 3/8</td></tr>
</table>

<h3>制御シーケンス (control sequence)</h3>
<table class="normal center">
<tr><th>先頭</th><th>符号化表現</th><th>名前</th></tr>
<tr><th>CSI</th>
  <td><kbd>CSI <i>P</i><strong>*</strong> <i>I</i><strong>*</strong> <i>Ft</i></kbd></td>
  <td><dfn>制御シーケンス</dfn> (control sequence)</td>
</tr>
</table>
<ul>
<li><dfn class="cfunc">CSI</dfn>: CONTROL SEQUENCE INTRODUCER
  <p>[ECMA-48/8.3.16] CSI (constrol sequence introducer) で始まるシーケンスを特に
  <dfn>CSI シーケンス</dfn> (CSI sequence)
  または (本来の) <dfn>制御シーケンス</dfn> (constrol sequence) と呼ぶ。
  プログラムに端末の特別な操作・状態・情報を送ったり (入力)、
  プログラムから端末の状態を制御する命令を送ったり (出力) するのに用いられる。
  </p>
  <p>CSI は 01/11 05/11 (<kbd>ESC [</kbd>)、または 09/11 で表現される。
  [ECMA-48/5.4]
  <i class="kbd">I</i><strong>*</strong> <i class="kbd">Ft</i>
  の組合せによって、その制御シーケンスが特にどの様な機能を持った物かを指定する。
  それぞれの組合せに対応する制御シーケンスの機能は、端末に依存する所が大きい。
  特に <i class="kbd">Ft</i> = 07/00 - 07/14 のシーケンスは私用・実験用のシーケンスとして使って良い。
  <i class="kbd">P</i> は 03/00 - 03/15 の範囲の文字を表す。
  <i class="kbd">P</i><strong>*</strong> の部分は、
  引数列 (parameter bytes, parameter string) と呼ばれ、
  <i class="kbd">I</i><strong>*</strong> <i class="kbd">Ft</i> で指定された機能に対する引数として働く。
  引数列が1文字以上あるとき、
  [ECMA-48/5.4.1a] 一番初めの文字が 03/12 - 03/15 ("&lt;", "=", "&gt;", "?") のものは
  私用・実験用の引数列であり形式は規定されない。
  [ECMA-48/5.4.1a] 一番初めの文字が 03/12 - 03/11 ("0" - "9", ":", ";") の場合は、
  [ECMA-48/5.4.2] 引数列は先ず 03/11 (";") で複数の引数に分割され、
  更に引数は 03/10 (":") で複数の十進整数に分割される。
  整数を省略した場合 (つまり空文字列の場合) は制御機能ごとに決まっている既定値が使用される。
  整数の先頭についている余分な 03/00 ("0") の連続は無視される。
  もし制御機能が一定の数の引数を要求するときに最後の引数を省略した場合、
  その制御機能の既定値が使用される。
  </p>
  <p>CSI は 7 bit 表現 01/11 05/11 (<kbd>ESC [</kbd>) と 8 bit 表現 09/11 を持つが、
  8 bit のデータを許容しない処理系などのために 09/11 が用いられる事は少なく、
  専ら 01/11 05/11 が用いられることの方が多い。
  また、UTF-8 を初めとして 09/11 を通常の文字を構成するバイトとして使う文字コードがあり、
  その様な文字コードの処理系における混乱を避けるために
  09/11 の使用を控えているという面もあると思われる。
  今や 09/11 は既定では CSI として解釈しない端末も多い。
  この事情は他の全ての C1 制御文字で同様である。
  </p>
  <p>[ECMA-48/5.4]</p>
  <p>以降では説明の為に以下の記号を用いる</p>
  <ul>
  <li><i class="kbd">Pn</i>: 整数引数。大きさに意味のある基数。</li>
  <li><i class="kbd">Ps</i>: 整数引数。番号で選択肢を選ぶ序数。</li>
  <li><i class="kbd">Pm</i>: 複数の整数を 03/11 (";")で区切った物。</li>
  </ul>
</li>
</ul>

<p>この文書ではエスケープシーケンスに倣って、制御シーケンスについても <i class="kbd">I</i><strong>*</strong> <i class="kbd">Ft</i> の部分により型を定めることにする。
Ft型の制御シーケンス (中間バイト <i class="kbd">I</i><strong>*</strong> のないもの) を表にする。</p>
<table class="normal center">
<tr><th colspan="6">Ft型: 端末制御機能</th>
    <th colspan="2">Ft型: 私用制御機能</th>
    </tr>
<tr><th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th></tr>
<tr><th>ICH</th>    <td><kbd>CSI ... @</kbd></td>
    <th>DCH</th>    <td><kbd>CSI ... P</kbd></td>
    <th>HPA</th>    <td><kbd>CSI ... `</kbd></td>
    <th>DECSSL</th> <td><kbd>CSI ... p</kbd></td></tr>
<tr><th>CUU</th>    <td><kbd>CSI ... A</kbd></td>
    <th>SEE</th>    <td><kbd>CSI ... Q</kbd></td>
    <th>HPR</th>    <td><kbd>CSI ... a</kbd></td>
    <th>DECLL</th>  <td><kbd>CSI ... q</kbd></td></tr>
<tr><th>CUD</th>    <td><kbd>CSI ... B</kbd></td>
    <th>CPR</th>    <td><kbd>CSI ... R</kbd></td>
    <th>REP</th>    <td><kbd>CSI ... b</kbd></td>
    <th>DECSTBM</th><td><kbd>CSI ... r</kbd></td></tr>
<tr><th>CUF</th>    <td><kbd>CSI ... C</kbd></td>
    <th>SU</th>     <td><kbd>CSI ... S</kbd></td>
    <th>DA</th>     <td><kbd>CSI ... c</kbd></td>
    <th>SCOSC, DECSLRM</th><td><kbd>CSI ... s</kbd></td></tr>
<tr><th>CUB</th>    <td><kbd>CSI ... D</kbd></td>
    <th>SD</th>     <td><kbd>CSI ... T</kbd></td>
    <th>VPA</th>    <td><kbd>CSI ... d</kbd></td>
    <th>DECSLPP</th><td><kbd>CSI ... t</kbd></td></tr>
<tr><th>CNL</th>    <td><kbd>CSI ... E</kbd></td>
    <th>NP</th>     <td><kbd>CSI ... U</kbd></td>
    <th>VPR</th>    <td><kbd>CSI ... e</kbd></td>
    <th>SCORC, DECSHTS</th><td><kbd>CSI ... u</kbd></td></tr>
<tr><th>CPL</th>    <td><kbd>CSI ... F</kbd></td>
    <th>PP</th>     <td><kbd>CSI ... V</kbd></td>
    <th>HVP</th>    <td><kbd>CSI ... f</kbd></td>
    <th>DECSVTS</th><td><kbd>CSI ... v</kbd></td></tr>
<tr><th>CHA</th>    <td><kbd>CSI ... G</kbd></td>
    <th>CTC</th>    <td><kbd>CSI ... W</kbd></td>
    <th>TBC</th>    <td><kbd>CSI ... g</kbd></td>
    <th>---</th>    <td><kbd>CSI ... w</kbd></td></tr>
<tr><th>CUP</th>    <td><kbd>CSI ... H</kbd></td>
    <th>ECH</th>    <td><kbd>CSI ... X</kbd></td>
    <th>SM</th>     <td><kbd>CSI ... h</kbd></td>
    <th>DECREQTPARM</th><td><kbd>CSI ... x</kbd></td></tr>
<tr><th>CHT</th>    <td><kbd>CSI ... I</kbd></td>
    <th>CVT</th>    <td><kbd>CSI ... Y</kbd></td>
    <th>MC</th>     <td><kbd>CSI ... i</kbd></td>
    <th>DECTST</th> <td><kbd>CSI ... y</kbd></td></tr>
<tr><th>ED</th>     <td><kbd>CSI ... J</kbd></td>
    <th>CBT</th>    <td><kbd>CSI ... Z</kbd></td>
    <th>HPB</th>    <td><kbd>CSI ... j</kbd></td>
    <th>---</th>    <td><kbd>CSI ... z</kbd></td></tr>
<tr><th>EL</th>     <td><kbd>CSI ... K</kbd></td>
    <th>SRS</th>    <td><kbd>CSI ... [</kbd></td>
    <th>VPB</th>    <td><kbd>CSI ... k</kbd></td>
    <th>---</th>    <td><kbd>CSI ... {</kbd></td></tr>
<tr><th>IL</th>     <td><kbd>CSI ... L</kbd></td>
    <th>PTX</th>    <td><kbd>CSI ... \</kbd></td>
    <th>RM</th>     <td><kbd>CSI ... l</kbd></td>
    <th>---</th>    <td><kbd>CSI ... |</kbd></td></tr>
<tr><th>DL</th>     <td><kbd>CSI ... M</kbd></td>
    <th>SDS</th>    <td><kbd>CSI ... ]</kbd></td>
    <th>SGR</th>    <td><kbd>CSI ... m</kbd></td>
    <th>---</th>    <td><kbd>CSI ... }</kbd></td></tr>
<tr><th>EF</th>     <td><kbd>CSI ... N</kbd></td>
    <th>SIMD</th>   <td><kbd>CSI ... ^</kbd></td>
    <th>DSR</th>    <td><kbd>CSI ... n</kbd></td>
    <th>---</th>    <td><kbd>CSI ... ~</kbd></td></tr>
<tr><th>EA</th>     <td><kbd>CSI ... O</kbd></td>
    <th>---</th>    <td><kbd>CSI ... _</kbd></td>
    <th>DAQ</th>    <td><kbd>CSI ... o</kbd></td>
    <th>---</th>    <td>-</td></tr>
</table>

<p>0Ft型の制御シーケンス (中間バイト <i class="kbd">I</i><strong>*</strong> = <kbd>SP</kbd> のもの) を <i class="kbd">Ft</i> に従って表にする。</p>
<table class="normal center">
<tr><th colspan="6">0Ft型: 端末制御機能</th>
    <th colspan="2">0Ft型: 私用制御機能</th>
    </tr>
<tr><th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th></tr>
<tr><th>SL</th>     <td><kbd>CSI ... SP @</kbd></td>
    <th>PPA</th>    <td><kbd>CSI ... SP P</kbd></td>
    <th>TATE</th>   <td><kbd>CSI ... SP `</kbd></td>
    <th>DECSSCLS</th><td><kbd>CSI ... SP p</kbd></td></tr>
<tr><th>SR</th>     <td><kbd>CSI ... SP A</kbd></td>
    <th>PPR</th>    <td><kbd>CSI ... SP Q</kbd></td>
    <th>TALE</th>   <td><kbd>CSI ... SP a</kbd></td>
    <th>DECSCUSR</th><td><kbd>CSI ... SP q</kbd></td></tr>
<tr><th>GSM</th>    <td><kbd>CSI ... SP B</kbd></td>
    <th>PPB</th>    <td><kbd>CSI ... SP R</kbd></td>
    <th>TAC</th>    <td><kbd>CSI ... SP b</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP r</kbd></td></tr>
<tr><th>GSS</th>    <td><kbd>CSI ... SP C</kbd></td>
    <th>SPD</th>    <td><kbd>CSI ... SP S</kbd></td>
    <th>TCC</th>    <td><kbd>CSI ... SP c</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP s</kbd></td></tr>
<tr><th>FNT</th>    <td><kbd>CSI ... SP D</kbd></td>
    <th>DTA</th>    <td><kbd>CSI ... SP T</kbd></td>
    <th>TSR</th>    <td><kbd>CSI ... SP d</kbd></td>
    <th>DECSWBV</th><td><kbd>CSI ... SP t</kbd></td></tr>
<tr><th>TSS</th>    <td><kbd>CSI ... SP E</kbd></td>
    <th>SLH</th>    <td><kbd>CSI ... SP U</kbd></td>
    <th>SCO</th>    <td><kbd>CSI ... SP e</kbd></td>
    <th>DECSMBV</th><td><kbd>CSI ... SP u</kbd></td></tr>
<tr><th>JFY</th>    <td><kbd>CSI ... SP F</kbd></td>
    <th>SLL</th>    <td><kbd>CSI ... SP V</kbd></td>
    <th>SRCS</th>   <td><kbd>CSI ... SP f</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP v</kbd></td></tr>
<tr><th>SPL</th>    <td><kbd>CSI ... SP G</kbd></td>
    <th>FNK</th>    <td><kbd>CSI ... SP W</kbd></td>
    <th>SCS</th>    <td><kbd>CSI ... SP g</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP w</kbd></td></tr>
<tr><th>QUAD</th>   <td><kbd>CSI ... SP H</kbd></td>
    <th>SPQR</th>   <td><kbd>CSI ... SP X</kbd></td>
    <th>SLS</th>    <td><kbd>CSI ... SP h</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP x</kbd></td></tr>
<tr><th>SSU</th>    <td><kbd>CSI ... SP I</kbd></td>
    <th>SEF</th>    <td><kbd>CSI ... SP Y</kbd></td>
    <th>SPH</th>    <td><kbd>CSI ... SP i</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP y</kbd></td></tr>
<tr><th>PFS</th>    <td><kbd>CSI ... SP J</kbd></td>
    <th>PEC</th>    <td><kbd>CSI ... SP Z</kbd></td>
    <th>SPL</th>    <td><kbd>CSI ... SP j</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP z</kbd></td></tr>
<tr><th>SHS</th>    <td><kbd>CSI ... SP K</kbd></td>
    <th>SSW</th>    <td><kbd>CSI ... SP [</kbd></td>
    <th>SCP</th>    <td><kbd>CSI ... SP k</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP {</kbd></td></tr>
<tr><th>SVS</th>    <td><kbd>CSI ... SP L</kbd></td>
    <th>SACS</th>   <td><kbd>CSI ... SP \</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP l</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP |</kbd></td></tr>
<tr><th>IGS</th>    <td><kbd>CSI ... SP M</kbd></td>
    <th>SAPV</th>   <td><kbd>CSI ... SP ]</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP m</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP }</kbd></td></tr>
<tr><th>HTSA<sup>廃</sup></th><td><kbd>CSI ... SP N</kbd></td>
    <th>STAB</th>   <td><kbd>CSI ... SP ^</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP n</kbd></td>
    <th>DECTME</th> <td><kbd>CSI ... SP ~</kbd></td></tr>
<tr><th>IDCS</th>   <td><kbd>CSI ... SP O</kbd></td>
    <th>GCC</th>    <td><kbd>CSI ... SP _</kbd></td>
    <th>---</th>    <td><kbd>CSI ... SP o</kbd></td>
    <th>---</th>    <td>-</td></tr>
</table>

<p>その他の nFt 型の私用制御機能を以下にまとめる。</p>
<table class="normal center contra-cell-centered">
<tr><th></th><th colspan="11">nFt型: 私用制御機能</th>
    </tr>
<tr><th></th>
    <th>1Ft <kbd>!</kbd></th>
    <th>2Ft <kbd>"</kbd></th><!--"-->
    <th>3Ft <kbd>#</kbd></th>
    <th>4Ft <kbd>$</kbd></th>
    <th>6Ft <kbd>&amp;</kbd></th>
    <th>7Ft <kbd>'</kbd></th><!--'-->
    <th>9Ft <kbd>)</kbd></th>
    <th>10Ft <kbd>*</kbd></th>
    <th>11Ft <kbd>+</kbd></th>
    <th>12Ft <kbd>,</kbd></th>
    <th>13Ft <kbd>-</kbd></th></tr>
<tr><th><kbd>p</kbd></th>
    <td>DECSTR</td>
    <td>DECSCL</td>
    <td>XTPUSHSGR</td>
    <td>DECRQM <!-- CSI ? ... $ p DECRQMH (RLogin による名称) --></td>
    <td>---</td>
    <td>---</td>
    <td>DECSDPT</td>
    <td>DECSPPCS</td>
    <td>DECSR</td>
    <td>DECLTOD</td>
    <td>DECARR</td>
    </tr>
<tr><th><kbd>q</kbd></th>
    <td>---</td>
    <td>DECSCA</td>
    <td>XTPOPSGR</td>
    <td>DECSDDT</td>
    <td>DECSNC</td>
    <td>DECSBCA</td>
    <td>---</td>
    <td>DECSRC</td>
    <td>DECELF</td>
    <td>DECTID</td>
    <td>DECCRTST</td>
    </tr>
<tr><th><kbd>r</kbd></th>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>DECCARA</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>DECSCS</td>
    <td>DECSMKR</td>
    <td>---</td>
    <td>DECSEST</td>
    </tr>
<tr><th><kbd>s</kbd></th>
    <td>DECFIL</td>
    <td>DECPWA</td>
    <td>---</td>
    <td>DECSPRTT</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>DECSFC</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    </tr>
<tr><th><kbd>t</kbd></th>
    <td>---</td>
    <td>DECSRFR</td>
    <td>---</td>
    <td>DECRARA</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    </tr>
<tr><th><kbd>u</kbd></th>
    <td>---</td>
    <td>DECSTRL</td>
    <td>---</td>
    <td>DECRQTSR</td>
    <td>DECRQUPSS</td>
    <td>---</td>
    <td>---</td>
    <td>DECSCP</td>
    <td>---</td>
    <td>DECRQKT</td>
    <td>---</td>
    </tr>
<tr><th><kbd>v</kbd></th>
    <td>DECASFC</td>
    <td>DECRQDE</td>
    <td>---</td>
    <td>DECCRA</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>DECMM</td>
    <td>DECRPKT</td>
    <td>---</td>
    </tr>
<tr><th><kbd>w</kbd></th>
    <td>DECUND</td>
    <td>DECRPDE</td>
    <td>---</td>
    <td>DECRQPSR</td>
    <td>---</td>
    <td>DECEFR</td>
    <td>---</td>
    <td>---</td>
    <td>DECSPP</td>
    <td>DECRQKD</td>
    <td>---</td>
    </tr>
<tr><th><kbd>x</kbd></th>
    <td>DECPTS</td>
    <td>---</td>
    <td>---</td>
    <td>DECFRA</td>
    <td>DECES</td>
    <td>---</td>
    <td>---</td>
    <td>DECSACE</td>
    <td>DECRQPKFM<!-- RLogin では DECPQPLFM と呼んでいる --></td>
    <td>DECSPMA</td>
    <td>---</td>
    </tr>
<tr><th><kbd>y</kbd></th>
    <td>DECSS</td>
    <td>---</td>
    <td>---</td>
    <td>DECRPM</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>DECRQCRA</td>
    <td>DECPKFMR</td>
    <td>DECUS</td>
    <td>---</td>
    </tr>
<tr><th><kbd>z</kbd></th>
    <td>---</td>
    <td>DECDEN</td>
    <td>---</td>
    <td>DECERA</td>
    <td>---</td>
    <td>DECELR</td>
    <td>---</td>
    <td>DECINVM</td>
    <td>DECPKA</td>
    <td>DECDLDA</td>
    <td>---</td>
    </tr>
<tr><th><kbd>{</kbd></th>
    <td>---</td>
    <td>---</td>
    <td>XTPUSHSGR</td>
    <td>DECSERA</td>
    <td>---</td>
    <td>DECSLE</td>
    <td>DECSTGLT</td>
    <td>DECMSR<br />DSR-MSR</td>
    <td>---</td>
    <td>DECSZS</td>
    <td>---</td>
    </tr>
<tr><th><kbd>|</kbd></th>
    <td>DECVEC</td>
    <td>---</td>
    <td>---</td>
    <td>DECSCPP</td>
    <td>---</td>
    <td>DECRQLP</td>
    <td>---</td>
    <td>DECSNLS</td>
    <td>---</td>
    <td>DECAC</td>
    <td>---</td>
    </tr>
<tr><th><kbd>}</kbd></th>
    <td>DECFIN</td>
    <td>---</td>
    <td>XTPOPSGR</td>
    <td>DECSASD</td>
    <td>---</td>
    <td>DECIC</td>
    <td>---</td>
    <td>DECLFKC</td>
    <td>---</td>
    <td>DECATC</td>
    <td>---</td>
    </tr>
<tr><th><kbd>~</kbd></th>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>DECSSDT</td>
    <td>---</td>
    <td>DECDC</td>
    <td>---</td>
    <td>---</td>
    <td>---</td>
    <td>DECPS</td>
    <td>---</td>
    </tr>
</table>

<p>パラメータの先頭に <kbd>&lt;</kbd>, <kbd>=</kbd>, <kbd>&gt;</kbd>, <kbd>?</kbd> を含む私用シーケンス。</p>
<table class="normal center">
<caption>[*1 RLogin/mlterm による命名]</caption>
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>DA2</th> <td><kbd>CSI &gt; <i>Ps</i> c</kbd></td></tr>
<tr><th>DA3</th> <td><kbd>CSI = <i>Ps</i> c</kbd></td></tr>
<tr><th>XTERM_SET_MOD_FKEYS  (XTMDKEY<sup>*1</sup>)</th><td><kbd>CSI &gt; <i>Ps1</i> ; <i>Ps2</i> m</kbd></td></tr>
<tr><th>XTERM_SET_MOD_FKEYS0 (XTMDKEYD<sup>*1</sup>)</th><td><kbd>CSI &gt; <i>Ps1</i> n</kbd>             </td></tr>
<tr><th>XTCOLREG<sup>*1</sup></th> <td><kbd>CSI &gt; <i>Ps</i> S</kbd></td></tr>
<tr><th>XTSMTT<sup>*1</sup></th> <td><kbd>CSI &gt; <i>Ps</i> t</kbd></td></tr>
<tr><th>XTRMTT<sup>*1</sup></th> <td><kbd>CSI &gt; <i>Ps</i> T</kbd></td></tr>
<tr><th>XTHDPT<sup>*1</sup></th> <td><kbd>CSI &gt; <i>Ps</i> p</kbd></td></tr>
<tr><th>DECSET</th> <td><kbd>CSI ? <i>Pm</i> h</kbd></td></tr>
<tr><th>DECRST</th> <td><kbd>CSI ? <i>Pm</i> l</kbd></td></tr>
<tr><th>DECRQM</th> <td><kbd>CSI ? <i>Ps</i> $ p</kbd></td></tr>
<tr><th>DECRPM</th> <td><kbd>CSI ? <i>Ps</i> ; <i>Ps</i> $ y</kbd></td></tr>
<tr><th>DECSED</th><td><kbd>CSI ? <i>Ps</i> J</kbd></td></tr>
<tr><th>DECSEL</th><td><kbd>CSI ? <i>Ps</i> K</kbd></td></tr>
<tr><th>XTREST<sup>*</sup></th> <td><kbd>CSI ? <i>Pm</i> r</kbd></td></tr>
<tr><th>XTSAVE<sup>*</sup></th> <td><kbd>CSI ? <i>Pm</i> s</kbd></td></tr>
<tr><th>DECMC (MC)</th>  <td><kbd>CSI ? <i>Pm</i> i</kbd></td></tr>
<tr><th>DECDSR (DSR)</th> <td><kbd>CSI ? <i>Ps</i> n</kbd></td></tr>
<tr><th>TTIMEST</th><td><kbd>CSI &lt; <i>Ps</i> t</kbd></td></tr>
<tr><th>TTIMESV</th><td><kbd>CSI &lt; <i>Ps</i> s</kbd></td></tr>
<tr><th>TTIMERS</th><td><kbd>CSI &lt; <i>Ps</i> r</kbd></td></tr>
<tr><th>RLIMGCP</th><td><kbd>CSI &lt; <i>Ps</i> ! i</kbd></td></tr>
<tr><th>RLCURCOL</th><td><kbd>CSI &lt; <i>Ps</i> ! q</kbd></td></tr>
</table>

<pre>
# 各端末の対応制御機能

2020-02-28 mintty (termout.c), RLogin (TextRamProc.cpp), tmux (input.c), screen (ansi.c)

# Ft型 CSI シーケンス (ANSI/Private)

|         |@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmno|pqrstuvwxyz{|}~|
|---------|------------------------------------------------|---------------|
| ECMA-48 |************************************************|               |
|---------|------------------------------------------------|---------------|
| RLogin  |*****************  ********     ****************|******* **     |
| screen  |**************  *  **   * *   s *  ** ****  *** |* ****  *      | CSI ^ で SD を実装している?
| tmux    |********* ****  *  **   * *     * *** ***   *** |  ****         |
| contra  |********* ****  *  **   *  * ** ** **** * ****  |  ** *         |
| mintty  |**************  *  **   * *     **********  *** | *****  *      |

# 0Ft型 CSI シーケンス (ANSI/Private)

tmux=screen

|         |◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦◦|◦◦◦◦◦| ◦=SP<!--"'-->
|         |@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijk|pqtu~|
|---------|--------------------------------------------|-----|
| ECMA-48 |********************************************|     |
|---------|--------------------------------------------|-----|
| RLogin  |**  *           ***                         | *  *|
| screen  |                                            | *   |
| contra  |**                 * **              *   ***| *   |
| mintty  |**                 *                       *| *   |

# nFt型私用 CSI シーケンス

screen=none tmux=none

|        |!!!!!!!!|""""""""|#####|$$$$$$$$$$$$$$$|&&&|'''''''|))|***********|+++++++|,,,,,,,,,,,|---| <!--"'-->
|        |psvwxy|}|pqstuvwz|pqt{}|pqrstuvwxyz{|}~|qux|qwz{|}~|p{|pqrsuxyz{|}|pqrvwxz|pqvwxyz{|}~|pqr|
|--------|--------|--------|-----|---------------|---|-------|--|-----------|-------|-----------|---|
| RLogin |*       |**   *  |     |* * ***** *****| * | ******| *|     ***   |*    * | *      ***|   |
| contra |        |**      |     |*           *  |   |       |  |           |       |           |   |
| mintty |*       | *      |*****|* *   *** ***  |   | ******|  |     **  * |       |           |   |

# 私用パラメータ CSI シーケンス

tmux=screen

|        |<<<<<|=========|>>>>>>>|????????????|
|        |   !!|         |       |           $|
|        |rstiq|ABCFGHIsc|STcmnpt|JKSWchilnrsp|
|--------|-----|---------|-------|------------|
| RLogin |*****|   **  **| ******|**** *******|
| screen |     |         |  *    |     * *    |
| contra |     |         |  ***  |     * *   *|
| mintty |***  |         |  **** |**  ******* |
</pre>

<h3>制御列 (control string)</h3>
<table class="normal center">
<tr><th>開始</th><th>種類</th><th>符号化表現</th><th>名前</th></tr>
<tr><th>OSC</th><td>コマンド列</td>
  <td><kbd>OSC <i>N</i><strong>*</strong> ; <i>GL'</i><strong>*</strong> BEL</kbd><br/>
  <kbd>OSC <i>N</i><strong>*</strong> ; <i>GL'</i><strong>*</strong> ST</kbd>
  </td>
  <td>Operating System Command</td>
</tr>
<tr><th>DCS</th>   <td>コマンド列</td>   <td><kbd>DCS <i>GL'</i><strong>*</strong> ST</kbd></td><td>Device Control String</td></tr>
<tr><th>SOS</th>   <td>キャラクタ列</td> <td><kbd>SOS <i>U</i><strong>*</strong> ST</kbd></td> <td>Start of String</td></tr>
<tr><th>PM</th>    <td>コマンド列</td>   <td><kbd>PM <i>GL'</i><strong>*</strong> ST</kbd></td> <td>Privacy Message</td></tr>
<tr><th>APC</th>   <td>コマンド列</td>   <td><kbd>APC <i>GL'</i><strong>*</strong> ST</kbd></td><td>Application Program Command</td></tr><!--'-->
<tr><th>scrTDS</th><td>キャラクタ列?</td><td><kbd>ESC k <i>U</i><strong>*</strong> ST</kbd></td> <td>Title Definition String (GNU Screen)</td></tr>
</table>

<ul>
<li>制御列
  <p>[ECMA-48/5.6]
  或る文字で始まって ST で終わるシーケンスを総称して<dfn>制御列</dfn> (control strings)と呼ぶ。
  その形式によって指令列と文字列に分類される。</p>
  <p><dfn>コマンド列</dfn> (command strings, 指令列) は ST (01/11 05/12 または 09/12) で終わり、
  間には 00/08-00/13 (BS, HT, LF, VT, FF, CR), 02/00-07/14 (7 bit 図形文字) の文字を任意の数含む。
  特に DCS, OSC, PM, APC で始まるコマンド列が規格で定められている。
  </p>
  <p><dfn>キャラクタ列</dfn> (character strings, 文字列) は ST で終わり、
  間には SOS および ST を表すバイト列以外の任意のバイト列を含む。
  特に SOS で始まるシーケンスが規格で定められている。
  </p>
</li>
<li><dfn class="cfunc">ST</dfn>: STRING TERMINATOR
  <p>[ECMA-48/8.3.143] APC, DCS, OSC, PM, SOS で始まった制御列の終端として用いられる。</p>
</li>
<li><dfn class="cfunc">OSC</dfn>: OPERATING SYSTEM COMMAND
  <p>[ECMA-48/8.3.89]
  OSC (operating system command) で始まるシーケンスは、
  <dfn>OSC シーケンス</dfn> (OSC sequence)
  または <dfn>OS コマンド</dfn> (operating system command) と呼ばれる。
  用途は使用している OS に依存して定められる。
  主に端末のウィンドウの制御 (出力)・状態報告 (入力) などに用いられる。
  </p>
  <p>OSC シーケンスはコマンド列の形式に従う。
  OSC は 01/11 05/13 (<kbd>ESC ]</kbd>) または 09/13 で表現される。
  ECMA-48 ではそれ以上は定められていないが、実際の実装では一番最初に数字の引数を取ることが多い。
  <i class="kbd">N</i> は [0-9] の文字を表す。
  <i class="kbd">N</i><strong>*</strong> はコマンドの種類を指定する番号である。
  後に続く <strong>.*</strong> の部分は、コマンドの引数として与える文字列である。
  本来 ST で終端するはずだが BEL で終端することもある。
  </p>
</li>
<li><dfn class="cfunc">DCS</dfn>: DEVICE CONTROL STRING
  <p>[ECMA-48/8.3.27]
  DCS で始まるシーケンスは <dfn>DCS シーケンス</dfn> (DCS sequence)
  または Device Control String と呼ばれる。
  受信装置へのコマンド、送信装置からの返答に用いることを意図している。
  規格では IDCS の返答に用いる形式が定められている。
  その他の形式は受信装置・送信装置の間で取り決めて利用する。
  </p>
  <p>DCS シーケンスはコマンド列の形式に従う。
  DCS は 01/11 05/00 (<kbd>ESC P</kbd>) または 09/00 で表現される。
  </p>
</li>
<li><dfn class="cfunc">SOS</dfn>: START OF STRING
  <p>[ECMA-48/8.3.128]
  SOS で始まるシーケンスは <dfn>SOS シーケンス</dfn> (SOS sequence) と呼ばれる。
  解釈はアプリケーションに依存する。
  </p>
  <p>SOS シーケンスはキャラクタ列の形式に従う。
  SOS は 01/11 05/08 (<kbd>ESC X</kbd>) または 09/08 で表現される。
  </p>
</li>
<li><dfn class="cfunc">PM</dfn>: PRIVACY MESSAGE
  <p>[ECMA-48/8.3.94]
  PM で始まるシーケンスは <dfn>PM シーケンス</dfn> (PM sequence)
  または 私用メッセージ (privacy message) と呼ばれる。
  用途は私的な取り決めに従う。
  </p>
  <p>PM シーケンスはコマンド列の形式に従う。
  PM は 01/11 05/14 (<kbd>ESC ^</kbd>) または 09/14 で表現される。
  </p>
</li>
<li><dfn class="cfunc">APC</dfn>: APPLICATION PROGRAM COMMAND
  <p>[ECMA-48/8.3.2]
  APC で始まるシーケンスは <dfn>APC シーケンス</dfn> (APC sequence)
  または アプリケーションプログラムコマンド (application program command) と呼ばれる。
  用途は関連するアプリケーションプログラムの間で取り決める。
  </p>
  <p>APC シーケンスはコマンド列の形式に従う。
  APC は 01/11 05/15 (<kbd>ESC _</kbd>) または 09/15 で表現される。
  </p>
</li>
<li><dfn class="cfunc">scrTDS</dfn>: Title Definition String
  <p>GNU screen でバッファのタイトルを設定するのに使われるキャラクタ列。
  ST で終端する (BEL では終端しない)。
  </p>
</li>
</ul>

<div class="note">
未整理の DCS シーケンス
<table class="normal">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><td>DECUDK   </td><td><kbd>DCS |   ... ST</kbd></td></tr>
<tr><td>DECRQSS  </td><td><kbd>DCS $ q ... ST</kbd></td></tr>
<tr><td>DECRPSS  </td><td><kbd>DCS $ r ... ST</kbd></td></tr>
<tr><td>DECRSPS  </td><td><kbd>DCS $ t ... ST</kbd></td></tr>
<tr><td>XTSETTCAP</td><td><kbd>DCS + p ... ST</kbd></td></tr>
<tr><td>XTGETTCAP</td><td><kbd>DCS + q ... ST</kbd></td></tr>
<tr><td>XTGETXRES</td><td><kbd>DCS + Q ... ST</kbd></td></tr>
</table>

</div>

<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<h2>モード</h2>
<p>モードは端末の動作方法を指定する2値の変数である。
  モードを操作する制御機能には以下のものがある。
</p>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th><th>備考</th></tr>
<tr><th>SM</th>     <td><kbd>CSI <i>Pm</i> h</kbd></td><td></td></tr>
<tr><th>DECSET</th> <td><kbd>CSI ? <i>Pm</i> h</kbd></td><td></td></tr>
<tr><th>RM</th>     <td><kbd>CSI <i>Pm</i> l</kbd></td><td></td></tr>
<tr><th>DECRST</th> <td><kbd>CSI ? <i>Pm</i> l</kbd></td><td></td></tr>
<tr><th>DECRQM</th> <td><kbd>CSI <i>Ps</i> $ p</kbd><br/><kbd>CSI ? <i>Ps</i> $ p</kbd></td><td></td></tr>
<tr><th>DECRPM</th> <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> $ y</kbd><br/><kbd>CSI ? <i>Ps</i> ; <i>Ps</i> $ y</kbd></td><td>(応答)</td></tr>
</table>
<ul>
<li><dfn class="cfunc">SM</dfn>: SET MODE <kbd>CSI <i>Pm</i> h</kbd>
  <p>番号で指定されたモードを有効にする。</p>
  <ul>
  <li>互換性: [ECMA-48/8.3.125], vt100, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/SM">VT510: SM</a></li>
  </ul>
</li>
<li><dfn class="cfunc">RM</dfn>: RESET MODE <kbd>CSI <i>Pm</i> l</kbd>
  <p>番号で指定されたモードを無効にする。</p>
  <ul>
  <li>互換性: [ECMA-48/8.3.106], vt100, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/RM">VT510: RM</a></li>
  </ul>
</li>
<li>Note: [ECMA-48 SM, RM] によれば
  [ECMA-48/5.4.1] 私用引数列 (parameter strings for private use)
  を用いて private モードを実装しても良い。
  例えば以下の DECSET, DECRST は ? で始まる引数による SM, RM の private モードである。
</li>
<li><dfn class="cfunc">DECSET</dfn>: Set DEC Mode <kbd>CSI ? <i>Pm</i> h</kbd>
  <ul>
  <li>互換性: vt100, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/SM">VT510: SM</a></li>
  </ul>
</li>
<li><dfn class="cfunc">DECRST</dfn>: Reset DEC Mode <kbd>CSI ? <i>Pm</i> l</kbd>
  <ul>
  <li>互換性: vt100, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/RM">VT510: RM</a></li>
  </ul>
</li>
<li><dfn class="cfunc">DECRQM</dfn>: Request Mode
  <kbd>CSI <i>Ps</i> $ p</kbd>, <kbd>CSI ? <i>Ps</i> $ p</kbd></li>
<li><dfn class="cfunc">DECRPM</dfn>: Report Mode (応答)
  <kbd>CSI <i>Ps</i> ; <i>Ps</i> $ y</kbd>, <kbd>CSI ? <i>Ps</i> ; <i>Ps</i> $ y</kbd>
  <p>DECRQM で現在の状態を問い合わせる。
    一度に一つのモードについてのみ尋ねる事が可能である。
    端末から DECRPM によって現在の状態を応答する。
    第一引数にはモードの番号を返し、第二引数に状態を返す。
  </p>
  <table class="normal center">
  <tr><th>第2引数</th><th>意味</th></tr>
  <tr><td>0</td><td>認識できないモード</td></tr>
  <tr><td>1</td><td>SM</td></tr>
  <tr><td>2</td><td>RM</td></tr>
  <tr><td>3</td><td>SM (固定)</td></tr>
  <tr><td>4</td><td>RM (固定)</td></tr>
  </table>
  <ul>
  <li>互換性: vt420 <a href="http://www.vt100.net/docs/vt510-rm/DECRQM">VT510: DECRQM</a> <a href="http://www.vt100.net/docs/vt510-rm/DECRPM">VT510: DECRPM</a></li>
  </ul>
</li>
</ul>

<h3>ANSI Modes</h3>

<table class="normal center">
<caption>表: ANSI モード</caption>
<tr><th>略号</th><th>Mode</th><th>略号</th><th>Mode</th><th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th><th>略号</th><th>Mode</th></tr>
<tr><th>GATM                    </th><td>1 </td><th>PUM<sup>非推奨</sup></th>     <td>11</td>  <th>GRCM</th>                <td>21</td>
    <th>WYSTLINM<sup>違反</sup> </th><td>31</td><th>-</th><td>-</td></tr>
<tr><th>KAM                     </th><td>2 </td><th>SRM</th>                      <td>12</td>  <th>ZDM<sup>非推奨</sup></th><td>22</td>
    <th>WYCRTSAVM<sup>違反</sup></th><td>32</td><th>WYASCII<sup>違反</sup></th><td>42</td></tr>
<tr><th>CRM                     </th><td>3 </td><th>FEAM</th>                     <td>13</td>  <th>-</th><td>23</td>
    <th>WYSTCURM<sup>違反</sup> </th><td>33</td><th>-</th><td>-</td></tr>
<tr><th>IRM                     </th><td>4 </td><th>FETM</th>                     <td>14</td>  <th>-</th><td>24</td>
    <th>WYULCURM<sup>違反</sup> </th><td>34</td><th>-</th><td>-</td></tr>
<tr><th>SRTM                    </th><td>5 </td><th>MATM</th>                     <td>15</td>  <th>-</th><td>25</td>
    <th>WYCLRM<sup>違反</sup>   </th><td>35</td><th>-</th><td>-</td></tr>
<tr><th>ERM                     </th><td>6 </td><th>TTM</th>                      <td>16</td>  <th>-</th><td>26</td>
    <th>WYDELKM<sup>違反</sup>  </th><td>36</td><th>-</th><td>-</td></tr>
<tr><th>VEM                     </th><td>7 </td><th>SATM</th>                     <td>17</td>  <th>-</th><td>27</td>
    <th>WYGATM<sup>違反</sup>   </th><td>37</td><th>-</th><td>-</td></tr>
<tr><th>BDSM                    </th><td>8 </td><th>TSM</th>                      <td>18</td>  <th>-</th><td>28</td>
    <th>WYTEXM<sup>違反</sup>   </th><td>38</td><th>-</th><td>-</td></tr>
<tr><th>DCSM                    </th><td>9 </td><th>EBM<sup>廃</sup></th>         <td>19</td>  <th>-</th><td>29</td>
    <th>-                       </th><td>- </td><th>-</th><td>-</td></tr>
<tr><th>HEM                     </th><td>10</td><th>LF/NL<sup>廃</sup> (LNM)</th> <td>20</td>  <th>WYDSCM<sup>違反</sup></th><td>30</td>
    <th>WYEXTDM<sup>違反</sup>  </th><td>40</td><th>-</th><td>-</td></tr>
</table>

<h3>DEC Modes (?1-?120)</h3>

<table class="normal center">
<caption>表: DECモード (1-40)</caption>
<tr><th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th></tr>
<tr><th>DECCKM</th><td>?1</td>
    <th>-</th><td>?11</td>
    <th>-</th><td>?21</td>
    <th>-</th><td>?31</td></tr>
<tr><th>DECANM</th><td>?2</td>
    <th>ATT610_BLINK</th><td>?12</td>
    <th>-</th><td>?22</td>
    <th>-</th><td>?32</td></tr>
<tr><th>DECCOLM</th><td>?3</td>
    <th>DECSCFDM<sup>*</sup><br/>XTERM_CURSOR_BLINK_OPS</th><td>?13</td>
    <th>-</th><td>?23</td>
    <th>-</th><td>?33</td></tr>
<tr><th>DECSCLM</th><td>?4</td>
    <th>DECTEM<sup>*</sup><br/>XTERM_XOR_CURSOR_BLINKS</th><td>?14</td>
    <th>laPrintDensity<sup>*</sup></th><td>?24</td>
    <th>DECRLM</th><td>?34</td></tr>
<tr><th>DECSCNM</th><td>?5</td>
    <th>-</th><td>?15</td>
    <th>DECTCEM</th><td>?25</td>
    <th>DECHEBM<br/>RXVT_ShiftKeys</th><td>?35</td></tr>
<tr><th>DECOM</th><td>?6</td>
    <th>DECEKEM<sup>*</sup></th><td>?16</td>
    <th>-</th><td>?26</td>
    <th>DECHEM</th><td>?36</td></tr>
<tr><th>DECAWM</th><td>?7</td>
    <th>-</th><td>?17</td>
    <th>DECPSP<sup>*</sup></th><td>?27</td>
    <th>-</th><td>?37</td></tr>
<tr><th>DECARM</th><td>?8</td>
    <th>DECPFF</th><td>?18</td>
    <th>-</th><td>?28</td>
    <th>DECTEK</th><td>?38</td></tr>
<tr><th>DECINLM<br/>XTERM_X10_MOUSE</th><td>?9</td>
    <th>DECPEX</th><td>?19</td>
    <th>DECPSM<sup>*</sup></th><td>?29</td>
    <th>-</th><td>?39</td></tr>
<tr><th>RXVT_menuBar</th><td>?10</td>
    <th>-</th><td>?20</td>
    <th>RXVT_scrollBar</th><td>?30</td>
    <th>DECCRNLM<sup>*</sup><br/>XTERM_132COLS</th><td>?40</td></tr>
</table>
<ul>
<li>Note: <sup>*</sup> を付した物はは all-espaces.txt にあった物で初期の VT シリーズの古いモードと思われる。</li>
<li>?38 は rlogin に記述があった。</li>
</ul>

<table class="normal center">
<caption>表: DECモード (41-80)</caption>
<tr><th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th></tr>
<tr><th>laPrintDirection<sup>*</sup><br/>XTERM_CURSES_HACK</th><td>?41</td>
    <th>DECBWRM<sup>*</sup></th><td>?51</td>
    <th>DECVCCM</th><td>?61</td>
    <th>-</th><td>?71</td></tr>
<tr><th>DECNRCM</th><td>?42</td>
    <th>DECOPM<sup>*</sup></th><td>?52</td>
    <th>-</th><td>?62</td>
    <th>-</th><td>?72</td></tr>
<tr><th>DECGEPM<sup>*</sup></th><td>?43</td>
    <th>-</th><td>?53</td>
    <th>-</th><td>?63</td>
    <th>DECXRLMM</th><td>?73</td></tr>
<tr><th>DECGPCM<sup>*</sup><br/>XTERM_MARGIN_BELL</th><td>?44</td>
    <th>-</th><td>?54</td>
    <th>DECPCCM</th><td>?64</td>
    <th>-</th><td>?74</td></tr>
<tr><th>DECGPCS<sup>*</sup><br/>XTERM_REVERSEWRAP</th><td>?45</td>
    <th>DECBPM<sup>*</sup></th><td>?55</td>
    <th>-</th><td>?65</td>
    <th>-</th><td>?75</td></tr>
<tr><th>DECGPBM<sup>*</sup><br/>XTERM_ALLOWLOGGING</th><td>?46</td>
    <th>-</th><td>?56</td>
    <th>DECNKM</th><td>?66</td>
    <th>-</th><td>?76</td></tr>
<tr><th>DECGRPM<sup>*</sup><br/>XTERM_ALTBUF</th><td>?47</td>
    <th>DECNAKB</th><td>?57</td>
    <th>DECBKM</th><td>?67</td>
    <th>-</th><td>?77</td></tr>
<tr><th>-</th><td>?48</td>
    <th>-</th><td>?58</td>
    <th>DECKBUM</th><td>?68</td>
    <th>-</th><td>?78</td></tr>
<tr><th>-</th><td>?49</td>
    <th>DECKDM<sup>*</sup></th><td>?59</td>
    <th>DECLRMM (DECVSSM)</th><td>?69</td>
    <th>-</th><td>?79</td></tr>
<tr><th>-</th><td>?50</td>
    <th>DECHCCM</th><td>?60</td>
    <th>-</th><td>?70</td>
    <th>DECSDM</th><td>?80</td></tr>
</table>
<ul>
<li>?80 DECSDM は rlogin に記述があった。</li>
</ul>

<table class="normal center">
<caption>表: DECモード (81-120)</caption>
<tr><th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th>
    <th>略号</th><th>Mode</th></tr>
<tr><th>DECKPM</th><td>?81</td>
    <th>-</th><td>?91</td>
    <th>DECCANSM</th><td>?101</td>
    <th>DECFWM</th><td>?111</td></tr>
<tr><th>-</th><td>?82</td>
    <th>-</th><td>?92</td>
    <th>DECNULM</th><td>?102</td>
    <th>DECRPL</th><td>?112</td></tr>
<tr><th>-</th><td>?83</td>
    <th>-</th><td>?93</td>
    <th>DECHDPXM</th><td>?103</td>
    <th>DECHWUM</th><td>?113</td></tr>
<tr><th>-</th><td>?84</td>
    <th>-</th><td>?94</td>
    <th>DECESKM</th><td>?104</td>
    <th>DECATCUM</th><td>?114</td></tr>
<tr><th>-</th><td>?85</td>
    <th>DECNCSM</th><td>?95</td>
    <th>-</th><td>?105</td>
    <th>DECATCBM</th><td>?115</td></tr>
<tr><th>-</th><td>?86</td>
    <th>DECRLCM</th><td>?96</td>
    <th>DECOSCNM</th><td>?106</td>
    <th>DECBBSM</th><td>?116</td></tr>
<tr><th>-</th><td>?87</td>
    <th>DECCRTSM</th><td>?97</td>
    <th>-</th><td>?107</td>
    <th>DECECM</th><td>?117</td></tr>
<tr><th>-</th><td>?88</td>
    <th>DECARSM</th><td>?98</td>
    <th>DECNUMLK</th><td>?108</td>
    <th>-</th><td>?118</td></tr>
<tr><th>-</th><td>?89</td>
    <th>DECMCM</th><td>?99</td>
    <th>DECCAPSLK</th><td>?109</td>
    <th>-</th><td>?119</td></tr>
<tr><th>-</th><td>?90</td>
    <th>DECAAM</th><td>?100</td>
    <th>DECKLHIM</th><td>?110</td>
    <th>-</th><td>?120</td></tr>
</table>

<h3>XTerm Modes (?10xx, ?20xx)</h3>
<table class="normal center">
<caption>表: XTerm モード (xterm/{ptyx,xcharmouse}.h より)</caption>
<tr><th>略号</th><th>番号</th><th>略号</th><th>番号</th></tr>
<tr><th>XTERM_VT200_MOUSE            </th><td>?1000</td><th>XTERM_KEEP_CLIPBOARD         </th><td>?1044</td></tr>
<tr><th>XTERM_VT200_HIGHLIGHT_MOUSE  </th><td>?1001</td><th>XTERM_ALLOW_ALTBUF           </th><td>?1046</td></tr>
<tr><th>XTERM_BTN_EVENT_MOUSE        </th><td>?1002</td><th>XTERM_OPT_ALTBUF             </th><td>?1047</td></tr>
<tr><th>XTERM_ANY_EVENT_MOUSE        </th><td>?1003</td><th>XTERM_SAVE_CURSOR            </th><td>?1048</td></tr>
<tr><th>XTERM_FOCUS_EVENT_MOUSE      </th><td>?1004</td><th>XTERM_OPT_ALTBUF_CURSOR      </th><td>?1049</td></tr>
<tr><th>XTERM_EXT_MODE_MOUSE         </th><td>?1005</td><th>XTERM_TCAP_FKEYS             </th><td>?1050</td></tr>
<tr><th>XTERM_SGR_EXT_MODE_MOUSE     </th><td>?1006</td><th>XTERM_SUN_FKEYS              </th><td>?1051</td></tr>
<tr><th>XTERM_ALTERNATE_SCROLL       </th><td>?1007</td><th>XTERM_HP_FKEYS               </th><td>?1052</td></tr>
<tr><th>RXVT_TtyOutputInh            </th><td>?1010</td><th>XTERM_SCO_FKEYS              </th><td>?1053</td></tr>
<tr><th>RXVT_Keypress                </th><td>?1011</td><th>XTERM_LEGACY_FKEYS           </th><td>?1060</td></tr>
<tr><th>URXVT_ExtMouseRight          </th><td>?1015</td><th>XTERM_VT220_FKEYS            </th><td>?1061</td></tr>
<tr><th>XTERM_EIGHT_BIT_META         </th><td>?1034</td><th>XTERM_PRIVATE_COLOR_REGISTERS</th><td>?1070</td></tr>
<tr><th>XTERM_REAL_NUMLOCK           </th><td>?1035</td><th>XTERM_BUTTON1_MOVE_POINT     </th><td>?2001</td></tr>
<tr><th>XTERM_META_SENDS_ESC         </th><td>?1036</td><th>XTERM_BUTTON2_MOVE_POINT     </th><td>?2002</td></tr>
<tr><th>XTERM_DELETE_IS_DEL          </th><td>?1037</td><th>XTERM_DBUTTON3_DELETE        </th><td>?2003</td></tr>
<tr><th>XTERM_ALT_SENDS_ESC          </th><td>?1039</td><th>XTERM_PASTE_IN_BRACKET       </th><td>?2004</td></tr>
<tr><th>XTERM_KEEP_SELECTION         </th><td>?1040</td><th>XTERM_PASTE_QUOTE            </th><td>?2005</td></tr>
<tr><th>XTERM_SELECT_TO_CLIPBOARD    </th><td>?1041</td><th>XTERM_PASTE_LITERAL_NL       </th><td>?2006</td></tr>
<tr><th>XTERM_BELL_IS_URGENT         </th><td>?1042</td><th>-</th><td>-</td></tr>
<tr><th>XTERM_POP_ON_BELL            </th><td>?1043</td><th>URXVT_intensityStyles</th><td>?1021</td></tr>
</table>

<h3>Other Private Modes</h3>
<table class="normal center">
<caption>表: RLogin モード (RLogin/TextRam.h より。*1 マニュアルには RLAMBCHM とある)</caption>
<tr><th>略号</th><th>番号</th><th>略号</th><th>番号</th><th>略号</th><th>番号</th></tr>
<tr><th>RLGCWA    </th><td>?8400</td><th>RLNORESZ  </th><td>?8435        </td><th>RLMODKEY  </th><td>?8450        </td></tr>
<tr><th>RLGNDW    </th><td>?8401</td><th>RLKANAUTO </th><td>?8437        </td><th>RLDRWLINE </th><td>?8451        </td></tr>
<tr><th>RLGAWL    </th><td>?8402</td><th>RLMOSWHL  </th><td>?8438        </td><th>RLSIXPOS  </th><td>?8452        </td></tr>
<tr><th>RLBOLD    </th><td>?8403</td><th>RLMSWAPP  </th><td>?8439        </td><th>DRCSMMv1  </th><td>?8453 (?8800)</td></tr>
<tr><th>RLFONT    </th><td>?8404</td><th>RLPNAM    </th><td>?8440        </td><th>RLC1DIS   </th><td>?8454        </td></tr>
<tr><th>RLBPLUS   </th><td>?8405</td><th>IMECTRL   </th><td>?8441        </td><th>RLCLSBACK </th><td>?8455        </td></tr>
<tr><th>RLALTBDIS </th><td>?8406</td><th>RLCKMESC  </th><td>?8442 (?7727)</td><th>RLBRKMBCS </th><td>?8456        </td></tr>
<tr><th>RLADBELL  </th><td>?8416</td><th>RLMSWAPE  </th><td>?8443 (?7786)</td><th>TTCTH     </th><td>?8457 (?8200)</td></tr>
<tr><th>RLVSBELL  </th><td>?8417</td><th>RLTEKINWND</th><td>?8446        </td><th>RLBOLDHC  </th><td>?8458        </td></tr>
<tr><th>RLUNIAWH<sup>*1</sup></th><td>?8428</td><th>RLUNINOM  </th><td>?8448        </td><th>-</th><td>-</td></tr>
<tr><th>RLSPCTAB  </th><td>?8429</td><th>RLUNIAHF  </th><td>?8449        </td><th>-</th><td>-</td></tr>
</table>

<table class="normal center">
<caption>表: その他の私用モード</caption>
<tr><th>略号</th><th>Mode</th></tr>
<tr><th>minttyAmbiguousWidthReport</th> <td>?7700</td></tr>
<tr><th>minttyScrollMarker</th>         <td>?7711</td></tr>
<tr><th>minttyAppEsc</th>               <td>?7727</td></tr>
<tr><th>minttyEscFs</th>                <td>?7728</td></tr>
<tr><th>minttySixelScrollEndPos</th>    <td>?7730</td></tr>
<tr><th>minttyScrollbar</th>            <td>?7766</td></tr>
<tr><th>minttyFontChangeReport</th>     <td>?7767</td></tr>
<tr><th>minttyShortcutOverride</th>     <td>?7783</td></tr>
<tr><th>minttyEnableMouseWheel</th>     <td>?7786</td></tr>
<tr><th>minttyApplicationMouseWheel</th><td>?7787</td></tr>
<tr><th>minttyDisableBidiLine</th>      <td>?7796</td></tr>
<tr><th>minttyDisableBidi</th>          <td>?77096</td></tr>
<tr><th>minttyModifyKey</th>            <td>?77000-77031</td></tr>
<tr><th>VTE_BIDI_BOX_MIRROR</th>        <td>?2500 (tmp)</td></tr>
<tr><th>VTE_BIDI_AUTO</th>              <td>?2501 (tmp)</td></tr>
<tr><th>VTE_BIDI_SWAP_ARROW_KEYS</th>   <td>?1243 (tmp)</td></tr>
<tr><th>TTCTH (Tera Term)</th>      <td>?8200</td></tr>
<tr><th>DRCSMMv1 (drcsterm)</th>      <td>?8800</td></tr>
<tr><th>TNAMB (tanasinn)</th>      <td>?8840</td></tr>
<tr><th>KITTY_STYLED_UNDERLINES       </th><td>?2016</td></tr>
<tr><th>KITTY_EXTENDED_KEYBOARD       </th><td>?2017</td></tr>
</table>

<h3>端末毎の対応モードの一覧</h3>
<p>他</p>
<ul>
<li>GWREPT/OSC 8900 (yaft)</li>
</ul>

<ul>
<li><a href="https://terminal-wg.pages.freedesktop.org/bidi/recommendation/escape-sequences.html">The escape sequences – BiDi in Terminal Emulators</a>
  ここによると VTE が 2500, 2501 で Bidi のスイッチを実装しているらしい。
  この番号は Box drawing characters (RTL で左右反転) のコードが U+2500 から始まるかららしい。
  然し、元々16進表記なのにそれを10進表記と見て対応させるのはどうなんだと思っているらしい。
  VTE は temporary と言っているが既に mintty が追随している。
</li>
<li>GNOME/vte ソースコード中に様々な(VTE未対応の)モードが図鑑になっている。。。
  <a href="https://github.com/GNOME/vte/blob/416c41be417a051b1d20499754aaa0a827e43b6b/src/modes-private.hh">vte/modes-private.hh at 416c41b</a>
  <a href="https://github.com/GNOME/vte/blob/mainline/src/modes-private.hh">vte/modes-private.hh at mainline</a>
  <ul>
  <li>src/modes-ecma.hh 及び src/modes-private.hh</li>
  <li>一連の WY* については此処に WY370 からの説明が載っている。</li>
  </ul>
</li>
<li>Tera Term source <a href="https://osdn.net/projects/ttssh2/scm/svn/blobs/head/trunk/teraterm/teraterm/vtterm.c">File Details: /trunk/teraterm/teraterm/vtterm.c (head) - ttssh2 (svn) - Tera Term - OSDN</a>
  14001..14004 に NetTerm 由来のマウスモードがあるが実験的な実装だろうか。
</li>
<li>モードに名前を付けるならば origin のソースコードの中で割り当てられている物を使うのが良い。
    xterm は xterm/ptyx.h にある。srm_X10_MOUSE (?9) などの識別子。
</li>
<li>RLogin はちょっと複雑だ。
  <ul>
  <li><code>TextRam.cpp:6072:int CTextRam::OptionToIndex(int value, BOOL bAnsi)</code> に内部番号との対応がある。
    RLogin が 84xx を採用しているのは内部に 8x32 = 512bit のビットベクタがあって、
    その 400 番台を内部用に確保していて其処に切りの良い 8000 を足したからだろうか。</li>
  <li>実際のモードの定義は TextRam.h (文字コード: cp932) にある。
    一連のモード名はここから取った。
    VTE のソースコードには RLogin が 14xx を使っていると書いているが、
    これは VTE の作者の勘違いである。RLogin 14xx は内部用途で DECSET とは直交している様に見える。
  </li>
  </ul>
</li>
<li>mintty は src/termout.c でモードを処理しているが特に名前は付けていない。</li>
<li>mlterm は取り敢えず制御機能に名前を割り当てている様だ。
  <a href="https://github.com/brunoduran/mlterm/blob/2cafed3f01960c75d3f10ddbe7b0c824edfbf6bd/doc/en/ControlSequences">ControlSequences</a>
</li>
<li>tmux は input.c (input_csi_dispatch_sm, input_csi_dispatch_sm_private) にある。
  vt100 は <a href="https://www.vt100.net/docs/vt100-ug/chapter3.html#S3.3.4">ここ</a> にある。
  vt102 は <a href="https://www.vt100.net/docs/vt102-ug/table5-5.html">Table 5-5</a> と
    <a href="https://www.vt100.net/docs/vt102-ug/table5-6.html">Table 5-6</a> にある。
  vt220 は <a href="https://www.vt100.net/docs/vt220-rm/table4-7.html">Table 4-7</a> と、
    <a href="https://www.vt100.net/docs/vt220-rm/table4-8.html">Table 4-8</a>。
  vt320 は <a href="https://www.vt100.net/docs/vt320-uu/appendixe.html#TE-2">Table E-2, 3</a> より。
  vt420 は <a href="https://www.vt100.net/docs/vt420-uu/chapter9.html#T9-2">Table 9-2, 3</a> より。
  vt510 は <a href="https://www.vt100.net/docs/vt510-rm/DECRQM.html#T5-8">Table 5-8</a> より。
</li>
</ul>
<pre>
# ANSI Modes

| ANSI      |         1111111111222|333333333 4 4|
|   Modes   |1234567890123456789012|012345678 0 2|
|-----------|----------------------|-------------|
| ECMA-48   |******************DD**|RRRRRRRRR-R-R| D=deprecated R=reserved
| vt100     |                   *  |             |
| vt102     | * *               *  |             |
| vt220     | * *       *       *  |             |
| vt320     | ***     * *       *  |             |
| vt420     | ***       *       *  |             | vt510,vt520 は同じ。
|-----------|----------------------|-------------|
| rxvt      |   *                  |         - - |
| urxvt     |   *               *  |         - - |
| Kitty     |   *               *  |         - - |
| iTerm2    |   *               *  |         - - |
| tmux      |   *                  |    *    - - |
| screen    |   *               *  |    *    - - |
| xterm     | * *       *       *  |         - - |
| RLogin    | * * *     *     * *  |         - - |
| Tera Term | * *       *       *  |   **    - - |
| mlterm    | * *       *       *  |   **    - - |
| mintty    |   *   *   *     * *  |   **    - - |
|-----------|----------------------|-------------|
| contra    |** * ***** *       ***|   **    - - |


# DEC Modes

| DEC       |                   |       |              |  |       |      | |  |     11111 1 11111111111|
|   ? Modes |         1 111 1 11|22 2 23|333 3 44444444|55|5 5 566|6 6666|7|88|9999900000 0 00011111111|
|           |1234567890 234 6 89|45 7 90|456 8 01234567|12|5 7 901|4 6789|3|01|5678901234 6 78901234567|
|-----------|-------------------|-------|--------------|--|-------|------|-|--|------------------------|
| vt100     |********* -   - -  |  - -  |   - -   -    |  | - -   | -    | |  |          - -           |
| vt102     |********  -   - -**|  - -  |   - -   -    |  | - -   | -    | |  |          - -           |
| vt220     |********  -   - -**| *- -  |   - -  *-    |  | - -   | -    | |  |          - -           |
| vt320     |********  -   - -**| *- -  |   - -  *-    |  | - -   | -* * | |  |          - -           |
| vt420     |********  -   - -**| *- -  |   - -  *-    |  | - - **|*-****|*| *|          - -           |
| vt510     |********  -   - -**| *- -  |***- -  *-    |  | -*- * |*-****|*| *|**********-*-           |
| vt520     |********  -   - -**| *- -  |***- -  *-    |  | -*- * |*-****|*|  |**********-*-    *******|
|-----------|-------------------|-------|--------------|--|-------|------|-|--|------------------------|
| tmux      |* *  **   -*  - -  | *- -  |   - -   -   x|  | - -   | -    | |  |          - -           |
| screen    |*** *** x -*  - -  | *- -  |   - -   -   x|  | - -   | -    | |  |          - -           |
| Kitty     |* ******x -*  - -  | *- -  |   - -  *-    |  | - -   | -    | |  |          - -           |
| VTE       |* * *** x -   - -  | *- -  |   - -x  -   x|  | - -   | -*   | |  |          - -           |
| rxvt      |******* x*-   - -  | *- - *| r - -x  -   x|  | - -   | -**  | |  |          - -           |
| urxvt     |******* x -*  - -  | *- - *| r - -x  -   x|  | - -   | -**  | |  |          - -           |
| iTerm2    |********  -   - -  | *- -  |   - -xx - x x|  | - -   | -   *| |  |          - -           |
| mintty    |*** ****x -*  - -  | *- - *|   - -x *- x x|  | - -   | -** *| |* |*         - -           |
| Tera Term |* * ****x -*  - - *| *- -  |   -*-   -   x|  | - -*  | -** *| |  |*         - -           |
| RLogin    |********x -*  - - *| *- -  |   -*-xx - x x|  | - -   | -** *| |* |*         - -          *|
| xterm     |********x*-*xx- -**| *- - *| r -*-xx*-xxxx|  | - -   | -** *| |* |*         - -           |
|-----------|-------------------|-------|--------------|--|-------|------|-|--|------------------------|
| contra    |* ******x -*xx- -  | *- -  |   - -x  - x x|  | - -   | -** *| |  |*         - -           |


# Private Modes

| Origin    |xterm   |rxvt  |xterm                      | |vte| |mintty       |T|RLogin                         |#1   | T=Tera Term, #1=drcsterm
|-----------|--------|------|---------------------------|-|---|-|-------------|-|-------------------------------|-----|
| Modes?    |        |  | | |                    |  | | | |   | |           77| |                               |     |
|           |11111111|11|1|1|1111 111111 11111111|11|1|2|2|122|1|7777777777777|8|8888888888888888888888888888888|88888|
|           |00000000|00|0|0|0000 000000 00000000|00|0|0|0|255|3|7777777777700|2|4444444444444444444444444444444|88888|
|           |00000000|11|1|2|3333 344444 44445555|66|7|0|1|400|3|01223668889X9|0|0000000112233334444444555555555|00000|
|           |01234567|01|5|1|4567 901234 67890123|01|0|4|7|301|7|01780673676X6|0|0123456678957890123689012345678|01234|
|-----------|--------|--|-|-|--------------------|--|-|-|-|---|-|-------------|-|-------------------------- ----|-----|
| tmux      |* ***** |  |*| |    -      - * *    |  | |*| |   | |             | |                               |     |
| screen    |**** *  |  | | |    -      - ***    |  | |*| |   | |             | |                               |     |
| Kitty     |* ***** |  |*| |    -      -   *    |  | |*|*|   | |             | |                               |     |
| iTerm2    |* ***** |  |*| |    -      -   *    |  | |*| |   |*|             | |                               |     |
| rxvt      |*       |**| | |    -      - **     |  | | | |   | |             | |                               |     |
| urxvt     |* ****  |**|*|*|    -      - ***    |  | |*| |   | |             | |                               |     |
| VTE       |***** **|  | | |  * -      - ***    |  | |*| |***| |             | |                               |     |
| Tera Term |******* |  |*| |    -      - ***    |  | |*| |   | |  *     *    |*|                               |     |
| RLogin    |******  |  |*| |    -      - ***    |  | |*| |   | |  *     *    |*|*******************************|*    |
| xterm     |********|**|*| |****-******-********|**| |*| |   | |  *     *    |*|                               |     |
| mintty    |* ***** |  |*| |   *-   ** -****    | *| |*| | **| |*************| |                        *      |     |
|-----------|--------|--|-|-|--------------------|--|-|-|-|---|-|-------------|-|-------------------------------|-----|
| contra    |******* |  |*| |    -      - *** ***|**| |*| |   | |             | |                               |     |
</pre>


<!--...................................................................................-->
<div class="note">以前まとめた表にあった出典不明のモード
<table class="normal center">
<colgroup>
  <col span="3" />
  <col style="width:40%;" />
  <col style="width:40%;" />
</colgroup>
<tr><th>引数</th><th>環境</th><th>略号</th><th>有効</th><th>無効</th><th>実装</th></tr>
<tr><td>?108</td>  <td></td><td>DECNUMLK</td>   <td>Num Lock Mode</td><td></td><td></td></tr>
<tr><td>?109</td>  <td></td><td>DECCAPSLK</td>  <td>Caps Lock Mode</td><td></td><td></td></tr>
<tr><td>?110</td>  <td></td><td>DECKLHIM</td>   <td>Keyboard LEDs Host Indicator Mode</td><td class="markB"></td><td></td></tr>
<tr><td>=0</td>    <td>/ansi.sys</td> <td></td>       <td>40列 x 25行 monochrome (text)</td><td></td><td>X</td></tr>
<tr><td>=1</td>    <td>/ansi.sys</td> <td></td>       <td>40列 x 25行 color (text)</td><td></td><td>X</td></tr>
<tr><td>=2</td>    <td>/ansi.sys</td> <td></td>       <td>80列 x 25行 monochrome (text)</td><td></td><td>X</td></tr>
<tr><td>=3</td>    <td>/ansi.sys</td> <td></td>       <td>80列 x 25行 color (text)</td><td></td><td>X</td></tr>
<tr><td>=4</td>    <td>/ansi.sys</td> <td></td>       <td>320px x 200px 4-color (graphics)</td><td></td><td>X</td></tr>
<tr><td>=5</td>    <td>/ansi.sys</td> <td></td>       <td>320px x 200px monochrome (graphics)</td><td></td><td>X</td></tr>
<tr><td>=6</td>    <td>/ansi.sys</td> <td></td>       <td>640px x 200px monochrome (graphics)</td><td></td><td>X</td></tr>
<tr><td>=7</td>    <td>/ansi.sys</td> <td></td>       <td>行折返し有効</td><td>行折返し無効</td><td>X</td></tr>
<tr><td>=13</td>   <td>/ansi.sys</td> <td></td>       <td>320px x 200px color (graphics)</td><td></td><td>X</td></tr>
<tr><td>=14</td>   <td>/ansi.sys</td> <td></td>       <td>640px x 200px color (16-color graphics)</td><td></td><td>X</td></tr>
<tr><td>=15</td>   <td>/ansi.sys</td> <td></td>       <td>640px x 350px monochrome (2-color graphics)</td><td></td><td>X</td></tr>
<tr><td>=16</td>   <td>/ansi.sys</td> <td></td>       <td>640px x 350px color (16-color graphics)</td><td></td><td>X</td></tr>
<tr><td>=17</td>   <td>/ansi.sys</td> <td></td>       <td>640px x 480px monochrome (2-color graphics)</td><td></td><td>X</td></tr>
<tr><td>=18</td>   <td>/ansi.sys</td> <td></td>       <td>640px x 480px 16-color graphics</td><td></td><td>X</td></tr>
<tr><td>=19</td>   <td>/ansi.sys</td> <td></td>       <td>320px x 200px 256-color graphics</td><td></td><td>X</td></tr>
<tr><td>=114</td>  <td>/ansi.sys</td> <td></td>       <td>640px x 480px 16-color graphics (日本語モード)</td><td></td><td>X</td></tr>
<tr><td>=115</td>  <td>/ansi.sys</td> <td></td>       <td>80列 x 25行 color (text) (日本語モード)</td><td></td><td>X</td></tr>
<tr><td>&gt;1</td><td></td><td></td>         <td>ファンクション有り</td><td>ファンクション無し</td><td>X</td></tr>
<tr><td>&gt;5</td><td></td><td></td>         <td>カーソル有り</td><td>カーソル無し</td><td>X</td></tr>
</table>
<ul>
<li><a href="http://fpcu.on.coocan.jp/dosvcmd/ansi.htm">ANSI.SYS - キーボードと画面の拡張制御のサポート [FPCU]DOS/V&amp;Windowsコマンド・プロンプト・リファレンス</a></li>
<li>ANSI.SYS 日本語モードでは =3, =17, =18, =114, =115 のみ選択可能</li>
<li>恐らく上記 ANSI.SYS の出典はここにもある <a href="http://ascii-table.com/ansi-escape-sequences.php">ASCII Table - ANSI Escape sequences</a></li>
</ul>
</div>

<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<h2>文字集合の制御</h2>

<ul>
<li>[ECMA-35/8.3.3]
  G0-G3 の何れか一つが同時に GL と GR に両方呼び出される状態も可能だが推奨されない。
</li>
</ul>
<ul>
<li><dfn class="cfunc">LS0</dfn>: LOCKING-SHIFT ZERO</li>
<li><dfn class="cfunc">LS1</dfn>: LOCKING-SHIFT ONE</li>
<li><dfn class="cfunc">LS2</dfn>: LOCKING-SHIFT TWO</li>
<li><dfn class="cfunc">LS3</dfn>: LOCKING-SHIFT THREE
  <p>[ECMA-35/8.3.1] それぞれ G0, G1, G2, G3 符号要素を GL 領域に呼び出す。
  94文字または94<sup>n</sup>文字集合を呼び出した時は、
  0x20 及び 0x7F にはそれぞれ SP と DEL が呼び出される。
  96文字または96<sup>n</sup>文字集合を呼び出している時は、
  SP 及び DEL は符号化表現を持たない。
  </p>
</li>
<li><dfn class="cfunc">LS0R</dfn>: LOCKING-SHIFT RIGHT ZERO</li>
<li><dfn class="cfunc">LS1R</dfn>: LOCKING-SHIFT RIGHT ONE</li>
<li><dfn class="cfunc">LS2R</dfn>: LOCKING-SHIFT RIGHT TWO</li>
<li><dfn class="cfunc">LS3R</dfn>: LOCKING-SHIFT RIGHT THREE
  <p>[ECMA-35/8.3.2] それぞれ G0, G1, G2, G3 符号要素を GR 領域に呼び出す。
  94文字または94<sup>n</sup>文字集合を呼び出した時は、
  0xA0 及び 0xFF は使ってはならない。
  </p>
</li>
<li><dfn class="cfunc">SS2</dfn>: SINGLE-SHIFT TWO</li>
<li><dfn class="cfunc">SS3</dfn>: SINGLE-SHIFT THREE
  <p>[ECMA-35/8.3.2] それぞれ G2, G3 を単一シフト領域に一時的に呼び出す。
  単一シフト領域は GL または GR で処理系定義である。
  直後に来る図形文字1文字分をこのシフト状態で処理しすぐに
  この制御機能を呼び出す前のシフト状態に戻る。
  </p>
  <p>この制御機能の直後には単一シフト領域における
    図形文字1文字分を表すバイトが厳密に来なければならない。
    特に 94/94<sup>n</sup>文字集合をGLに呼び出した時は
    2/1 及び 7/15 は許されない事に注意する。
  </p>
</li>
</ul>

<h2>装置の構成と双方向 (bidi) 対応</h2>

<h3>装置の構成</h3>
<p>[ECMA-48/6.1] 装置 (device) (ディスプレイやプリンターを想定) は3つの部分で構成される。
<dfn>入力部</dfn> (input component)・<dfn>表示部</dfn> (presentation component)・<dfn>データ部</dfn> (data component) である。
特にデータ部は双方向の文字列表示 (bidi) に対応する為に用意するが、単方向しか対応しなければ表示部と等価なので省略可能である。
表示部・データ部は共にそれぞれ<dfn>行</dfn>の集まりであり、行は<dfn>文字位置</dfn> (character position) の集まりである。
表示部・データ部の行の並びには方向性があり<dfn>行進行</dfn> (line progression) という。
表示部・データ部の各行にはそれぞれ自然な方向があり、
それぞれ<dfn>文字進路</dfn> (character path)・<dfn>文字進行</dfn> (character progression) という。
行及び文字位置は、1 から始まる整数によって、行進行および文字進路・文字進行の順序で番号付けられる。
表示部は実際に表示されるときの固有の座標(行・列)を持ち、
データ部は内部的な取り扱いで使用する固有の座標を持ち、一対一に対応がある。
表示部・データ部はそれぞれカーソルを持ち、<dfn>現在表示位置</dfn> (active presentation position)・<dfn>現在データ位置</dfn> (active data position) という。
文字の挿入によるカーソルの移動は、現在データ位置を行内の次の文字位置に移動するものである。これを<dfn>暗黙的移動</dfn> (implicit movement) という。
制御機能によるカーソルの移動は現在データ位置もしくは現在表示位置に作用する。これを<dfn>明示的移動</dfn> (explicit movement) という。
現在表示位置と現在データ位置は連動する。つまり一方の位置に対する移動操作によって、他方が<dfn>間接的移動</dfn> (indirect movement) する。
何れの移動も、存在しない場所に移動しようとしたときの動作は処理系依存である (例えば行折り返しをしたり、動作を停止したりする)。
</p>
<p>明示されてはいないが、ECMA-48 および ECMA-TR/53 の記述を総合するに、
以下の様なことが言えると考えられる。</p>
<ul>
<li>表示部には既定の文字進路が存在して、SPD で設定される。</li>
<li>各行には文字進路が存在して SCP で設定される。
  既定の文字進路の場合には、
  データ部と表示部で対応する文字位置の番号は一致する。
  逆の文字進路の場合には丁度反転する。
</li>
<li>行中で部分的に表示方向を変更するには SDS, SRS を用いる。
  この部分的に変更された部分を<dfn>文字列</dfn> (directed string) と呼ぶ。
  但し、方向付き文字列の内部ではデータ部と表示部での位置の対応関係は規定されない。
</li>
</ul>

<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>SPD</th> <td><kbd>CSI <i>Ps1</i> ; <i>Ps2</i> SP S</kbd></td></tr>
<tr><th>SCP</th> <td><kbd>CSI <i>Ps1</i> ; <i>Ps2</i> SP k</kbd></td></tr>
<tr><th>SIMD</th><td><kbd>CSI <i>Ps1</i> ^</kbd></td></tr>
</table>
<ul>
<li>Mode 3 <dfn class="cmode">CRM</dfn>: CONTROL REPRESENTATION MODE (Show Control Character Mode) [既定値 RM]
  <ul>
  <li><dfn class="cmode-rm">CONTROL</dfn> (RM): 全ての制御機能を通常通りに処理する。</li>
  <li><dfn class="cmode-sm">GRAPHIC</dfn> (SM): RM 以外の受信した全ての制御機能を実行せずに図形文字として表示する。</li>
  </ul>
  <ul>
  <li>互換性: [ECMA-48/7.2.2], VT100</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/CRM">VT510: CRM</a></li>
  </ul>
</li>
<li>Mode 4 <dfn class="cmode">IRM</dfn>: INSERTION REPLACEMENT MODE (Insert/Replace Mode) [既定値 RM]
  <ul>
  <li><dfn class="cmode-rm">REPLACE</dfn> (RM): 図形文字または図形表現を持つ制御機能は、
    現在表示位置にある図形を置き換える (または実装によっては図形を組み合わせる)。</li>
  <li><dfn class="cmode-sm">INSERT</dfn> (SM): 図形文字または図形表現を持つ制御機能は、現在表示位置に図形を挿入する。</li>
  </ul>
  <ul>
  <li>互換性: [ECMA-48/7.2.10]</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/IRM">VT510: IRM</a></li>
  <li>SIMD が設定されている時にどのように振る舞うべきかは非自明。
    HEM(PRECEDING) に準じた振る舞いにするのが自然だろうか。</li>
  </ul>
</li>
<li>Mode 8 <dfn class="cmode">BDSM</dfn>: BI-DIRECTIONAL SUPPORT MODE
  <p>[ECMA-48/7.2.1] 双方向機能に対応するかどうかを指定する。</p>
  <ul>
  <li><dfn class="cmode-rm">EXPLICIT</dfn> (RM): DCSM の設定に従った双方向処理を実行する。</li>
  <li><dfn class="cmode-sm">IMPLICIT</dfn> (SM): 双方向処理を行わない。全てデータ部で作用する。</li>
  </ul>
</li>
<li>Mode 9 <dfn class="cmode">DCSM</dfn>: DEVICE COMPONENT SELECT MODE
  <p>[ECMA-48/7.2.3] 制御機能 CPR, CR, DCH, DL, EA, ECH, ED, EF, EL, ICH, IL, LF, NEL, RI, SLH,
  SLL, SPH, SPL が作用する対象が表示部かデータ部かを設定する。
  </p>
  <ul>
  <li><dfn class="cmode-rm">PRESENTATION</dfn> (RM): 上記の制御機能は、現在表示位置において表示部に対して実施される。</li>
  <li><dfn class="cmode-sm">DATA</dfn> (SM): 上記の制御機能は、現在データ位置においてデータ部に対して実施される。</li>
  </ul>
</li>
<li>Mode ?6 <dfn class="cmode">DECOM</dfn>: Origin Mode [既定値: RM]
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECOM.html">VT510: DECOM</a>]
    DECSTBM, DECLRMM, DECSLRM でページの範囲が制限されている時の座標原点を指定する。
  </p>
  <ul>
  <li>(RM): 座標原点を画面の左上とする。</li>
  <li>(SM): 座標原点を制限範囲の左上とする。</li>
  </ul>
  <p>互換性: RLogin では CHA, CUP, VPA, HPA, HVP の座標原点が影響を受ける。
    RLogin では設定されている時に VPR, HPR の移動可能範囲が制限されるが
    FS, GS, RS, US (ADM-3) や HOP, BPH (VT52) は制限を受けない。
    contra でもそれに準じて VPR, VPB, HPR, HPB の移動可能範囲を制限する。
  </p>
</li>
<li>Mode ?7 <dfn class="cmode">DECAWM</dfn>: Origin Mode [既定値: RM]
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECAWM.html">VT510: DECAWM</a>]
    カーソルが画面の右端に丁度達した時に自動的に次の行頭に移動するかどうかを設定する。
  </p>
  <ul>
  <li>(RM): 右端に留まる。</li>
  <li>(SM): 次の行頭に移動する。</li>
  </ul>
  <p>互換性: RLogin では RM の時、最後の文字位置にカーソルを移動する。
    最後の文字位置にカーソルがある時に、全角文字が現れた時には次の行に文字を挿入する。
    xterm では RM の時、最後の文字位置にカーソルを移動するのは同じだが、
    その時に全角文字を受信すると全角文字を挿入するのを諦める。
    また、RM の状態で行末に移動して其処で SM にすると最後の文字位置に戻る様だ。
  </p>
</li>
<li><dfn class="cfunc">SPD</dfn>: SELECT PRESENTATION DIRECTIONS
  <p>[ECMA-48/8.3.130]
  一つ目の引数 <kbd><i>Ps1</i></kbd> は
  表示部の行の向き、行の追加方向、文字進路を設定する。既定値は 0 である。
  </p>
  <table class="normal center">
  <tr><th><i class="kbd">Ps1</i></th><th>行の向き</th><th>行の追加</th><th>文字進路</th></tr>
  <tr><td>0</td><td>横書き</td><td>下へ</td><td>右へ</td></tr>
  <tr><td>1</td><td>縦書き</td><td>左へ</td><td>下へ</td></tr>
  <tr><td>2</td><td>縦書き</td><td>右へ</td><td>下へ</td></tr>
  <tr><td>3</td><td>横書き</td><td>下へ</td><td>左へ</td></tr>
  <tr><td>4</td><td>縦書き</td><td>右へ</td><td>上へ</td></tr>
  <tr><td>5</td><td>横書き</td><td>上へ</td><td>左へ</td></tr>
  <tr><td>6</td><td>横書き</td><td>上へ</td><td>右へ</td></tr>
  <tr><td>7</td><td>縦書き</td><td>左へ</td><td>上へ</td></tr>
  </table>
  <p><kbd><i>Ps2</i></kbd> は表示部・データ部に含まれている既存の内容をどう更新するかを指定する。
  1 を指定するとデータ部を保持して表示部を更新する。現在データ位置を最初の行の最初の文字に移動する。
  2 を指定すると表示部を保持してデータ部を更新する。現在表示位置を最初の行の最初の文字に移動する。
  0 を指定した場合は処理系依存である。
  例えば次に CR, FF などの現在位置を明示的に移動する制御機能が呼び出される時まで更新が遅延されるという実装も考えうる。
  既定値は 0 である。
  </p>
  <p>contra では、第2引数に 0 を指定した時の動作は 1 と同じである。</p>
</li>
<li><dfn class="cfunc">SCP</dfn>: SELECT CHARACTER PATH
  <p>[ECMA-48/8.3.111] 現在表示行および以降の表示行の文字進路を変更する。</p>
  <p><kbd><i>Ps1</i></kbd> は文字進路を指定する。
  横書きの場合は 1 が左から右で 2 が右から左を意味する。
  縦書きの場合は 1 が上から下で 2 が下から上を意味する。
  既定値はない (no default value)。
  </p>
  <p><kbd><i>Ps2</i></kbd> は、現在行に既に含まれている内容を、
  文字進路の変更に伴ってどう更新するか指定する。
  1 を指定すると新しい文字進路に合わせて表示内容を更新し、現在データ位置を先頭に移動する。
  2 を指定すると表示内容を更新せず、対応するデータ部を辻褄があう様に更新する。現在表示位置を先頭に移動する。
  0 を指定した場合は処理系依存である。例えば次に CR, NEL などの現在位置を明示的に移動する制御機能が呼び出される時まで更新が遅延されるという実装も考えうる。
  </p>
  <p>両パラメータの既定値はない。</p>
  <p>Note: ECMA-48 では効果の範囲は the active line and subsequent lines in presentation component
  としているが、subsequent lines が具体的に何を指すのかは曖昧である
  (位置関係で現在行よりも下にある行なのか、今後新しく確立される行のことなのか)。
  因みに規格中で subsequent line という語が出るのはこの一箇所のみである。
  ただ、現在行 (the active line) の更新方法だけ記述されていることから、
  subsequent lines は新しく確立される空の行を指すのが自然と思われる。
  </p>
  <p>contra では、
  第1引数の既定値は 0 とし、character path を解除して SPD で設定した値に戻す。
  第2引数の既定値は 0 とし、1 と同じ意味とする。
  引数に範囲外の値を指定した場合は、何も実行しない。
  </p>
</li>
<li><dfn class="cfunc">SIMD</dfn>: SELECT IMPLICIT MOVEMENT DIRECTION
  <p>[ECMA-48/8.3.120] 暗黙的移動の向きを設定する。この設定は次の SIMD まで有効である。
  0 を指定すると暗黙的移動は右向き(つまり文字進行方向)である。
  1 を指定すると暗黙的移動は左向き(つまり文字進行と逆方向)である。
  引数の既定値は 0 である。
  </p>
</li>
</ul>

<h3>行とページの範囲</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>SLH</th> <td><kbd>CSI <i>Ps</i> SP U</kbd></td></tr>
<tr><th>SLL</th> <td><kbd>CSI <i>Ps</i> SP V</kbd></td></tr>
<tr><th>SPH</th> <td><kbd>CSI <i>Pn</i> SP i</kbd></td></tr>
<tr><th>SPL</th> <td><kbd>CSI <i>Pn</i> SP j</kbd></td></tr>
<tr><th>DECSTBM</th> <td><kbd>CSI <i>Pn1</i> ; <i>Pn2</i> r</kbd></td></tr>
<tr><th>DECSLRM</th> <td><kbd>CSI <i>Pn1</i> ; <i>Pn2</i> s</kbd></td></tr>
</table>
<ul>
<li><dfn class="cfunc">SLH</dfn>: SET LINE HOME
  <p>[ECMA-48/8.3.122] 現在行と以降の行で、文章を表示する先頭列を指定する。
  この値は CR, DL, IL, NEL において、現在表示位置 (DCSM(PRESENTATION) のとき)
  または現在データ位置 (DCSM(DATA) のとき) が移動する先の列になる。
  DCSM(DATA) もしくは表示部とデータ部に区別のない装置の場合、
  設定された列は現在データ位置が暗黙的移動によって移動できる一番左の位置となる。
  引数 <i class="kbd">Pn</i> は列番号を指定し、既定値はない。
  </p>
  <p>Note: どの瞬間の DCSM が効くのか規格には明記されていないが、
  CR の説明によると、DCSM は CR, DL, IL, NEL が呼び出された時の値が単に使用される。
  つまり、SLH, SLL で記録される状態は DCSM の影響を受けず、
  単に CR, DL, IL, NEL の動作が DCSM の値によって変わるという事である。
  </p>
  <p>Note: 行毎に SLH, SLL の値を保持するのかどうか規格には明記されていない。
  これは "以降の行" (lines of subsequent text) をどう解釈するかに依存する。
  因みに SCP の "以降の行" (subsequent lines) とは表現が異なる。
  </p>
</li>
<li><dfn class="cfunc">SLL</dfn>: SET LINE LIMIT
  <p>[ECMA-48/8.3.123] 現在行と以降の行で、文章を表示する最終列を指定する。
  この値は、DCSM(PRESENTATION), SIMD(1) の時、
  CR, NEL による移動先の列になる。
  また、DCSM(DATA) もしくは表示部とデータ部に区別のない装置の場合、
  設定された列は現在データ位置が暗黙的移動によって移動できる一番右の位置になる。
  引数 <i class="kbd">Pn</i> は列番号を指定し、既定値はない。
  </p>
</li>
<li><dfn class="cfunc">SPH</dfn>: SET PAGE HOME
  <p>[ECMA-48/8.3.131] <dfn>頁初期位置</dfn> (page home position) を設定する。
  現在頁と以降の頁に FF によって移動した後に、
  現在表示位置または現在データ位置 (DCSM による) をおく行を <i class="kbd">Pn</i> で指定する。
  DCSM(DATA) またはデータ部と表示部に区別のない装置の場合、
  暗黙的移動によってこの行より前に移動できない。
  この値は次に SPH が呼び出されるまで持続する。
  パラメータの既定値はない。
  </p>
</li>
<li><dfn class="cfunc">SPL</dfn>: SET PAGE LIMIT
  <p>[ECMA-48/8.3.133] <dfn>頁限界位置</dfn> (page limit position) を設定する。
  現在頁と以降の頁において
  現在表示位置または現在データ位置 (DCSM による) がそれより下に移動できない行を <i class="kbd">Pn</i> で指定する。
  DCSM(DATA) またはデータ部と表示部に区別のない装置の場合、
  暗黙的移動によってこの行より下に移動することはない。
  この値は次に SPL が呼び出されるまで持続する。
  パラメータの既定値はない。
  </p>
</li>
<li>互換性
  <ul>
  <li>contra では SLH, SLL の引数を省略した時、または 0 を指定した時、既定値(行頭/行末)に戻す。</li>
  </ul>
</li>
<li><dfn class="cfunc">DECSTBM</dfn>: Set Top and Bottom Margins
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECSTBM">VT510/DECSTBM</a>]
    ページのスクロール範囲を設定する。
    第1引数に範囲の開始行の番号を指定し、第2引数に範囲の最終行の番号を指定する。
    第1引数の既定値は1であり、第2引数の既定値は行数である。
    スクロール範囲は2行以上なければならない。
    スクロール範囲の設定の後に1行目1列目に移動する。
  </p>
  <ul>
  <li>互換性: RLogin は1行目1列目に移動しない。xterm, screen, mintty は移動する。
    xterm, RLogin ではカーソル移動については CUD, CUU, CPL, CNL は影響を受けるが VPB, VPR は影響を受けない。
    mintty では VPB, VPR も影響を受けている様に見える。
    RLogin では IL, DL, SU, SD 及び改行の類が影響を受ける。
  </li>
  <li>互換性: contra では CUU, CUD, SU, SD (縦書きの時は CUF, CUB, SL, SR) が影響を受ける。
    VPB, VPR は影響を受けない。暗黙移動の範囲、LF, FF, NEL, RI, IND 等は、
    DECSTBM の制限と SPH, SPL の制限の両方の影響を受ける。
  </li>
  </ul>
</li>
<li><dfn class="cfunc">DECSLRM</dfn>: Set Left and Right Margins
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECSLRM">VT510/DECSLRM</a>]
    DECLRMM が設定されている時に、ページのスクロール範囲を設定する。
    第1引数に範囲の開始列の番号を指定し、第2引数に範囲の最終列の番号を指定する。
    第1引数の既定値は1であり、第2引数の既定値は画面の幅(列数)である。
    スクロール範囲は2行以上なければならない。
    スクロール範囲の設定の後に1行目1列目に移動する。
  </p>
  <ul>
  <li>互換性: RLogin は IL, DL は DECSLRM の範囲内だけスクロールする。
    xterm では IL, DL は行全体に対して作用するが、内容消去は範囲内だけ行うという動作に見える。
    RLogin と xterm は共に ICH, DCH は範囲内で行うが ECH, EL は範囲外まで行う。
    mintty はそもそも DECSLRM に対応していない様だ。
  </li>
  <li>互換性: contra では CUF, CUB, SL, SR (縦書きの時は CUU, CUD, SU, SD) が影響を受ける。
    HPB, HPR は影響を受けない。
    暗黙移動の範囲, CR, IL, DL, ICH は DECSLRM の制限と SPL, SLL の制限の両方の影響を受ける。
  </li>
  <li>互換性: RLogin では、DECLRMM が設定されている時にのみ範囲の設定を記録する。
    更に、記録された範囲は DECLRMM が設定されている時にのみ有効になる。
    xterm では DECLRMM を解除した時に DECSLRM で記録した範囲も消去する。
    つまり再度 DECLRMM を有効にしても元に戻らない。
    取り敢えず contra では RLogin の振る舞いに倣う。
  </li>
  </ul>
</li>
<li>Mode ?69 <dfn class="cmode">DECLRMM</dfn> (<dfn class="cmode">DECVSSM</dfn>): Left Right Margin Mode [既定値: RM]
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECLRMM.html">VT510/DECLRMM</a>]
    DECSLRM で設定した範囲が有効かどうかを設定する。
    どうも vt400 では DECVSSM という名前だった様である。
  </p>
</li>

</ul>

<h3>文字列 (string)</h3>
<p>[ECMA-48/6.2.1, 8.3.114, 8.3.127]
データ部にある文章は複数の文字を含む<dfn>文字列</dfn> (string) によって構成されているとして処理される。
各文字列は、制御機能もしくは上位の手続きに従って決まる<dfn>方向</dfn> (direction) を持つ。
既定の方向は現在の文字進路と同じ方向である。
</p>
<p>例えば、<dfn>方向付き文字列</dfn> (directed string),
<dfn>反転文字列</dfn> (reversed string)はデータ部の中の領域で、
それぞれ SDS, SRS によって始まりと終わりを指定される。
これらはデータ部での文字進行には影響を与えず、
文字列の内容はそのままそれまでの文章の続きとして記録される。
文字列は、SDS, SRS の区別なく任意の階層で入れ子にする事ができる。
ECMA-48 では入れ子文字列内部における現在データ位置を指定しない。
入れ子文字列を閉じる度に、一つ外側の入れ子文字列の方向が復元される。
SDS, SRS 文字列内部で CVT, HT, SCP, SPD, VT を呼び出した時の動作は規定されない。
SDS, SRS 文字列内部で領域定義の制御機能 DAQ, EPA, ESA, SPA, SSA を呼び出してはならない。
</p>
<p>[ECMA-TR/35] 文章による定義はないが、Annex A に動作例が載っている。
動作例から以下のような規則が読み取れるが、疑問が多々残る。
</p>
<ul>
<li>表示部では文字列はその方向に従って中身の文字を並べることによって表示される。
つまり、方向が文字進路と同じ場合はデータ部と同じ順序で表示し、
文字進路と逆の場合はデータ部と文字の位置を反転して表示する。
入れ子文字列を含む場合はそれ自体を一つの単位として配置し、
内部の表示方法はその入れ子文字列に任せる。</li>
<li>疑問: 文字列が行に入らない場合にその折り返し処理はどの様にするべきか。</li>
<li>疑問: 文字列の内部にいる状態で、改行や現在位置を明示的に移動する
制御機能を呼び出した時にどの様に振る舞うべきか。</li>
<li>一旦入れ子文字列を確立した後で、現在データ位置を移動して挿入した場合、
文字列はその入れ子階層に対して挿入される。</li>
<li>疑問: 後で現在位置を移動して文字を挿入を行う場合、
現在位置にある文字列の内部に文字が挿入される事になっているが、
現在位置が丁度文字列の開始・終了位置に一致している場合に、
その文字列の外側・内側のどちらに文字を挿入するべきだろうか。</li>
</ul>

<p>以下に関連する制御機能を挙げる。</p>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th><th>名称</th></tr>
<tr><th>SDS</th> <td><kbd>CSI <i>Ps1</i> ]</kbd></td><td>Start Directed String</td></tr>
<tr><th>SRS</th> <td><kbd>CSI <i>Ps1</i> [</kbd></td><td>Start Reversed String</td></tr>
<tr><th>ALM</th><td><kbd>U+061C</kbd></td><td>Arabic letter mark</td></tr>
<tr><th>LRM</th><td><kbd>U+200E</kbd></td><td>Left-to-right mark</td></tr>
<tr><th>RLM</th><td><kbd>U+200F</kbd></td><td>Right-to-left mark</td></tr>
<tr><th>LRE</th><td><kbd>U+202A</kbd></td><td>Left-to-right embedding</td></tr>
<tr><th>RLE</th><td><kbd>U+202B</kbd></td><td>Right-to-left embedding</td></tr>
<tr><th>PDF</th><td><kbd>U+202C</kbd></td><td>Pop directional formatting</td></tr>
<tr><th>LRO</th><td><kbd>U+202D</kbd></td><td>Left-to-right override</td></tr>
<tr><th>RLO</th><td><kbd>U+202E</kbd></td><td>Right-to-left override</td></tr>
<tr><th>LRI</th><td><kbd>U+2066</kbd></td><td>Left-to-right isolate</td></tr>
<tr><th>RLI</th><td><kbd>U+2067</kbd></td><td>Right-to-left isolate</td></tr>
<tr><th>FSI</th><td><kbd>U+2068</kbd></td><td>First strong isolate</td></tr>
<tr><th>PDI</th><td><kbd>U+2069</kbd></td><td>Pop directional isolate</td></tr>
</table>
<ul>
<li><dfn class="cfunc">SDS</dfn>: START DIRECTED STRING
  <p>[ECMA-48/8.3.114] 方向付き文字列 (directed string) の開始と終了を指定する。
  <kbd><i>Ps</i></kbd> = 1, 2 の SDS は方向付き文字列の開始を指定する。
  1 を指定すると方向は左から右で、2 を指定すると方向は右から左になる。
  <kbd><i>Ps</i></kbd> = 0 の SDS は方向付き文字列の終了を指定する。
  現在データ位置は文字列の最後の位置の次に移動する。
  <kbd><i>Ps</i></kbd> の既定値は 0 である。
  </p>
</li>
<li><dfn class="cfunc">SRS</dfn>: START REVERSED STRING
  <p>[ECMA-48/8.3.137] 反転文字列 (reversed string) の開始と終了を指定する。
  <kbd><i>Ps</i></kbd> = 1 は反転文字列の開始を示し、
  方向はそれまでの方向と逆の方向になる。
  <kbd><i>Ps</i></kbd> = 0 は反転文字列の終了を示し、
  現在データ位置は文字列の最後の位置の次に移動する。
  <kbd><i>Ps</i></kbd> の既定値は 0 である。
  </p>
</li>
<li>その他 Unicode に方向を制御する文字がある。
  参考: <a href="https://ja.wikipedia.org/wiki/%E5%8F%8C%E6%96%B9%E5%90%91%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88">双方向テキスト</a>。
  <a href="http://unicode.org/reports/tr9/">UAX #9: Unicode Bidirectional Algorithm</a>
</li>
<li>contra では縦書きの時は SDS(1) は上から下で SDS(2) は下から上であると解釈する。</li>
</ul>

<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<h2>現在位置 (active position)</h2>

<h3>基本制御</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th><th>対象</th><th>意味</th></tr>
<tr><th>SP</th> <td><kbd>SP</kbd></td> <td>データ部</td><td>空白を挿入し、一文字進む</td></tr>
<tr><th>BS</th> <td><kbd>BS</kbd></td> <td>データ部</td><td>一文字戻る</td></tr>
<tr><th>LF</th> <td><kbd>LF</kbd></td> <td>DCSM</td>  <td rowspan="2">一行下</td></tr>
<tr><th>IND</th><td><kbd>IND</kbd></td><td>DCSM?</td> </tr>
<tr><th>RI</th> <td><kbd>RI</kbd></td> <td>DCSM</td>  <td>一行上</td></tr>
<tr><th>FF</th> <td><kbd>FF</kbd></td> <td>表示部</td><td>次の頁</td></tr>
<tr><th>CR</th> <td><kbd>CR</kbd></td> <td>DCSM</td>  <td>行頭</td></tr>
<tr><th>NEL</th><td><kbd>NEL</kbd></td><td>DCSM</td>  <td>次行の行頭</td></tr>
</table>
<ul>
<li>Mode 20 <dfn class="cmode">LNM</dfn>, <dfn class="cmode">LF/NL</dfn><sup>廃</sup>: LINE FEED/NEW LINE MODE [既定値 LINE FEED (RM)]
  <p>[ECMA-48 4th/E.1.3] LF, FF, VT を実行した際に行頭に移動するかどうかを設定する。
    ECMA-48 3rd に初めて記述された時から非推奨だった。
  </p>
  <ul>
  <li><dfn class="cmode-rm">LINE FEED</dfn> (RM): 列は移動しない。</li>
  <li><dfn class="cmode-sm">NEW LINE</dfn> (SM): 行頭に移動する。</li>
  </ul>
  <ul>
  <li>互換性: VT100, <a href="http://www.vt100.net/docs/vt510-rm/LNM.html">VT510: LNM</a>, xterm</li>
  </ul>
</li>
<li><dfn class="cfunc">SP</dfn>: SPACE
  <p>[ECMA-35/6.2.3] SP は図形文字で、何も図形がないという見た目を持つ。
  現在位置を暗黙的移動によって一つ進める役割を持つと考えて良い。
  </p>
  <p>Note: 実際の端末の実装では現在位置にある文字を上書きしてスペースを書き込む。</p>
</li>
<li><dfn class="cfunc">BS</dfn>: BACKSPACE
  <p>[ECMA-48/8.3.5] 現在データ位置を現在の暗黙的移動とは逆の方向に1文字動かす。暗黙的移動の方向は SIMD で変更できる。</p>
  <p>Note: プリンタなど一つの文字位置に複数の文字を重ね書きできる装置では SP と BS は完全に対称な役割を持つ。
  しかし、ディスプレイ端末など1つの文字位置に1つの文字しか表示できない場合、両者は対称でない。
  SP は現在位置の文字を空白に置き換えてから移動するが、BS は単に現在位置を移動するのみである。
  </p>
  <ul>
  <li>xterm の振る舞いを観察すると、
    現在位置が DECSLRM で設定した左マージン以降にあれば、その範囲内に閉じている。
    そうでなければより前に戻る。</li>
  <li>vttest によると現在位置が行末にいる時は、一旦最後の文字に移動してから BS が実行される。
    RLogin の振る舞いを調べると DECSLRM の右境界で xenl 状態になっている時にも同様の補正が行われる。
    xterm の振る舞いを調べると vttest を走らせている間は補正されるが、手動で実行すると何故か補正されない (ちゃんと調べる必要がある)。
    contra は RLogin に倣う。
  </li>
  </ul>
  <p>
  </p>
</li>
<li>Mode ?45 <dfn class="cmode">XTERM_REVERSEWRAP</dfn>
  <p>[xterm, RLogin] 設定されている時、行頭の BS で前の行に移動する。
  </p>
</li>
<li><dfn class="cfunc">LF</dfn>: LINE FEED</li>
<li><dfn class="cfunc">IND</dfn>: INDEX
  <p>[ECMA-48/8.1.74 LF] 現在表示位置または現在データ位置 (DCSM に応じて変わる) を次の行に移動する。列はそのまま。</p>
  <p>Note: IND は ECMA-48 3rd edition までは存在した<sup>[ECMA-48 3rd/8.2.46]</sup>が、
  4th edition で削除予定とされ<sup>[ECMA-48 4th/E.2.3]</sup>、
  5th edition で削除された<sup>[ECMA-48/F.8.2]</sup>。
  5th edition で導入された DCSM との関係は定義されていないが、
  削除されるまでは LF と等価であったので、
  対応するとすれば LF と全く同じに実装するべきだろう。
  </p>
  <ul>
  <li>一般的な実装では、最終行にいる時には一行最後に追加してからその行に移動する。</li>
  <li>xterm, RLogin, mintty では LNM が設定されている時は次の行の先頭に移動する。</li>
  <li>screen, Poderosa は常に列はそのままである (というより LNM がない)。</li>
  </ul>
</li>
<li><dfn class="cfunc">RI</dfn>: REVERSE LINE FEED
  <p>[ECMA-48/8.3.104] DCSM に応じて現在表示位置または現在データ位置を前の行の対応する文字位置に移動する。</p>
  <ul>
  <li>一般的な実装では、最初の行にいる時には1行先頭に追加 (SD(1)) してその行に移動する。</li>
  <li>Poderosa は RI で死ぬことがある。例えば、新しい接続を開いて
  <code>printf '\e[2H\e[L\e[M\n\e[H\eM'</code> を実行すると無限にウィンドウを開いて死ぬ。
  </li>
  </ul>
</li>
<li><dfn class="cfunc">FF</dfn>: FORM FEED
  <p>[ECMA-48/8.1.51] 現在表示位置を次のページの SPH の行に移動する。列はそのまま。</p>
  <ul>
  <li>一般的な実装では単に次の行に移動する。
    最終行にいる時には一行最後に追加してからその行に移動する。</li>
  <li>mintty, screen, Poderosa は LNM の値に拘らず列は移動しない。</li>
  <li>xterm, RLogin では LNM が設定されている時は次の行の先頭に移動する。</li>
  <li>xterm, screen, Poderosa では LF および VT と全く同じ動作である。
    RLogin では LF と全く同じ動作である。mintty では VT と全く同じ動作である。
  </li>
  </ul>
</li>
<li><dfn class="cfunc">CR</dfn>: CARRIAGE RETURN
  <p>[ECMA-48/8.3.15] 行頭に移動する。
  CR の動作は DCSM と SIMD によって変化する。
  現在表示位置または現在データ位置 (DCSM によって変わる) を、
  行内で SLH (SIMD(0) のとき) または SLL (SIMD(1) のとき) に移動する。
  </p>
</li>
<li><dfn class="cfunc">NEL</dfn>: NEXT LINE
  <p>[ECMA-48/8.3.86] 次の行の行頭に移動する。
  実質、次の行に移ってから CR を実行するのに等価である。
  </p>
  <p>Note: もし行毎に SLH, SLL の値を保持するのだとしたら、
  規格の文面を見るに移った先の行の SLH, SLL を用いることになるだろう。
  </p>
  <ul>
  <li><a href="http://www.vt100.net/docs/vt510-rm/NEL.html">VT510: NEL</a></li>
  </ul>
</li>
</ul>

<h3>移動</h3>
<p>ここに、方向と移動量または絶対値を具体的に指定して移動する制御機能をまとめる。
表示部は SPD に応じて縦書きだったりアラビア語の様に右から左に成長する行を持ったりすることに注意する。
従って、見た目の上下左右で移動する制御機能 CUU, CUD, CUF, CUB と、
論理的な行・文字で移動する制御機能 CPL, CNL, CUP, CHA を区別する必要がある。
更に、データ部で (方向付き文字列に影響されずに) 移動する一連の制御機能 HPB, HPR, VPB, VPR, HVP, HPA, VPAも区別する。
</p>
<table class="normal center">
<tr><th colspan="2">データ部で移動</th>
    <th colspan="2">表示部で移動<br/>(方向: 行・文字指向)</th>
    <th colspan="2">表示部で移動<br/>(方向: 見た目の上下左右)</th>
    <th rowspan="2">現在位置の移動先</th></tr>
<tr><th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th>
    <th>略号</th><th>符号化表現</th></tr>
<tr><th>VPB</th><td><kbd>CSI <i>Pn</i> k</kbd></td>
    <th>CPL</th><td><kbd>CSI <i>Pn</i> F</kbd></td>
    <th>CUU</th><td><kbd>CSI <i>Pn</i> A</kbd></td>
    <td><i class="kbd">Pn</i> 行上 (CPL は更に行頭)</td></tr>
<tr><th>VPR</th><td><kbd>CSI <i>Pn</i> e</kbd></td>
    <th>CNL</th><td><kbd>CSI <i>Pn</i> E</kbd></td>
    <th>CUD</th><td><kbd>CSI <i>Pn</i> B</kbd></td>
    <td><i class="kbd">Pn</i> 行下 (CNL は更に行頭)</td></tr>
<tr><th>HPB</th><td><kbd>CSI <i>Pn</i> j</kbd></td>
    <td colspan="2">-</td>
    <th>CUB</th><td><kbd>CSI <i>Pn</i> D</kbd></td>
    <td><i class="kbd">Pn</i> 文字左</td></tr>
<tr><th>HPR</th><td><kbd>CSI <i>Pn</i> a</kbd></td>
    <td colspan="2">-</td>
    <th>CUF</th><td><kbd>CSI <i>Pn</i> C</kbd></td>
    <td><i class="kbd">Pn</i> 文字右</td></tr>
<tr><th>HVP</th><td><kbd>CSI <i>Pn1</i> ; <i>Pn2</i> f</kbd></td>
    <th>CUP</th><td><kbd>CSI <i>Pn1</i> ; <i>Pn2</i> H</kbd></td>
    <td colspan="2">-</td>
    <td><i class="kbd">Pn1</i> 行目の <i class="kbd">Pn2</i> 文字目</td></tr>
<tr><th>VPA</th><td><kbd>CSI <i>Pn</i> d</kbd></td>
    <td colspan="2">-</td>
    <td colspan="2">-</td>
    <td><i class="kbd">Pn</i> 行目</td></tr>
<tr><th>HPA</th><td><kbd>CSI <i>Pn</i> `</kbd></td>
    <th>CHA</th><td><kbd>CSI <i>Pn</i> G</kbd></td>
    <td colspan="2">-</td>
    <td><i class="kbd">Pn</i> 文字目</td></tr>
</table>
<ul>
<li>Mode 22 <dfn class="cmode">ZDM</dfn>: ZERO DEFAULT MODE
  <p>[ECMA-48/7.2.20, F.4.2 (非推奨)] 制御機能 CBT, CHA, CHT, CNL, CPL, CPR, CUB, CUD, CUF, CUP, CUU, CVT,
  DCH, DL, ECH, GSM, HPA, HPB, HPR, HVP, ICH, IL, NP, PP, PPA, PPB, PPR, REP, SD, SL, SR, SU,
  TCC, VPA, VPB, VPR に 0 を指定した時の解釈を切り替える。
  </p>
  <ul>
  <li><dfn class="cmode-rm">ZERO</dfn> (RM): 0 は 0 を意味する。</li>
  <li><dfn class="cmode-sm">DEFAULT</dfn> (SM): 0 は引数の既定値を使うことを意味する。</li>
  </ul>
  <p>Note: ECMA-48 1st Edition では空引数と 0 は共に既定値を意味していた。
  然し、現在の版では引数の既定値の取り扱いが変わった。
  0 を特別扱いしないことによって、引数 0 を指定できるようになった。
  例えば、SSU 単位の引数で 0 を指定できる。
  また、繰り返し回数を指定する引数では 0 は何もしないことを意味する。
  既定値を使いたい時は空引数を用いる。
  ZDM(DEFALT) は初版の動作を期待する場合に使用する。
  </p>
</li>
<li><dfn class="cfunc">CUU</dfn>: CURSOR UP</li>
<li><dfn class="cfunc">CUD</dfn>: CURSOR DOWN</li>
<li><dfn class="cfunc">CUF</dfn>: CURSOR RIGHT (vt510: Cursor Forward)</li>
<li><dfn class="cfunc">CUB</dfn>: CURSOR LEFT (vt510: Cursor Backward)
  <p>[ECMA-48/8.3.22 CUU, 8.3.19 CUD, 8.3.18 CUB, 8.3.20 CUF]
  CUU, CUD, CUB, CUF は、現在表示位置を <i class="kbd">Pn</i> 行または <i class="kbd">Pn</i> 字だけ、
  それぞれ上・下・左・右に移動する。既定値は 1 である。
  ZDM(DEFAULT) の場合は 0 を指定すると 1 と解釈する。
  </p>
  <p>Note: 横書きの場合は CUU, CUD が行の移動で CUB, CUF が列の移動になる。
  縦書きの場合は CUB, CUF が行の移動で CUU, CUD が列の移動になる。</p>
  <ul>
  <li>xterm, screen, mintty, RLogin, Poderosa では 0 を指定すると 1 と解釈する。</li>
  <li>vt100:
    <a href="http://www.vt100.net/docs/vt510-rm/CUU">VT510: CUU</a>
    <a href="http://www.vt100.net/docs/vt510-rm/CUD">VT510: CUD</a>
    <a href="http://www.vt100.net/docs/vt510-rm/CUF">VT510: CUF</a>
    <a href="http://www.vt100.net/docs/vt510-rm/CUB">VT510: CUB</a>
  </li>
  </ul>
</li>
<li><dfn class="cfunc">CUP</dfn>: CURSOR POSITION
  <p>[ECMA-48/8.3.21] 現在表示位置を <i class="kbd">Pn1</i> 行目、<i class="kbd">Pn2</i> 文字目に移動する。
  両引数の既定値は共に 1 である。ZDM(DEFAULT) の場合は 0 を指定すると既定値 1 が使用される。
  </p>
  <ul>
  <li>xterm</li>
  <li>vt100: <a href="http://www.vt100.net/docs/vt510-rm/CUP">VT510: CUP</a></li>
  </ul>
</li>
<li><dfn class="cfunc">CNL</dfn>: CURSOR NEXT LINE</li>
<li><dfn class="cfunc">CPL</dfn>: CURSOR PRECEDING LINE (vt510: Cursor Previous Line)
  <p>[ECMA-48/8.3.12 CNL, 8.3.13 CPL] 現在表示位置を <i class="kbd">Pn</i> 行だけ次 (CNL の場合) または前 (CPL の場合) の行頭に移動する。
  引数の既定値は 1 である。ZDM(DEFAULT) の場合は 0 を指定すると既定値 1 が使用される。
  </p>
  <ul>
  <li>xterm</li>
  <li>vt510: <a href="http://www.vt100.net/docs/vt510-rm/CNL">VT510: CNL</a>
    <a href="http://www.vt100.net/docs/vt510-rm/CPL">VT510: CPL</a>
  </li>
  </ul>
</li>
<li><dfn class="cfunc">CHA</dfn>: CURSOR CHARACTER ABSOLUTE (vt510: Cursor Horizontal Absolute)
  <p>[ECMA-48/8.3.9] 現在表示位置を現在行の <i class="kbd">Pn</i> 文字目に移動する。引数の既定値は 1 であり、ZDM(DEFAULT) の場合は 0 は既定値 1 を意味する。</p>
  <ul>
  <li>xterm</li>
  <li>vt510: <a href="http://www.vt100.net/docs/vt510-rm/CHA">VT510: CHA</a></li>
  </ul>
</li>
<li><dfn class="cfunc">HPA</dfn>: CHARACTER POSITION ABSOLUTE (Horizontal Position Absolute)</li>
<li><dfn class="cfunc">VPA</dfn>: LINE POSITION ABSOLUTE (Vertical Line Position Absolute)
  <p>[ECMA-48/8.3.57 HPA, 8.3.158 VPA]
  現在データ位置を <i class="kbd">Pn</i> 文字目 (の場合) または<i class="kbd">Pn</i> 行目 (VPA の場合) に移動する。
  ZDM(DEFAULT) のとき引数 0 は既定値 1 を意味する。
  </p>
  <ul>
  <li>xterm, RLogin は HPA, VPA に対応する。</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/HPA.html">VT510: HPA</a>
    <a href="http://www.vt100.net/docs/vt510-rm/VPA.html">VT510: VPA</a>
  </li>
  </ul>
</li>
<li><dfn class="cfunc">HPB</dfn>: CHARACTER POSITION BACKWARD</li>
<li><dfn class="cfunc">HPR</dfn>: CHARACTER POSITION FORWARD (Horizontal Position Relative)</li>
<li><dfn class="cfunc">VPB</dfn>: LINE POSITION BACKWARD</li>
<li><dfn class="cfunc">VPR</dfn>: LINE POSITION FORWARD (Vertical Position Relative)
  <p>[ECMA-48/8.3.58 HPB, 8.3.59 HPR, 8.3.159 VPB, 8.3.160 VPR]
  HPB, HPR, VPB, VPR はそれぞれ現在データ位置を左・右・上・下に <i class="kbd">Pn</i> 行または <i class="kbd">Pn</i> 文字だけ移動する。
  ZDM(DEFAULT) のとき引数 0 は既定値 1 を意味する。
  </p>
  <ul>
  <li>xterm は HPR と VPR に対応し、VPB と HPB には対応しない。</li>
  <li>RLogin は HPR, VPR, HPB, VPB に対応する。</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/HPR.html">VT510: HPR</a>
    <a href="http://www.vt100.net/docs/vt510-rm/VPR.html">VT510: VPR</a>
  </li>
  </ul>
</li>
<li><dfn class="cfunc">HVP</dfn>: CHARACTER AND LINE POSITION (Horizontal and Vertical Position)
  <p>[ECMA-48/8.3.63] 現在データ位置を <i class="kbd">Pn1</i> 行目 <i class="kbd">Pn2</i> 文字目に移動する。
  <i class="kbd">Pn1</i> と <i class="kbd">Pn2</i> の既定値は共に 1 である。
  ZDM(DEFAULT) のとき値 0 は既定値 1 を意味する。
  </p>
  <ul>
  <li><a href="http://www.vt100.net/docs/vt510-rm/HVP.html">VT510: HVP</a></li>
  </ul>
</li>
</ul>

<h4>互換性</h4>
<ul>
<li>ECMA-48 に厳密に従うと、全角文字は二つの文字位置を占有するのではなくて、
  一つ<sup>[ECMA-48/6.1.6/2]</sup>の文字位置の大きさが大きい<sup>[ECMA-48/6.3/5]</sup>ものとして扱うことになると思われる。
  しかし xterm, screen, RLogin, mintty, Poderosa のどの実装でも全角文字は二つの文字位置を占有し、
  CUF, CUB その他の制御機能は文字単位ではなくて文字位置単位 (半角単位) で移動する。
  中途半端な位置にカーソルがある状態で文字を挿入すると、下にある全角文字が消去されてからの挿入になる。
  但し、xterm では行末で "あ\ba" 等とすると、何故か全角文字が消去されずに左半分だけが残る (xterm #344 で確認)。
</li>
<li>下にあった全角文字が消去された後に残る余白の属性は端末によって異なる。
  mintty, RLogin, Poderosa では元々其処にあった全角文字の属性が保持される。
  xterm では現在の属性が適用される。screen では属性は解除される。
</li>
</ul>

<h3>位置記録</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th><th>意味</th></tr>
<tr><th>SCOSC</th><td><kbd>CSI s</kbd></td><td>カーソルの位置を保存する。</td></tr>
<tr><th>SCORC</th><td><kbd>CSI u</kbd></td><td>カーソルの位置を復元する。</td></tr>
<tr><th>DECSC</th><td><kbd>ESC 7</kbd></td><td>カーソルの状態を保存する。</td></tr>
<tr><th>DECRC</th><td><kbd>ESC 8</kbd></td><td>カーソルの状態を復元する。</td></tr>
</table>
<ul>
<li><dfn class="cfunc">SCOSC</dfn>: SAVE CURRENT CURSOR POSITION
  <p>現在のカーソル位置を記録する。</p>
  <ul>
  <li>互換性: vt510, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/SCOSC">SCOSC</a></li>
  </ul>
</li>
<li><dfn class="cfunc">SCORC</dfn>: RESTORE SAVED CURSOR POSITION
  <p>SCOSC で記録した位置にカーソル位置を戻す。</p>
  <ul>
  <li>互換性: vt510, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/SCORC">SCORC</a></li>
  </ul>
</li>
<li><dfn class="cfunc">DECSC</dfn>: SAVE CURSOR
  <p>現在のカーソル状態を記録する。
    記録される物にはカーソル位置・描画属性・文字デコード状態・DECAWM・DECOM・DECSCA状態などを含む。
  </p>
  <ul>
  <li>互換性: vt510, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DECSC">DECSC</a></li>
  </ul>
</li>
<li><dfn class="cfunc">DECRC</dfn>: RESTORE CURSOR
  <p>DECSC で記録したカーソル状態を復元する。</p>
  <ul>
  <li>互換性: vt510, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DECRC">DECRC</a></li>
  </ul>
</li>
</ul>

<h3>問い合わせ</h3>
<table class="normal center">
<tr><th>略号</th><th>用途</th><th>符号化表現</th><th>意味</th></tr>
<tr><th>MW</th><td>制御</td><td><kbd>MW</kbd></td><td>メッセージ待ち表示の設定</td></tr>
<tr><th>DSR(5)</th><td>制御</td><td><kbd>CSI 5 n</kbd></td><td rowspan="2">装置の状態を確認</td></tr>
<tr><th>DSR</th><td>応答</td><td><kbd>CSI <i>Ps</i> n</kbd></td></tr>
<tr><th>DSR(6)</th><td>制御</td><td><kbd>CSI 6 n</kbd></td><td rowspan="2">カーソル位置を取得</td></tr>
<tr><th>CPR</th><td>応答</td><td><kbd>CSI <i>Pn1</i> ; <i>Pn2</i> R</kbd></td></tr>
</table>

<ul>
<li><dfn class="cfunc">MW</dfn>: MESSAGE WAITING
  <p>[ECMA-48/8.3.35] メッセージ待ち表示 (message waiting indicator) を受信装置に設定する。
    受信装置は例えば MW を受信したことに対応する応答として DSR を返すなどする。
  </p>
</li>
<li>DSR 5 <dfn class="cfunc">DSR</dfn>: DEVICE STATUS REPORT (Operating Status)
  <p>[ECMA-48/8.3.35] 現在の装置の状態を応答するのに使われる。
    DSR(5) や MW に対する応答として送られる事もあれば、それとは独立に送られる事もある。
  </p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI 5 n</kbd></td><td>現在の装置の状態を問い合わせ。</td></tr>
  <tr><td>応答</td><td><kbd>CSI <i>Ps</i> n</kbd></td><td>現在の装置の状態を応答。</td></tr>
  </table>
  <p><i class="kbd">Ps</i> は以下の状態を示す。</p>
  <table class="normal center">
  <tr><th><i class="kbd">Ps</i></th><th>意味</th></tr>
  <tr><td>0 (既定値)</td><td>準備完了・機能不全なし</td></tr>
  <tr><td>1</td><td>ビジー状態・応答は再送されない</td></tr>
  <tr><td>2</td><td>ビジー状態・後で応答を再送する</td></tr>
  <tr><td>3</td><td>機能不全あり・応答を再送しない</td></tr>
  <tr><td>4</td><td>機能不全あり・後で応答を再送する</td></tr>
  </table>
  <ul>
  <li>[<a href="https://www.vt100.net/docs/vt510-rm/DSR-OS.html">VT510: DSR-OS</a>]</li>
  </ul>
</li>
<li>DSR 6 <dfn class="cfunc">CPR</dfn>: ACTIVE POSITION REPORT (Cursor Position Report)
  <p>[ECMA-48/8.3.35] 表示位置またはデータ位置を問い合わせる。
    DCSM(PRESENTATION) の時表示位置を返し、DCSM(DATA)の時データ位置を返す。
    既定値は <i class="kbd">Pl</i> = 1, <i class="kbd">Pc</i> = 1 で、
    ZDM(DEFAULT) のとき 0 は既定値を意味する。
  </p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI 6 n</kbd></td><td>現在位置問い合わせ。</td></tr>
  <tr><td>応答</td><td><kbd>CSI <i>Pl</i> ; <i>Pc</i> R</kbd></td>
      <td>現在位置が <i class="kbd">Pl</i> 行 <i class="kbd">Pc</i> 列にある事を示す。</td></tr>
  </table>
  <ul>
  <li>互換性: vt100, xterm</li>
  <li>[<a href="http://www.vt100.net/docs/vt510-rm/CPR">VT510: CPR</a>, <a href="http://www.vt100.net/docs/vt510-rm/DSR-CPR">VT510: DSR-CPR</a>]</li>
  <li>Poderosa は CPR ではなくて DSR(Pn;Pn) で応答する。</li>
  </ul>
</li>
<li>DSR ?6 <dfn class="cfunc">DECXCPR</dfn>: Extended Cursor Position Report
  <p>[VT510] 現在頁番号も含めて現在位置を問い合わせる。</p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI ? 6 n</kbd></td><td>現在位置問い合わせ。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? <i>Pl</i> ; <i>Pc</i> ; <i>Pp</i> R</kbd></td>
      <td>現在位置が <i class="kbd">Pp</i> 頁目の <i class="kbd">Pl</i> 行 <i class="kbd">Pc</i> 列にある事を示す。</td></tr>
  </table>
  <ul>
  <li>[VT510: <a href="https://www.vt100.net/docs/vt510-rm/DSR-XCPR.html">DSR-XCPR</a>,
    <a href="https://www.vt100.net/docs/vt510-rm/DECXCPR.html">DECXCPR</a>]</li>
  </ul>
</li>
<li>DSR ?15 <dfn class="cfunc">DSR-PP</dfn>: Printer Port
  <p>[VT510] プリンタの状態を問い合わせる。</p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>状態</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI ? 1 5 n</kbd></td><td>問い合わせ</td><td></td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 1 3 n</kbd></td><td>プリンタ未接続  </td><td>再起動またはリセットの後 DTR信号がプリンタポートに確認されていない。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 1 0 n</kbd></td><td>プリンタ準備完了</td><td>DTR信号がプリンタポートで確認されている。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 1 1 n</kbd></td><td>プリンタ準備中  </td><td>DTR信号がプリンタポートで確認できていない。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 1 8 n</kbd></td><td>プリンタ使用中  </td><td>DTR信号は確認できるが他のセッションが使っている。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 1 9 n</kbd></td><td>プリンタ利用不可</td><td>DTR信号は確認できるが他のセッションに割り当てられている。</td></tr>
  </table>
  <ul>
  <li>VT Level 1 ではプリンタ使用中の時にプリンタ準備中の応答を行う。
    VT100モードではプリンタ使用中(利用不可)はプリンタ未接続の応答を行う。</li>
  </ul>
</li>
<li>DSR ?25 <dfn class="cfunc">DSR-UDK</dfn>: User-Defined Keys
  <p>[VT510] UDK (ユーザー定義キー) がロックされているかどうかを問い合わせる。VT Level 4 のみ。</p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI ? 2 5 n</kbd></td><td>問い合わせ。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 2 0 n</kbd></td><td>UDK はアンロックされている。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 2 1 n</kbd></td><td>UDK はロックされている。</td></tr>
  </table>
  <ul>
  <li>[VT510: <a href="https://www.vt100.net/docs/vt510-rm/DSR-UDK.html">DSR-UDK</a>]</li>
  </ul>
</li>
<li>DSR ?26 <dfn class="cfunc">DSR-KBD</dfn>: Keyboard
  <p>[VT510] キーボードの言語・状態・タイプを問い合わせる。</p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI ? 2 6 n</kbd></td><td>問い合わせ。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 2 7 ; <i>Pn</i> ; <i>Pst</i> ; <i>Ptyp</i> n</kbd></td><td>キーボードの言語・状態・タイプの通知。</td></tr>
  </table>
  <p><i class="kbd">Pn</i> は以下の表にあるようにキーボード言語を指定する。
    <i class="kbd">Pst</i> は VT Level 4 以降で利用可能で、キーボード状態を表す。
    0 がキーボード準備完了、1 がキーボード未接続、8 がキーボードは他のセッションが使用中である事を表す。
    <i class="kbd">Ptyp</i> はキーボードのタイプを表す。4 が LK450 で 5 が PCXAL である。
  </p>
  <table class="normal center">
  <caption>表: キーボード言語</caption>
  <tr><th><i class="kbd">Pn</i></th><th>言語</th>
      <th><i class="kbd">Pn</i></th><th>言語</th>
      <th><i class="kbd">Pn</i></th><th>言語</th></tr>
  <tr><td>0</td><td>不明                </td><td>10</td><td>Swiss French       </td><td>29</td><td>Turkish-Q/Turkish  </td></tr>
  <tr><td>1</td><td>North American      </td><td>11</td><td>Swiss German       </td><td>30</td><td>Turkish-F/Turkish  </td></tr>
  <tr><td>2</td><td>British             </td><td>12</td><td>Swedish            </td><td>31</td><td>Hungarian          </td></tr>
  <tr><td>3</td><td>Belgian (Flemish)   </td><td>13</td><td>Norwegian          </td><td>33</td><td>Slovak             </td></tr>
  <tr><td>4</td><td>French Canadian     </td><td>14</td><td>French             </td><td>35</td><td>Polish             </td></tr>
  <tr><td>5</td><td>Danish              </td><td>15</td><td>Spanish            </td><td>36</td><td>Romanian           </td></tr>
  <tr><td>6</td><td>Finnish             </td><td>16</td><td>Portuguese         </td><td>38</td><td>SCS                </td></tr>
  <tr><td>7</td><td>German              </td><td>19</td><td>Hebrew             </td><td>39</td><td>Russian            </td></tr>
  <tr><td>8</td><td>Dutch               </td><td>22</td><td>Greek              </td><td>40</td><td>Latin American     </td></tr>
  <tr><td>9</td><td>Italian             </td><td>28</td><td>Canadian (English) </td><td>- </td><td>-                  </td></tr>
  </table>
  <ul>
  <li>[VT510: <a href="https://www.vt100.net/docs/vt510-rm/DSR-KBD.html">DSR-KBD</a>]</li>
  </ul>
</li>
<li>DSR ?62 <dfn class="cfunc">DECMSR</dfn>: Macro Space Report
  <p>[VT510] マクロ定義に使うことのできるメモリ量を問い合わせる。
    <i class="kbd">Pn</i> は使えるバイト数を16で割ったもの (切り捨て)。</p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI ? 6 2 n</kbd></td><td>問い合わせ。</td></tr>
  <tr><td>応答</td><td><kbd>CSI <i>Pn</i> * {</kbd></td><td>16 * <i>Pn</i> バイト使うことができる。</td></tr>
  </table>
  <ul>
  <li>[VT510: <a href="https://www.vt100.net/docs/vt510-rm/DSR-MSR.html">DSR-MSR</a>,
    <a href="https://www.vt100.net/docs/vt510-rm/DECMSR.html">DECMSR</a>]</li>
  </ul>
</li>
<li>DSR ?63 <dfn class="cfunc">DECCKSR</dfn>: Memory Checksum
  <p>[VT510] マクロデータのチェックサムを計算する。
    これは保存したマクロが他のアプリケーションによって書き換えられていないか
    確認する為に使うことができる。
  </p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI ? 6 3 ; <i>Pid</i> n</kbd></td><td>問い合わせ。<i class="kbd">Pid</i> は対応する応答を識別する為の番号</td></tr>
  <tr><td>応答</td><td><kbd>DCS <i>Pid</i> ! ~ <i>D..D</i> ST</kbd></td><td><i class="kbd">D..D</i> は16進4桁のチェックサム</td></tr>
  </table>
  <ul>
  <li>[VT510: <a href="https://www.vt100.net/docs/vt510-rm/DSR-DECCKSR.html">DSR-DECCKSR</a>,
    <a href="https://www.vt100.net/docs/vt510-rm/DECCKSR.html">DECCKSR</a>]</li>
  </ul>
</li>
<li>DSR ?75 <dfn class="cfunc">DSR-DIR</dfn>: Data Integrity Report
  <p>[VT510] データ完全性のチェックに用いる。前回の応答以降に通信エラーがあったかどうかをチェックする。</p>
  <table class="normal center">
  <tr><th>種類</th><th>符号化表現</th><th>意味</th></tr>
  <tr><td>要求</td><td><kbd>CSI ? 7 5 n</kbd></td><td>問い合わせ。データ完全性フラグのクリア。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 7 0 n</kbd></td><td>異常なし。前回の応答以降、通信エラーも再起動もなかった。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 7 1 n</kbd></td><td>異常あり。前回の応答以降、通信エラーがあった。</td></tr>
  <tr><td>応答</td><td><kbd>CSI ? 7 3 n</kbd></td><td>チェック開始。前回の再起動またはリセット (RIS) 以降で初めての応答。</td></tr>
  </table>
  <ul>
  <li>[VT510: <a href="https://www.vt100.net/docs/vt510-rm/DSR-DIR.html">DSR-DIR</a>]</li>
  </ul>
</li>
</ul>

<h3>スクロール</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th><th>意味</th></tr>
<tr><th>SU</th><td><kbd>CSI <i>Pn</i> S</kbd></td><td>上にスクロール</td></tr>
<tr><th>SD</th><td><kbd>CSI <i>Pn</i> T</kbd></td><td>下にスクロール</td></tr>
<tr><th>SL</th><td><kbd>CSI <i>Pn</i> SP @</kbd></td><td>左にスクロール</td></tr>
<tr><th>SR</th><td><kbd>CSI <i>Pn</i> SP A</kbd></td><td>右にスクロール</td></tr>
</table>
<ul>
<li><dfn class="cfunc">SU</dfn>: SCROLL UP</li>
<li><dfn class="cfunc">SD</dfn>: SCROLL DOWN</li>
<li><dfn class="cfunc">SL</dfn>: SCROLL LEFT</li>
<li><dfn class="cfunc">SR</dfn>: SCROLL RIGHT
  <p>[ECMA-48/8.3.147 SU, 8.3.113 SD, 8.3.121 SL, 8.3.135 SR]
    表示部に於いてそれぞれ上下左右に表示内容をスクロールする。
    引数は行数または文字位置の数を指定する。表示位置は変化しない。
  </p>
  <ul>
  <li>互換性: xterm, mintty, RLogin, Poderosa では DECSTBM の影響を受ける。</li>
  </ul>
</li>
<li>Mode ?4 <dfn class="cmode">DECSCLM</dfn>: Scrolling Mode [既定値: SM]
  <p>[<a href="https://www.vt100.net/docs/vt510-rm/DECSCLM.html">VT510/DECSCLM</a>]
    設定されている時、なめらかなスクロールを実行する。
    解除されている時、ジャンプスクロールを実行する。
  </p>
</li>
</ul>

<h2>タブ (tabulation)</h2>
<p>[ECMA-48/6.7] <dfn>タブ</dfn> (tabulation) は文字列を縦横に綺麗に並べる為の仕組みである。
そのために表示部で指定される文字位置はまたは行を<dfn>タブ位置</dfn> (tabulation stop) という。
<dfn>文字タブ位置</dfn> (character tabulation stop) は CTC, HTS, TAC, TALE, TATE, TCC によって設置され、
<dfn>行タブ位置</dfn> (line tabulation stop) は VTS によって設置される。
<dfn>フィールド</dfn> (field) はある文字タブ位置から次の文字タブ位置の直前までの文字列を指す。
フィールド内の文字位置の順序、乃至、行内の文字タブ位置の順序はその行の文字進路に従う。
</p>

<p>各文字タブ位置には文字列の揃え方を指定する属性がある。
この文書では各属性値に対応する制御機能名 TATE, TALE, TAC, TCC を以てその属性値を表す事にする
(T.416/9.1.13 ではそれぞれの属性値に明示的に名前が割り当てられている)。
既定値は TATE である。
</p>
<table class="normal center">
<tr><th>属性値</th><th>T.416 alignment</th><th>意味</th></tr>
<tr><td>TATE (終端揃えタブ)</td><td>start-aligned</td> <td>以降の文字列の最初の文字がタブ位置に来る様に揃える。</td></tr>
<tr><td>TALE (始端揃えタブ)</td><td>end-aligned</td>   <td>以降の文字列の最後の文字がタブ位置に来る様に揃える。</td></tr>
<tr><td>TAC  (中央揃えタブ)</td><td>centred</td>       <td>文字列の最初の文字と最後の文字がタブ位置からできるだけ等距離になる様に揃える。</td></tr>
<tr><td>TCC  (文字中央タブ)</td><td>aligned-around</td>
    <td>TCC で指定した揃え文字がタブ位置に来る様に揃える。<br/>
    揃え文字が文字列中に複数現れるときは最初のものを使う。<br/>
    揃え文字が文字列中に現れない時は TATE と同様に振る舞う。</td></tr>
</table>

<p>Note: ECMA-48 4th 以前では水平タブ位置 (horizontal tabulation stop)・垂直タブ位置 (vertical tabulation stop) と呼称していたが、
5th edition での SPD による縦書きなどの対応に従って、
文字タブ位置 (character tabulation stop)・行タブ位置 (line tabulation stop) に改められた。
</p>

<h3>タブの設置</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th><th>意味</th></tr>
<tr><th>HTS</th><td><kbd>HTS</kbd></td><td>現在表示位置に文字タブ位置を設置</td></tr>
<tr><th>VTS</th><td><kbd>VTS</kbd></td><td>現在表示行に行タブ位置を設置</td></tr>
<tr><th>HTSA<sup>廃</sup></th><td><kbd>CSI <i>Pn</i>... SP N</kbd></td><td>現在表示行の文字タブ位置を設定</td></tr>
<tr><th>TATE</th><td><kbd>CSI <i>Pn1</i> SP `</kbd></td><td rowspan="4">現在表示行 <i class="kbd">Pn1</i> 文字目に各属性のタブを設置</td></tr>
<tr><th>TALE</th><td><kbd>CSI <i>Pn1</i> SP a</kbd></td></tr>
<tr><th>TAC</th> <td><kbd>CSI <i>Pn1</i> SP b</kbd></td></tr>
<tr><th>TCC</th> <td><kbd>CSI <i>Pn1</i> ; <i>Pn2</i> SP c</kbd></td></tr>
<tr><th>TSR</th><td><kbd>CSI <i>Pn</i> SP d</kbd></td><td>現在表示行 <i class="kbd">Pn</i> 文字目の文字タブ位置を解除</td></tr>
<tr><th>CTC</th><td><kbd>CSI <i>Ps</i> W</kbd></td><td>タブ位置の操作</td></tr>
<tr><th>TBC</th><td><kbd>CSI <i>Ps</i> g</kbd></td><td>タブ位置の解除</td></tr>
</table>
<ul>
<li>Mode 18 <dfn class="cmode">TSM</dfn>: TABULATION STOP MODE
  <p>[ECMA-48/7.2.17] CTC, DL, HTS, HTSA, IL, TBC における文字タブ位置の扱いを設定する。</p>
  <ul>
  <li><dfn class="cmode-rm">MULTIPLE</dfn> (RM): 文字タブ位置の設定と解除は、現在表示行と前後の全ての行に同時に適用する。</li>
  <li><dfn class="cmode-sm">SINGLE</dfn> (RM): 文字タブ位置は現在表示行にのみ適用される。</li>
  </ul>
  <p>Note: TSM(MULTIPLE) のとき "of the preceding lines and of the following lines" とあるので他のページの行には同時に適用されないのだと思われる。
  実際、RLogin の実装ではページ毎に文字タブ位置の設定が記録され、或るページでの設定は別のページに影響を与えない様だ。
  </p>
</li>
<li><dfn class="cfunc">HTS</dfn>: CHARACTER TABULATION SET
  <p>[ECMA-48/8.3.62] 現在表示位置に文字タブ位置を設定する。対象の行は TSM によって決まる。</p>
</li>
<li><dfn class="cfunc">VTS</dfn>: LINE TABULATION SET
  <p>[ECMA-48/8.3.162] 現在表示行に行タブ位置を設定する。</p>
</li>
<li><dfn class="cfunc">HTSA</dfn>: CHARACTER TABULATION SET ABSOLUTE
  <p>[ECMA-48 3rd/8.2.40] 対象の行の文字タブ位置を全て削除し、引数で指定した位置に文字タブ位置を設定する。
  対象の行は TSM で決まる。引数の単位は PUM で決まる。</p>
  <p>Note: [ECMA-48/F.8.3] ECMA-48 3rd で導入され 4th で非推奨となり 5th で廃止された。以下に 3rd edition における原文を載せる。</p>
  <div class="note" style="max-width:50em;margin:auto;">8.2.40 HTS - HORIZONTAL TABULATION SET ABSOLUTE
    <p>Representation : Table 3 - variable number of numeric parameters; no defualt value.</p>
    <p>HTSA is a format effector which causes a horizontal tabulation stop to be set at each position corresponding to a parameter value.
    All other horizontal tabulation stops in the affected line or lines are cleared. The active position is not affected.
    </p>
    <p>The unit in which the parameters are expressed depends on the setting of the POSITION UNIT MODE (PUM).</p>
    <p>The number of lines affected depends on the setting of the TABULATION STOP MODE (TSM).</p>
  </div>
</li>
<li><dfn class="cfunc">TATE</dfn>: TABULATION ALIGNED TRAILING EDGE</li>
<li><dfn class="cfunc">TALE</dfn>: TABULATION ALIGNED LEADING EDGE</li>
<li><dfn class="cfunc">TAC</dfn>: TABULATION ALIGNED CENTRED</li>
<li><dfn class="cfunc">TCC</dfn>: TABULATION CENTRED ON CHARACTER
  <p>[ECMA-48/8.3.153 TATE, 8.3.152 TALE, 8.3.151 TAC, 8.3.155 TCC]
  現在行と以降の行の <i class="kbd">Pn1</i> 個目の文字位置に、
  それぞれの制御機能に対応した alignment を持つタブ位置を設置する。
  TCC の場合は <i class="kbd">Pn2</i> に揃える文字の文字コードを指定する。
  文字コードの指定は、現在 GL, GR に呼び出されている文字について、その番号 32-127, 160-255 で行う。
  指定した文字位置に既にタブ位置が設定されている場合はそれを置き換える。
  引数の既定値は指定されない。
  </p>
</li>
<li><dfn class="cfunc">TSR</dfn>: TABULATION STOP REMOVE
  <p>[ECMA-48/8.3.156] 現在行と以降の行の <i class="kbd">Pn</i> 文字目にある文字タブ位置を削除する。引数の既定値は指定されない。</p>
</li>
<li><dfn class="cfunc">CTC</dfn>: CURSOR TABULATION CONTROL
  <p>[ECMA-48/8.3.17] 引数に応じて表示部にある複数のタブ位置を設定または解除する。
  </p>
  <table class="normal center">
  <tr><th><i class="kbd">Ps</i></th><th>意味</th></tr>
  <tr><td>0 (既定値)</td><td>現在位置に文字タブ位置を設定する</td></tr>
  <tr><td>1</td><td>現在行に行タブ位置を設定する</td></tr>
  <tr><td>2</td><td>現在位置の文字タブ位置を解除する</td></tr>
  <tr><td>3</td><td>現在行の行タブ位置を解除する</td></tr>
  <tr><td>4</td><td>現在行の全ての文字タブ位置を解除する</td></tr>
  <tr><td>5</td><td>全ての文字タブ位置を解除する</td></tr>
  <tr><td>6</td><td>全ての行タブ位置を解除する</td></tr>
  </table>
  <p>引数 0, 2 または 4 を指定したときに影響を受ける行は TSM による。</p>
</li>
<li><dfn class="cfunc">TBC</dfn>: TABULATION CLEAR
  <p>[ECMA-48/8.3.154] 引数に応じて表示部にある複数のタブ位置を解除する。</p>
  <table class="normal center">
  <tr><th><i class="kbd">Ps</i></th><th>意味</th></tr>
  <tr><td>0 (既定値)</td><td>現在位置の文字タブ位置を解除する</td></tr>
  <tr><td>1</td><td>現在行の行タブ位置を解除する</td></tr>
  <tr><td>2</td><td>現在行の全ての文字タブ位置を解除する</td></tr>
  <tr><td>3</td><td>全ての文字タブ位置を解除する</td></tr>
  <tr><td>4</td><td>全ての行タブ位置を解除する</td></tr>
  <tr><td>5</td><td>全てのタブ位置を解除する</td></tr>
  </table>
  <p>引数 0 または 2 を指定したとき影響のある行は TSM による。</p>
</li>
</ul>

<h3>タブ移動</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th><th>意味</th></tr>
<tr><th>HT</th> <td><kbd>HT</kbd></td><td>次の文字タブ位置</td></tr>
<tr><th>HTJ</th><td><kbd>HTJ</kbd></td><td>フィールド右寄せ・次の文字タブ位置</td></tr>
<tr><th>VT</th> <td><kbd>VT</kbd></td><td>次の行タブ位置</td></tr>
<tr><th>CHT</th><td><kbd>CSI <i>Pn</i> I</kbd></td><td></td></tr>
<tr><th>CBT</th><td><kbd>CSI <i>Pn</i> Z</kbd></td><td></td></tr>
<tr><th>CVT</th><td><kbd>CSI <i>Pn</i> Y</kbd></td><td></td></tr>
<tr><th>STAB</th><td><kbd>CSI <i>Pn</i> SP ^</kbd></td><td></td></tr>
</table>
<ul>
<li><dfn class="cfunc">HT</dfn>: CHARACTER TABULATION
  <p>[ECMA-48/8.3.60] 現在表示位置を次の文字タブ位置に移動する。
  更に、その文字タブ位置が TATE, TALE, TAC, TCC によって設置された物の場合、
  HT は TATE, TALE, TAC, TCC による位置揃えの対象となる文字列の開始を示す。
  文字列は次の HT, CR, NEL によって終わる。
  </p>
</li>
<li><dfn class="cfunc">HTJ</dfn>: CHARACTER TABULATION WITH JUSTIFICATION
  <p>[ECMA-48/8.3.61] 現在フィールドの内容を右寄せし、
  現在表示位置を次の文字タブ位置に移動する。
  つまり、現在フィールドの内容をシフトし、フィールド先頭の余った文字位置は消去する。
  </p>
</li>
<li><dfn class="cfunc">VT</dfn>: LINE TABULATION
  <p>[ECMA-48/8.1.161] 現在表示位置を次の行タブ位置のある行に移動する。列はそのまま。</p>
  <ul>
  <li>一般的な実装では単に次の行に移動する。
    最終行にいる時には一行最後に追加してからその行に移動する。</li>
  <li>xterm, RLogin は LNM が設定されている時には次の行の先頭に移動する。</li>
  <li>mintty, screen, Poderosa は LNM の値に拘らず列は移動しない。</li>
  <li>RLogin では最終行にいても行の追加・移動は行わない。
    LNM が設定されている時に最終行にいる時は単に行頭に移動する。</li>
  <li>xterm, screen, Poderosa では LF と全く同じ動作である。</li>
  </ul>
</li>
<li><dfn class="cfunc">CVT</dfn>: CURSOR LINE TABULATION
  <p>[ECMA-48/8.3.23]
  現在表示位置を <i class="kbd">Pn</i> 個次の行タブ位置のある行の同じ列に移動する。
  <i class="kbd">Pn</i> の既定値は 1 で、ZDM(DEFAULT) のとき 0 は既定値を意味する。
  </p>
</li>
<li><dfn class="cfunc">CHT</dfn>: CURSOR FORWARD TABULATION (Cursor Horizontal Forward Tabulation)
  <p>[ECMA-48/8.3.10]
  現在表示位置を文字進路方向に <i class="kbd">Pn</i> 個次の文字タブ位置に移動する。
  <i class="kbd">Pn</i> の既定値は 1 で、ZDM(DEFAULT) のとき 0 は既定値を意味する。
  </p>
  <p>Note: 次の行の文字タブ位置まで移動できるかどうかは規格の文面からは不明瞭である。
  実際の実装ではどの実装も行内での移動になっている。
  規格には the n-th following character tabulation stop in the presentation component,
  according to the character path と書かれている。"表示部内で n 番目" ということは次の行の文字タブ位置まで
  移動しても良いような気がするが、一方で "文字進路によって" とも書かれているので行内に限られるとも読める。
  </p>
  <ul>
  <li>xterm, screen, RLogin, Poderosa は行内で移動する。</li>
  <li>mintty は対応していない。</li>
  <li>vt510 <a href="http://www.vt100.net/docs/vt510-rm/CHT">VT510: CHT</a></li>
  </ul>
</li>
<li><dfn class="cfunc">CBT</dfn>: CURSOR BACKWARD TABULATION
  <p>[ECMA-48/8.3.7]
  現在表示位置を文字進路と逆方向に <i class="kbd">Pn</i> 個次の文字タブ位置に移動する。
  <i class="kbd">Pn</i> の既定値は 1 で、ZDM(DEFAULT) のとき 0 は既定値を意味する。
  </p>
  <ul>
  <li>xterm, screen, mintty, RLogin, Poderosa が対応する。
    mintty は CHT に対応していないが CBT には対応していることに注意。
  </li>
  <li>vt510 <a href="http://www.vt100.net/docs/vt510-rm/CBT">VT510: CBT</a></li>
  </ul>
</li>
<li><dfn class="cfunc">STAB</dfn>: SELECTIVE TABULATION
  <p>[ECMA-48/8.3.144]
  表示部において以降の文字列を、引数によって指定されるタブ位置とその性質に従って揃える。
  タブ位置のリストは他の規格 (例えば ISO 8613-6) によって提供される。引数の既定値はない。
  </p>
  <p>[T.416/13.1.12]
  以降の文章 (別の STAB または行末まで) の配置を指定する。
  引数は行レイアウト表 (line layout table) 中のタブ位置を指定する。
  文章はそのタブ位置においてそのタブ位置の性質に従って揃えられる。
  引数を省略すると文章は次のタブ位置に揃えられる。
  </p>
  <p>[T.416/9.1.13] 行レイアウト表は (index, position, alignment, string) の集合である。
  index は 0-9999 で指定する STAB の引数で指定する為のもので、position は非負整数、
  alignment は start-aligned, end-aligned, centred, aligned-around の内の一つ、
  string は alignment: aligned-around のときに使われる揃える文字列を示す。
  </p>
</li>
</ul>

<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<h2>挿入・削除</h2>

<table class="normal center">
<tr><th>略号</th><th>符号化表現</th><th>意味</th></tr>
<tr><th>SEE</th><td><kbd>CSI <i>Ps</i> Q</kbd></td><td>DCH, ICH, DL, IL のシフト範囲を規定</td></tr>
<tr><th>DCH</th><td><kbd>CSI <i>Pn</i> P</kbd></td><td><i class="kbd">Pn</i> 文字切除</td></tr>
<tr><th>ECH</th><td><kbd>CSI <i>Pn</i> X</kbd></td><td><i class="kbd">Pn</i> 文字消去</td></tr>
<tr><th>ICH</th><td><kbd>CSI <i>Pn</i> @</kbd></td><td><i class="kbd">Pn</i> 文字挿入</td></tr>
<tr><th>DL</th> <td><kbd>CSI <i>Pn</i> M</kbd></td><td><i class="kbd">Pn</i> 行切除</td></tr>
<tr><th>IL</th> <td><kbd>CSI <i>Pn</i> L</kbd></td><td><i class="kbd">Pn</i> 行挿入</td></tr>
<tr><th>EL</th> <td><kbd>CSI <i>Ps</i> K</kbd></td><td>行内の消去</td></tr>
<tr><th>EF</th> <td><kbd>CSI <i>Ps</i> N</kbd></td><td>フィールド内の消去</td></tr>
<tr><th>EA</th> <td><kbd>CSI <i>Ps</i> O</kbd></td><td>領域内の消去</td></tr>
<tr><th>ED</th> <td><kbd>CSI <i>Ps</i> J</kbd></td><td>頁内の消去</td></tr>
</table>
<ul>
<li>Mode 6 <dfn class="cmode">ERM</dfn>: ERASURE MODE
  <p>[ECMA-48/7.2.4] EA, ECH, ED, EF, EL で保護領域の文字を消去するかどうかを設定する。</p>
  <ul>
  <li><dfn class="cmode-rm">PROTECT</dfn> (SM): 保護領域の内容は消去されない。</li>
  <li><dfn class="cmode-sm">ALL</dfn> (RM): 保護領域の内容も消去される。</li>
  </ul>
</li>
<li>Mode 7 <dfn class="cmode">VEM</dfn>: LINE EDITING MODE
  <p>[ECMA-48/7.2.19] DL, IL の動作を指定する。</p>
  <ul>
  <li><dfn class="cmode-rm">FOLLOWING</dfn> (RM): 行挿入・削除において現在行以降がシフトの対象となる。</li>
  <li><dfn class="cmode-sm">PRECEDING</dfn> (SM): 行挿入・削除において現在行以前がシフトの対象となる。</li>
  </ul>
  <p>DCSM の値に従って表示部またはデータ部でシフトが実行される。
  行の前後は行進行の方向に従って定めたものである。
  </p>
</li>
<li>Mode 10 <dfn class="cmode">HEM</dfn>: CHARACTER EDITING MODE
  <p>[ECMA-48/7.2.9] DCH, ICH の動作を指定する。</p>
  <ul>
  <li><dfn class="cmode-rm">FOLLOWING</dfn> (RM): 文字挿入・削除において現在位置以降がシフトの対象となる。</li>
  <li><dfn class="cmode-sm">PRECEDING</dfn> (SM): 文字挿入・削除において現在位置以前がシフトの対象となる。</li>
  </ul>
  <p>DCSM の値に従って表示部またはデータ部でシフトが実行される。
  位置の前後は文字進行または文字進路の方向に従って定めたものである。
  </p>
</li>
<li><dfn class="cfunc">SEE</dfn>: SELECT EDITING EXTENT
  <p>[ECMA-48/8.3.115] DCH, DL, ICH, IL においてシフト対象の範囲を設定する。
  設定は次の SEE が現れるまで有効である。既定値は 0 である。
  </p>
  <table class="normal center">
  <tr><th><i class="kbd">Ps</i></th><th>シフト対象</th></tr>
  <tr><td>0</td><td>表示部の現在ページに限られる。</td></tr>
  <tr><td>1</td><td>表示部の現在行に限られる。</td></tr>
  <tr><td>2</td><td>表示部の現在のフィールドに限られる。</td></tr>
  <tr><td>3</td><td>現在の属性化領域に限られる。</td></tr>
  <tr><td>4</td><td>表示部全体の関係ある部分からなる。</td></tr>
  </table>
  <p>Note: 関係ある部分 (the relevant part of the entire presentation component) が一体何なのかは不明瞭である。
  処理系で完全に自由に定義できるのか、或いは、できるだけ表示部の中で大きく取らなければならないのか。
  </p>
</li>
<li><dfn class="cfunc">DCH</dfn>: DELETE CHARACTER
  <p>[ECMA-48/8.3.26]
  現在位置および次 (HEM(FOLLOWING) のとき) または前 (HEM(PRECEDING) のとき) の <i class="kbd">Pn</i> - 1 個の文字位置を行から除去する。
  つまり、現在位置から <i class="kbd">Pn</i> 文字次以降の内容が現在位置に向かってシフトされ、シフトによってできた余白は消去される。
  シフトの範囲は SEE によって指定される。シフトに依って選択領域・属性化領域・タブ位置がどう影響を受けるかは規格では指定されない。
  除去範囲およびシフトは DCSM に応じて表示部またはデータ部で決定される。
  引数の既定値は 1 で、ZDM(DEFAULT) のとき引数 0 は既定値 1 を意味する。
  </p>
  <ul>
  <li>VT100; xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DCH">VT510: DCH</a></li>
  </ul>
</li>
<li><dfn class="cfunc">ECH</dfn>: ERASE CHARACTER
  <p>[ECMA-48/8.3.38]
  現在位置に加えて後ろに続く <i class="kbd">Pn</i> -1 個の文字位置を消去する。
  消去の範囲は DCSM に応じて表示部またはデータ部で決定される。
  ERM に依存して保護領域の文字も消去するかどうかが決まる。
  引数の既定値は 1 で、ZDM(DEFAULT) のとき引数 0 は既定値 1 を意味する。
  </p>
  <ul>
  <li>VT420; xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/ECH">VT510: ECH</a></li>
  </ul>
</li>
<li><dfn class="cfunc">ICH</dfn>: INSERT CHARACTER
  <p>[ECMA-48/8.3.64]
  現在位置および <i class="kbd">Pn</i> - 1 個の文字位置を HEM に応じて後または前に挿入する。
  つまり、現在位置とその後または前の部分が <i class="kbd">Pn</i> 個だけシフトされ、
  シフト部分の反対側の端にあった <i class="kbd">Pn</i> 個の文字は失われる。
  現在位置は SLH に移動する。シフト対象は SEE によって設定される。
  現在位置およびシフト部分の決定は DCSM に応じて表示部またはデータ部で行われる。
  選択領域・属性化領域・文字タブ位置の上で ICH をした時の振る舞いは定義されない。
  引数の既定値は 1 で、ZDM(DEFAULT) のとき引数 0 は既定値 1 を意味する。
  </p>
  <ul>
  <li>xterm, RLogin, mintty, screen, Poderosa では現在位置は変化しない。</li>
  <li>VT420 <a href="http://www.vt100.net/docs/vt510-rm/ICH">VT510: ICH</a></li>
  </ul>
</li>
<li>互換性: 行末における ECH, DCH, ICHの振る舞いについて。
  xenl cap 等で行末にいる時の振る舞いは端末によって異なる様だ。
  mintty では何も起こらない。xterm, RLogin 及び screen は最後の文字を消去する。
  更に xterm, RLogin ではカーソル位置は最後の文字に移動する。screen は移動しない。
</li>
<li>互換性 (terminfo bce, termcap ut):
  ECH, DCH, ICH で消去された領域 (DCH の場合は行末に挿入される領域、ICH の場合は現在位置に挿入される領域)
  に現在の背景色が適用されるかどうかは端末によって異なる。
  xterm, mintty, RLogin, Poderosa では適用される。screen では適用されない。
  但し Poderosa ではバグがあって DCH を実行すると行末の属性がそれ以降全てに適用されてしまう。
  (当初は描画属性が全て適用されるのかと思ったが、
  xterm, RLogin で試すとどうやら適用されるのは背景色だけの様である。)
</li>
<li><dfn class="cfunc">DL</dfn>: DELETE LINE
  <p>[ECMA-48/8.3.32]
  現在行と、VEM に応じて前または後の <i class="kbd">Pn</i> - 1 行を除去する。
  つまり、<i class="kbd">Pn</i> 行目以降を現在行の方向にシフトさせ、シフト部分の反対側の <i class="kbd">Pn</i> 行の内容は消去される。
  引数の既定値は 1 で、ZDM(DEFAULT) のとき引数 0 は既定値 1 を意味する。
  シフト範囲は SEE による。現在位置は現在行の SLH に移動する。
  現在位置の移動およびシフトは DCSM に応じて表示部またはデータ部で実行される。
  選択領域・属性化領域・文字タブ位置も一緒にシフトされる。
  TSM(SINGLE) のとき、消去される行の文字タブ位置は削除される。
  </p>
  <ul>
  <li>xterm は現在位置を SLH に移動する。screen, RLogin, Poderosa, mintty では現在位置は変化しない。</li>
  <li>RLogin ではシフト範囲は DECSTBM で指定した範囲に限られる (他の端末は調べていない)。</li>
  <li>VT100 <a href="http://www.vt100.net/docs/vt510-rm/DL">VT510: DL</a></li>
  </ul>
</li>
<li><dfn class="cfunc">IL</dfn>: INSERT LINE
  <p>[ECMA-48/8.3.67] 現在行の位置に空行を <i class="kbd">Pn</i> 行挿入する。
  つまり、現在行及び、VEM に応じて前または後の <i class="kbd">Pn</i> - 1 行を <i class="kbd">Pn</i> 行分だけ現在行から離れる方向にシフトし、
  空いた行の内容を消去する。シフト範囲の反対側の <i class="kbd">Pn</i> 行の内容は失われる。
  引数の既定値は 1 で、ZDM(DEFAULT) のとき 0 は既定値 1 を意味する。
  現在位置は SLH に移動する。
  シフトの範囲は SEE によって決まる。
  シフト範囲に含まれる選択領域・属性化領域・タブ位置も一緒にシフトされる。
  TSM(SINGLE) の時、挿入される行のタブ位置は消去される。
  現在位置及びシフトは DCSM に応じて表示部またはデータ部で行われる。
  </p>
  <ul>
  <li>xterm は現在位置を SLH に移動する。screen, RLogin, mintty, Poderosa は現在位置は変化しない。</li>
  <li>vt100 <a href="http://www.vt100.net/docs/vt510-rm/DCH">VT510: IL</a></li>
  </ul>
</li>
<li><dfn class="cfunc">EF</dfn>: ERASE IN FIELD</li>
<li><dfn class="cfunc">EA</dfn>: ERASE IN AREA</li>
<li><dfn class="cfunc">EL</dfn>: ERASE IN LINE</li>
<li><dfn class="cfunc">ED</dfn>: ERASE IN PAGE (vt100: Erase in Display)
  <p>[ECMA-48/8.3.40 EF, 8.3.37 EA, 8.3.41 EL, 8.3.39 ED]
  EF・EA・EL・ED はそれぞれ現在のフィールド・属性化領域・行・ページを作用の対象範囲とする。
  引数に応じて対象範囲の一部または全ての文字を消去する。
  </p>
  <table class="normal center">
  <tr><th><i class="kbd">Ps</i></th><th>消去の対象</th></tr>
  <tr><td>0</td><td>現在位置と対象範囲の末尾まで</td></tr>
  <tr><td>1</td><td>現在位置と対象範囲の先頭まで</td></tr>
  <tr><td>2</td><td>対象範囲の内容全て</td></tr>
  </table>
  <p>引数の既定値は 0 である。
  消去範囲は、DCSM に応じて表示部またはデータ部において決定される。
  ERM によって保護領域の文字も消去するかどうかが決まる。
  </p>
  <ul>
  <li>xterm は EL と ED に対応する。
    RLogin では EL, ED が実装され、EF, EA は ED と同じ動作になる。
  </li>
  <li>vt100 は EL と ED に対応する。
    <a href="http://www.vt100.net/docs/vt510-rm/EL">VT510: EL</a>
    <a href="http://www.vt100.net/docs/vt510-rm/ED">VT510: ED</a>
  </li>
  </ul>
</li>
</ul>

<h4>互換性</h4>
<ul>
<li>Poderosa では、下部に空行がある状態で IL を実行すると
scrolling region がその時に存在している行の範囲に設定されて表示領域が限られてしまう。
DL を実行した場合も、分かりにくいが似たような問題が生じる。
また、一度 IL, DL を使うと上端から流れて出ていった内容が記録されず、
スクロールして確認することができない。
自分は何年も前にこのバグを勝手に修正した Poderosa を使っているが、
このバグが何年も前から直っていないのは不思議な事である。
</li>
</ul>

<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<h2>他</h2>

<h3>Format effector</h3>
<p>HTSA
</p>

<h3>TODO</h3>
<ul>
<li>xterm: osc sequence, dsc sequence を列挙</li>
<li>vt510 の頁でまだ列挙していない ASCII Control Functions を列挙、分類、version 確認</li>
<li>
 DECAUPSS, DECBI,
 DECCARA, DECCIR, DECCKD, DECCKSR, DECCRA, DECDC,
 DECDLD, DECDMAC, DECEKBD, DECELF, DECERA, DECFI, DECFNK, DECFRA,
 DECIC, DECINVM, DECIPEM, DECKBD,
 DECLANS, DECLBAN, DECLL, DECLTOD, DECMSR,
 DECPAK, DECPCTERM,
 DECPFK, DECPKA, DECPKFMR, DECRARA, DECRPAK,
 DECRPDE, DECRPFK, DECRPKT, DECRPTUI, DECRQCRA, DECRQDE, DECRQKD,
 DECRQKT, DECRQPKFM, DECRQPSR, DECRQUPSS, DECRSPS, DECRSTS, DECSACE, DECSASD,
 DECSCP, DECSCS, DECSDDT, DECSDPT,
 DECSED, DECSEL, DECSERA, DECSFC, DECSKCV, DECSLCK, DECSLPP, DECSMBV, DECSMKR,
 DECSNLS, DECSPP, DECSPPCS, DECSPRTT, DECSR, DECSRC, DECSRFR, DECSSCLS, DECSSDT, DECSSL,
 DECST8C, DECSTR, DECSTRL, DECSWBV, DECTABSR, DECTID, DECTME, DECTSR,
 DECTST, DECUDK, DECXCPR, DECXRLM, DSR, DSR, DSR, DSR, DSR, DSR, DSR, DSR, DSR, DSR,
 LS, MC, NP, PP, PPA, PPB, PPR, RIS, SCODFK,
 SCS, SS
</li>
<li>VT520
  <ul>
  <li>+ DECAC, DECANM Exit, DECARR, DECATC, DECATCBM, DECATCUM, DECBBSM, DECCRTST, DECCTR, DECDLDA, DECECM, DECES,
  DECFWM, DECHWUM, DECID, DECOSCNM, DECPS, DECRPL, DECRSTS, DECSEST, DECSIN, DECSPMA, DECSTGLT, DECSTUI, DECSWT,
  DECSZS, DECTSR, DECUS, HT
  </li>
  <li>- DECFNK, DECSRFR, SCODFK, SCORC, SCOSC</li>
  </ul>
</li>
</ul>

<p>■ 以下 xterm の CSI Sequence (未だ纏めていない物)</p>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>DECSED</th><td><kbd>CSI ? <i>Ps</i> J</kbd></td></tr>
<tr><th>DECSEL</th><td><kbd>CSI ? <i>Ps</i> K</kbd></td></tr>
<tr><th>(IHMT)</th> <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> T</kbd></td></tr>
<tr><th>REP</th>    <td><kbd>CSI <i>Pm</i> b</kbd></td></tr>
<tr><th>MC</th>     <td><kbd>CSI <i>Pm</i> i</kbd></td></tr>
<tr><th>DECMC</th>  <td><kbd>CSI ? <i>Pm</i> i</kbd></td></tr>
<tr><th>DECDSR</th> <td><kbd>CSI ? <i>Ps</i> n</kbd></td></tr>
<tr><th>DECSTR</th> <td><kbd>CSI ! p</kbd></td></tr>
<tr><th>DECSCL</th> <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> " p</kbd></td><!-- " --></tr>
<tr><th>XTREST</th> <td><kbd>CSI ? <i>Pm</i> r</kbd></td></tr>
<tr><th>DECCARA</th><td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Pm</i> $ r</kbd></td></tr>
<tr><th>XTSAVE</th> <td><kbd>CSI ? <i>Pm</i> s</kbd></td></tr>
<tr><th>XTWOP</th>  <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> t</kbd></td></tr>
<tr><th>DECRARA</th><td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Pm</i> $ t</kbd></td></tr>
<tr><th>DECCRA</th> <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> $ w</kbd></td></tr>
<tr><th>DECEFR</th> <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ' w</kbd></td></tr><!--'-->
<tr><th>DECREQTPARM</th><td><kbd>CSI <i>Ps</i> x</kbd></td></tr>
<tr><th>DECSACE</th>    <td><kbd>CSI <i>Ps</i> * x</kbd></td></tr>
<tr><th>DECFRA</th>     <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> $ x</kbd></td></tr>
<tr><th>DECELR</th>     <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ' z</kbd></td></tr><!--'-->
<tr><th>DECERA</th>     <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> $ z</kbd></td></tr>
<tr><th>DECSLE</th>     <td><kbd>CSI <i>Pm</i> ' {</kbd></td></tr><!--'-->
<tr><th>DECSERA</th>    <td><kbd>CSI <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> ; <i>Ps</i> $ {</kbd></td></tr>
<tr><th>DECRQLP</th>    <td><kbd>CSI <i>Ps</i> ' |</kbd></td></tr><!--'-->
</table>

<h3>端末適合レベル</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>DECSCL</th><td><kbd>CSI <i>Ps1</i> ; <i>Ps2</i> " p</kbd></td></tr><!--"-->
<tr><th>S7C1T</th><td><kbd>ESC SP F</kbd></td></tr>
<tr><th>S8C1T</th><td><kbd>ESC SP G</kbd></td></tr>
</table>
<ul>
<li><dfn class="cfunc">DECSCL</dfn>: Select Conformance Level
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECSCL.html">VT510/DECSCL</a>]
    端末の適合レベルを指定する。
    <i class="kbd">Ps1</i> には 61-65 の値を指定する。
    DECTID の表を考えると 61: vt100, 62: vt200, 63: vt300, 64: vt400, 65: vt500 という対応の筈であるが、
    実際には vt510, vt520 のマニュアルを見る限りは 61 を指定すると vt100 互換モードになり、
    62 以上を指定するとその装置で使える全ての機能が使えるようになると思われる。
    <i class="kbd">Ps2</i> (既定値 0) には C1 制御文字を 7bit 表現で送るか 8bit 表現で送るかの設定を指定する。
    1 を指定すると 7bit 表現になり、それ以外の時は 8bit 表現になる。
  </p>
</li>
<li><dfn class="cfunc">S7C1T</dfn>: Send 7bit C1 Control Character to the Host
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/S7C1T.html">VT510/S7C1T</a>]
    アプリケーションに C1 制御文字を 7bit 表現で送る。
  </p>
  <ul>
  <li>互換性: xterm, vt510 は少なくとも対応している。</li>
  </ul>
</li>
<li><dfn class="cfunc">S8C1T</dfn>: Send 8bit C1 Control Character to the Host
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/S8C1T.html">VT510/S8C1T</a>]
    アプリケーションに C1 制御文字を 8bit 表現で送る。
  </p>
  <ul>
  <li>互換性: xterm, vt510 は少なくとも対応している。</li>
  </ul>
</li>
</ul>

<h3>問い合わせ - 端末識別</h3>
<table class="normal center">
<tr><th>略号</th><th>用途</th><th>符号化表現</th></tr>
<tr><th>DA</th> <td>制御</td><td><kbd>CSI 0 c</kbd><br/><kbd>CSI c</kbd></td></tr>
<tr><th>DA1</th> <td>制御</td><td><kbd>CSI <i>Ps</i> c</kbd></td></tr>
<tr><th>DA1R</th><td>応答</td><td><kbd>CSI ? 6 4 ; <i>Pm</i> c</kbd></td></tr>
<tr><th>DA2</th> <td>制御</td><td><kbd>CSI &gt; <i>Ps</i> c</kbd></td></tr>
<tr><th>DA2R</th><td>応答</td><td><kbd>CSI &gt; 6 1 ; <i>Ps</i> ; <i>Ps</i> c</kbd></td></tr>
<tr><th>DA3</th> <td>制御</td><td><kbd>CSI = <i>Ps</i> c</kbd></td></tr>
<tr><th>DA3R</th><td>応答</td><td><kbd>DCS ! | <i>hh</i> <i>hh</i> <i>hh</i> <i>hh</i> ST</kbd></td></tr>
<tr><th>DECRQTSR</th><td>制御</td><td><kbd>CSI <i>Ps</i> $ u</kbd></td></tr>
<tr><th>DECTSR</th><td>応答</td><td><kbd>DCS 1 $ s <i>hh</i> <i>hh</i> <i>hh</i> <i>hh</i> ST</kbd></td></tr>
<tr><th>DDD1</th><td>応答</td><td><kbd>ESC ) 1</kbd></td></tr>
<tr><th>DDD2</th><td>応答</td><td><kbd>ESC ) B</kbd></td></tr>
<tr><th>DDD3</th><td>応答</td><td><kbd>ESC ( 1</kbd></td></tr>
</table>

<ul>
<li><dfn class="cfunc">DA</dfn>: Device Attributes
  <p>[ECMA-48/8.3.24] 0 以外の引数のシーケンスは端末の識別情報を応答するのに使う。
    具体的な引数の値と意味については今後設立される登録簿に従う (多分、未だ存在していない)。
    引数が 0 の時、端末が識別DAを送ることを要求する。
    引数の既定値は 0 である。
  </p>
  <p>互換性: 通常、端末では以下の DA1 として実装されている。</p>
</li>
<li><dfn class="cfunc">DA1</dfn>: Primary Device Attributes
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DA1">VT510/DA1</a>]
    1つ目の引数は VT Level を表す 60-65 の整数である。
    例えば VT510 Level 4 の場合には 64 である。
    2つ目以降の引数は有効な機能のリストを表す。
  </p>
  <table class="normal center">
  <tr><th>引数</th><th>機能</th></tr>
  <tr><td>1</td><td>132列モード</td></tr>
  <tr><td>2</td><td>プリンタ</td></tr>
  <tr><td>4</td><td>Sixel</td></tr>
  <tr><td>6</td><td>DECSED DECSEL DECSERA</td></tr>
  <tr><td>7</td><td>DRCS</td></tr>
  <tr><td>8</td><td>UDK</td></tr>
  <tr><td>9</td><td>NRCS</td></tr>
  <tr><td>12</td><td>Yugoslavian (SCS)</td></tr>
  <tr><td>15</td><td>Technical character set</td></tr>
  <tr><td>18</td><td>Windowing cap</td></tr>
  <tr><td>21</td><td>水平スクロール</td></tr>
  <tr><td>23</td><td>ギリシャ文字</td></tr>
  <tr><td>24</td><td>トルコ文字</td></tr>
  <tr><td>42</td><td>ISO Latin-2 文字セット</td></tr>
  <tr><td>44</td><td>PCTerm</td></tr>
  <tr><td>45</td><td>Soft key map</td></tr>
  <tr><td>46</td><td>ASCII Emulation</td></tr>
  </table>
  <ul>
  <li>互換性: VT100; xterm</li>
  </ul>
</li>
<li><dfn class="cfunc">DA2</dfn>: Secondary Device Attributes
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DA2">VT510/DA2</a>]
    端末識別コード、ファームウェアバージョン、ハードウェア設定の応答 DA2R を要求する。
  </p>
  <ul>
  <li>VT100; xterm</li>
  </ul>
</li>
<li><dfn class="cfunc">DA2R</dfn>:
  <p>これに関しては <a href="https://qiita.com/kefir_/items/0bda5e55f43392420d66">DA2応答の見方 - Qiita</a> が詳しい。</p>
  <ul>
  <li>VT510 は <kbd>CSI &gt; 6 1 ; <i>Ps1</i> ; <i>Ps2</i> c </kbd> の形式で応答する。
    Ps1 は 10 または 20 であり、それぞれファームウェアバージョン 1.0 及び 2.0 に対応する。
    Ps2 はキーボードの種類を指定し、0 が STD keyboard で 1 が PC keyboard である。</li>
  <li>contra は<del>取り敢えず <kbd>CSI &gt; 6 7 ; 0 c</kbd> を返す事にする。</del>
    <kbd>CSI &gt; 9 9 ; 0 c</kbd> に変更した (99 = 'c')。
  </li>
  <li>Cygwin が <kbd>CSI &gt; 6 7 ; 3 0 1 0 2 ; 0 c</kbd> (例 3.1.2) である (67 = 'C')。</li>
  <li>Kitty の DA2R は <kbd>CSI > 1 ; MAJOR ; MINOR c</kbd>。
    DA1R は <kbd>CSI ? 6 2 ; c</kbd> である。</li>
  </ul>
</li>
<li><dfn class="cfunc">DA3</dfn>: Tertiary Device Attributes
  <ul>
  <li>VT100</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DA3">VT510: DA3</a></li>
  </ul>
</li>
<li><dfn class="cfunc">DECRQTSR</dfn>: Request Terminal State Report
  <ul>
  <li><dfn class="cfunc">DECRQTSRR</dfn></li>
  <li><dfn class="cfunc">DDD1</dfn></li>
  <li><dfn class="cfunc">DDD2</dfn></li>
  <li><dfn class="cfunc">DDD3</dfn></li>
  <li>VT420 (DDD1, DDD2, DDD3 は Hebrew Keyboard で有効)</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DECRQTSR">VT510: DECRQTSR</a></li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DD1">VT510: DDD1, DDD2, DDD3</a></li>
  </ul>
</li>
</ul>

<h3>問い合わせ - 制御機能の状態</h3>
<table class="normal center">
<tr><th>略号</th><th>用途</th><th>符号化表現</th></tr>
<tr><th>DECRQSS</th><td>制御</td><td><kbd>DCS $ q <i>Seq</i> ST</kbd></td></tr>
<tr><th>DECRPSS</th><td>応答</td><td><kbd>DCS <i>Ps</i> $ r <i>Seq</i> ST</kbd></td></tr>
</table>
<ul>
<li><dfn class="cfunc">DECRQSS</dfn>: Request Selection or Setting
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECRQSS.html">VT510/DECRQSS</a>]
    指定したシーケンスに対応する設定について問い合わせる。
    シーケンスは先頭の CSI を除いて Seq に指定する。
    応答は DECRPSS を用いて行われる。
    以下のシーケンスが使える。
  </p>
  <table class="normal center">
  <tr><th><i class="kbd">Seq</i></th><th>制御機能</th>
      <th><i class="kbd">Seq</i></th><th>制御機能</th>
      <th><i class="kbd">Seq</i></th><th>制御機能</th></tr>
  <tr><td><kbd>m</kbd>   </td><td>SGR     </td> <td><kbd>$ s</kbd> </td><td>DECSPRTT</td> <td><kbd>* |</kbd> </td><td>DECSNLS </td></tr>
  <tr><td><kbd>p</kbd>   </td><td>DECSSL  </td> <td><kbd>$ |</kbd> </td><td>DECSCPP </td> <td><kbd>+ w</kbd> </td><td>DECSPP  </td></tr>
  <tr><td><kbd>r</kbd>   </td><td>DECSTBM </td> <td><kbd>$ ~</kbd> </td><td>DECSSDT </td> <td><kbd>SP p</kbd></td><td>DECSSCLS</td></tr>
  <tr><td><kbd>s</kbd>   </td><td>DECSLRM </td> <td><kbd>$ }</kbd> </td><td>DECSASD </td> <td><kbd>SP q</kbd></td><td>DECSCUSR</td></tr>
  <tr><td><kbd>t</kbd>   </td><td>DECSLPP </td> <td><kbd>( p</kbd> </td><td>DECSDPT </td> <td><kbd>SP r</kbd></td><td>DECSKCV </td></tr>
  <tr><td><kbd>" p</kbd> </td><td>DECSCL  </td> <td><kbd>* p</kbd> </td><td>DECSPPCS</td> <td><kbd>SP t</kbd></td><td>DECSWBV </td></tr>
  <tr><td><kbd>" q</kbd> </td><td>DECSCA  </td> <td><kbd>* r</kbd> </td><td>DECSCS  </td> <td><kbd>SP u</kbd></td><td>DECSMBV </td></tr>
  <tr><td><kbd>" t</kbd> </td><td>DECSRFR </td> <td><kbd>* s</kbd> </td><td>DECSFC  </td> <td><kbd>SP v</kbd></td><td>DECSLCK </td></tr>
  <tr><td><kbd>" u</kbd> </td><td>DECSTRL </td> <td><kbd>* u</kbd> </td><td>DECSCP  </td> <td></td><td></td></tr>
  <tr><td><kbd>$ q</kbd> </td><td>DECSDDT </td> <td><kbd>* x</kbd> </td><td>DECSACE </td> <td></td><td></td></tr>
  </table>
</li>
<li><dfn class="cfunc">DECRPSS</dfn>: Report Selection or Setting
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECRPSS.html">VT510/DECRPSS</a>]
    DECRPSS に対する応答に使われる。
    <i class="kbd">Ps</i> が 0 の時は要求が有効で、
    <i class="kbd">Seq</i> には要求された制御機能の現在の設定を再現するのに使えるシーケンスを先頭の CSI を除いて指定する。
    <i class="kbd">Ps</i> が 1 の時は要求を認識できないか応答できないことを表し、
    <i class="kbd">Seq</i> は空文字列を指定する。
  </p>
</li>
</ul>

<h3>端末テスト</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>DECALN</th><td><kbd>ESC # 8</kbd></td></tr>
</table>
<ul>
<li><dfn class="cfunc">DECALN</dfn>: Select 80 or 132 Columns per Page
  <p>[<a href="https://www.vt100.net/docs/vt510-rm/DECALN.html">VT510/DECALN</a>]
    テストパターン (通常の実装では文字 E) で画面を埋め尽くす。
    DECSTBM, DECSLRM をクリアし、カーソルを原点に移動する。
  </p>
  <ul>
  <li>互換性: RLogin. xterm で試すと DECSTBM, DECSLRM の設定は解除するが、
    DECLRMM の設定はそのままにする。
    mintty は DECSTBM の設定を解除しない (DECSLRM には元々対応していない様だ)。
    contra では RLogin, xterm の振る舞いに倣う。
  </li>
  <li>互換性: xterm, mintty, screen は描画属性なしの E で埋め尽くすが、
    RLogin は現在の描画属性の E で埋め尽くす。
    contra では xterm の振る舞いに倣う。
  </li>
  </ul>
</li>
</ul>


<h3>端末サイズ</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>DECSCPP</th><td><kbd>CSI <i>Pn</i> $ |</kbd></td></tr>
</table>
<ul>
<li><dfn class="cfunc">DECSCPP</dfn>: Select 80 or 132 Columns per Page
  <p>[<a href="https://www.vt100.net/docs/vt510-rm/DECSCPP.html">VT510/DECSCPP</a>]
    端末の幅を設定する。引数 (既定値 0) に 0 または 80 を指定した時に 80 列にする。
    132 を指定した時に 132 列にする。
  </p>
  <ul>
  <li>互換性: RLogin の説明書を見ると "フォントサイズ固定" の時には引数を列数と解釈する。
    "桁数固定" の時には引数が 80 以下の時に 80 列にして、それ以外の時に 132 列にする。
  </li>
  </ul>
</li>
<li>Mode ?3 <dfn class="cmode">DECCOLM</dfn>: Select 80 or 132 Columns per Page [既定値: RM]
  <p>[<a href="https://www.vt100.net/docs/vt510-rm/DECCOLM.html">VT510/DECCOLM</a>]
    設定した時、端末の幅を 132 列にする。解除した時、端末の幅を 80 列にする。
    DECSTBM, DECSLRM, DECLRMM, 及びステータス行の内容を消去する。
    DECNCSM の設定に応じて画面の内容を消去する。
    これの代わりに DECSCPP を用いる事が推奨されている。
  </p>
</li>
<li>Mode ?40 <dfn class="cmode">XTERM_132COLS</dfn>:
  <p>設定した時 DECCOLM を有効にする。解除した時、DECCOLM を無効にする。</p>
</li>
<li>Mode ?95 <dfn class="cmode">DECNCSM</dfn>: Set/Reset No Clearing Screen On Column Change
  <p>[<a href="https://www.vt100.net/docs/vt510-rm/DECNCSM.html">VT510/DECNCSM</a>]
    DECCOLM によって列数を設定した時の画面消去を抑制する。
    設定されている時に消去は起こらない。解除されている時に消去される。
    DECSCPP による列の変更に対しては影響を与えない。
  </p>
  <ul>
  <li>互換性: vt500 以降</li>
  </ul>
</li>
</ul>

<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<h3>カーソル表示</h3>
<table class="normal center">
<tr><th>略号</th>    <th>符号化表現</th></tr>
<tr><th>DECSCUSR</th><td><kbd>CSI <i>Ps</i> SP q</kbd></td></tr>
</table>

<ul>
<li><dfn class="cfunc">DECSCUSR</dfn>: Set Cursor Style
  <table class="normal center">
  <tr><th>引数1</th><th>カーソルのスタイル</th></tr>
  <tr><td>0, 1, 省略</td><td>ブロック・点滅</td></tr>
  <tr><td>2</td>         <td>ブロック・常時表示</td></tr>
  <tr><td>3</td>         <td>下線・点滅</td></tr>
  <tr><td>4</td>         <td>下線・常時表示</td></tr>
  <tr><td>5</td>         <td>縦線・点滅 (xterm, RLogin)</td></tr>
  <tr><td>6</td>         <td>縦線・常時表示 (xterm, RLogin)</td></tr>
  <tr><td>5 以上</td><td>行高に対するカーソルの高さの割合を % 単位で指定する (cygwin)</td></tr>
  </table>
  <ul>
  <li>互換性: VT510, cygwin-1.7.18
    <ul>
    <li>cygwin では点滅・常時の変更は行わず形状のみ変更する。</li>
    </ul>
  </li>
  <li>
    <a href="http://www.vt100.net/docs/vt510-rm/DECSCUSR">VT510: DECSCUSR</a>
    <a href="http://cygwin.com/ml/cygwin-announce/2013-04/msg00025.html">Cygwin 1.7.18</a>
  </li>
  </ul>
</li>
<li>Mode 33 <dfn class="cmode">WYSTCURM</dfn>: Wyse Steady Cursor Mode (Wyse)
  <p>[all-escapes.txt] カーソルを点滅しない。</p>
  <ul>
  <li>(RM) カーソルは点滅する。</li>
  <li>(SM) カーソルは点滅しない。</li>
  </ul>
  <ul>
  <li>互換性: all-escaptes.txt では 32 と 33 に同様に Steady cursor mode があるが、
    32 の情報源として挙げられている <a href="https://web.archive.org/web/20061111180414/http://www.wyse.com/service/support/kbase/SEQwt.asp?Q=9">Wyse の頁</a>
    によると 32 は別の機能 WYCRTSAV になっているので、単にall-escapes.txt の誤りである。
    contra では当初、32 を ATT610_BLINK の反転エイリアスとして実装したが削除した。
  </li>
  </ul>
</li>
<li>Mode 34 <dfn class="cmode">WYULCURM</dfn>: Wyse Underline Cursor Mode (Wyse), Normal Cursor Visibility (screen)
  <p>[all-escapes.txt] カーソル形状の設定。</p>
  <ul>
  <li>(RM) カーソルはブロック</li>
  <li>(SM) カーソルは下線</li>
  <li>互換性: screen のマニュアルでは Normal Cursor Visibility と言う名前で説明されている。
    名前から察するにカーソルの表示・非表示の様にも思われるが、
    terminfo に <code>cnorm=\e[34h\e[?25h, cvvis=\e[34l, civis=\e[?25l</code>
    を登録している。civis はカーソル非表示で cvvis はカーソルをよく見える様にする、
    cnorm はカーソルを元に戻すという意味であるから、WYULCURM と同様に解釈して良い気がする。
  </li>
  <li>互換性: PuTTY のソースコード (terminal.c (toggle_mode)) には "WYULCURM: Make cursor BIG" と書かれている。
    つまり PuTTY はカーソルを大きくするがそれは WYULCURM の実装としてその様にしているという事。
  </li>
  </ul>
</li>
<li>Mode ?12 <dfn class="cmode">ATT610_BLINK</dfn>: Start Blinking Cursor (xterm AT&amp;T 610)</li>
<li>Mode ?13 <dfn class="cmode">XTERM_CURSOR_BLINK_OPS</dfn>: Enable Blinking Cursor (xterm menu) [既定値 RM]</li>
<li>Mode ?14 <dfn class="cmode">XTERM_XOR_CURSOR_BLINKS</dfn>: Enable XOR of Blinking Cursor Sequence and Menu (xterm resource) [既定値 SM]
  <p>[xterm] カーソルの点滅を制御する。XTERM_XOR_CURSOR_BLINKS が設定されている時、
    ATT610_BLINK か XTERM_CURSOR_BLINK_OPS のどちらか一方のみが設定されている時に点滅する。
    XTERM_XOR_CURSOR_BLINKS が解除されている時、少なくとも一方が設定されていれば点滅する。
    XTERM_CURSOR_BLINK_OPS はエスケープシーケンスからは制御できずメニューから制御する。
    XTERM_XOR_CURSOR_BLINKS は xterm 起動時に指定した物に固定されている。
  </p>
  <ul>
  <li>[xterm] ATT610_BLINK は AT&amp;T 610 と括弧書きされているのでそれが起源のようである。</li>
  <li>互換性: RLogin の説明書には ?12 では逆にカーソルの点滅を禁止すると書かれている。</li>
  </ul>
</li>
<li>Mode ?25 <dfn class="cmode">DECTCEM</dfn>: Text Cursor Enable Mode [既定値 SM]
  <p>カーソルを表示する。</p>
  <ul>
  <li>(RM) カーソルは非表示。</li>
  <li>(SM) カーソルを表示する。</li>
  <li>互換性: VT420, xterm, rxvt, cygwin-1.7.18</li>
  <li>
    <a href="http://www.vt100.net/docs/vt510-rm/DECTCEM">VT510: DECTCEM</a>
    <a href="http://cygwin.com/ml/cygwin-announce/2013-04/msg00025.html">Cygwin 1.7.18</a>
  </li>
  </ul>
</li>
</ul>

<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<h3>代替画面 (Alternate Screen Buffer)</h3>
<ul>
<li>Mode ?47   <dfn class="cmode">XTERM_ALTBUF</dfn> (xterm) [既定値 RM]
  <ul>
  <li>SM: 現在の画面を保存して代替画面に切り替える。代替画面は前回の代替画面の内容である。</li>
  <li>RM: 保存した画面を復元する。</li>
  </ul>
</li>
<li>Mode ?1047 <dfn class="cmode">XTERM_OPT_ALTBUF</dfn> (xterm) [既定値 RM]
  <ul>
  <li>SM: 現在の画面を保存して代替画面に切り替える。代替画面の内容はクリアする。</li>
  <li>RM: 保存した画面を復元する。</li>
  </ul>
</li>
<li>Mode ?1048 <dfn class="cmode">XTERM_SAVE_CURSOR</dfn> (xterm) [既定値 RM]
  <ul>
  <li>SM: 現在のカーソル状態を保存 (DECSC と同様)</li>
  <li>RM: 保存したカーソル状態を復元 (DECRC と同様)</li>
  </ul>
</li>
<li>Mode ?1049 <dfn class="cmode">XTERM_OPT_ALTBUF_CURSOR</dfn> (xterm) [既定値 RM]
  <ul>
  <li>SM: <kbd>SM(?1047)</kbd> と <kbd>SM(?1048)</kbd> の組み合わせ。</li>
  <li>RM: <kbd>RM(?1047)</kbd> と <kbd>RM(?1048)</kbd> の組み合わせ。</li>
  </ul>
</li>
<li>xterm で確認すると ?1047 と ?1048 の現在値は ?47 と連動する。
  xterm では ?1048 は常に設定された状態になっている。
</li>
</ul>

<h3>その他</h3>
<ul>
<li>Mode ?5 <dfn class="cmode">DECSCNM</dfn>: Screen Mode: Light or Dark Screen [既定値: RM]
  <p>[<a href="https://www.vt100.net/docs/vt510-rm/DECSCNM.html">VT510/DECSCNM</a>]
    設定されている時に前景色・背景色の既定色を反転する。
    説明には設定されている時に明るい背景で解除されている時に暗い背景とも書かれているが、
    xterm の実装では設定されている時に反転という実装になっている。
  </p>
</li>
</ul>

<!--************************************************************************-->
<h2>描画属性</h2>

<h3>文字挿入時の属性</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>SGR</th> <td><kbd>CSI <i>Pm</i> m</kbd></td></tr>
<tr><th>PLD</th> <td><kbd>PLD</kbd></td></tr>
<tr><th>PLU</th> <td><kbd>PLU</kbd></td></tr>
<tr><th>SCO</th> <td><kbd>CSI <i>Ps</i> SP e</kbd></td></tr>
<tr><th>DECSCA</th> <td><kbd>CSI <i>Ps</i> " q</kbd></td></tr><!-- " -->
</table>
<ul>
<li><dfn class="cfunc">SGR</dfn>: SELECT GRAPHIC RENDITION (Set Graphic Rendition)
  <p><i class="kbd">Pm</i> にはセミコロン ';' 区切りで複数の番号を指定する。
  各番号はそれぞれ対応する描画属性を設定したり解除したりするのに用いられる。
  パラメータを省略したときの既定値は 0 である。
  番号の詳細については後述する。
  </p>
  <ul>
  <li>[ECMA-48/8.3.117], vt100, xterm</li>
  <li><a href="http://www.vt100.net/docs/vt510-rm/SGR">VT510: SGR</a></li>
  <li>[ECMA-48/8.3.117] 可能な番号の組み合わせは処理系依存である。</li>
  <li>[T.416/13.1.8] default parameter value (0) は他の番号と一緒に用いることはできない。
    実際の端末の実装では可能である。Mode 21 (GRCM) が無効の時、番号を指定した順番に適用されることになっているのが普通である。
  </li>
  <li>[T.416/13.1.8] sgrBold, sgrFaint, sgrItalic などはフォントが設定されていない時に有効である。
    つまり、primary font (10) もしくはフォントが未指定の alternative font (11-19) の時のみに有効である。
  </li>
  </ul>
</li>
<li>Mode 21 <dfn class="cmode">GRCM</dfn>: GRAPHIC RENDITION COMBINATION MODE
  <p>[ECMA-48/7.2.8] SGR でそれまでに設定されていた属性を持続するかどうかを決める。</p>
  <ul>
  <li><dfn class="cmode-rm">REPLACING</dfn> (RM): SGR が登場する度にそれまでに設定されていた属性をすべて解除する。適用したい属性は毎回指定する必要がある。</li>
  <li><dfn class="cmode-sm">CUMULATIVE</dfn> (SM): SGR をそれまでに設定されていた属性に対する変更として扱う。</li>
  </ul>
</li>
<li><dfn class="cfunc">SCO</dfn>: SELECT CHARACTER ORIENTATION
  <p>[ECMA-48/8.3.110] 以降に受信する図形文字の回転量を指定する。
    引数は 0-7 で指定し、回転量は反時計回りに引数 x 45度となる。既定値は 0</p>
</li>
<li><dfn class="cfunc">DECSCA</dfn>: Select Character Protection Attribute
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECSCA">VT510: DECSCA</a>]
    以降の文字に DECSED, DECSEL で消去できない属性を付加する。
    引数 0 (既定値) または 2 を指定した時は DECSED, DECSEL で文字を消去できる。
    引数 1 を指定すると消去できない。
  </p>
  <ul>
  <li>互換性: VT510 のマニュアルには Level 4 mode のみで利用できると書かれている。</li>
  </ul>
</li>
</ul>

<h3>領域</h3>
<p>領域 (area) は DAQ, SSA, ESA, SPA, EPA によって指定された文字位置の連続する集合である。
  それぞれの制御機能は領域の開始・終了を示す。
  DAQ は属性化領域 (qualified area) を定義する。
  属性化領域には様々な属性を付加する事ができる。
  SSA, ESA は選択領域 (selected area) を定義する。
  選択領域の内容はデータストリームの送信 (transmission)
  または補助装置への転送 (transfer) の対象となる。
  SPA, EPA は保護領域 (guarded area) を定義する。
  保護領域の内容は GATM の設定に応じて送信・転送が制限される (guarded)。
  保護領域の内容は ERM の設定に応じて消去が制限される (protected)。
</p>
<ul>
<li>Note: 範囲が具体的にどの様に定義されるかは不明瞭である。例えば、
  (a) 受信したデータの順序で開始・終了を示すのか、
  (b) 或いはデータ部に格納されている順序で開始・終了を示すのか、
  (c) 表示部における順序で開始・終了を示すのかが考えられる。
  現在、contra では DECSCA と同様に属性として取り扱い、
  これは受信データの順序で判断する事に対応する。</li>
<li>Note: 属性化領域・選択領域・保護領域がそれぞれ入れ子になるのか、
  また、互いに overlap できるのか等に関しても不明瞭である。
  EA 等の機能を実装する時に overlap があると問題になる。
  入れ子を許すとかなり実装が面倒になる。
</li>
</ul>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>DAQ</th><td><kbd>CSI <i>Ps</i> ; ... o</kbd></td></tr>
<tr><th>SSA</th><td><kbd>SSA</kbd></td></tr>
<tr><th>ESA</th><td><kbd>ESA</kbd></td></tr>
<tr><th>SPA</th><td><kbd>SPA</kbd></td></tr>
<tr><th>EPA</th><td><kbd>EPA</kbd></td></tr>
</table>
<ul>
<li><dfn class="cfunc">DAQ</dfn>: DEFINE AREA QUALIFICATION
  <p>[ECMA-48/8.3.25] 引数に応じて属性化領域の属性を指定する。
    属性化領域は次の DAQ が現れた時に終了する。
  </p>
  <table class="normal center">
  <tr><th>引数</th><th>意味</th></tr>
  <tr><td>0</td><td>unprotected, unguarded</td></tr>
  <tr><td>1</td><td>protected, guarded</td></tr>
  <tr><td>2</td><td>図形文字入力</td></tr>
  <tr><td>3</td><td>数値入力</td></tr>
  <tr><td>4</td><td>アルファベット入力</td></tr>
  <tr><td>5</td><td>入力内容の右寄せ表示</td></tr>
  <tr><td>6</td><td>ZERO で埋める</td></tr>
  <tr><td>7</td><td>文字タブ位置を現在行の現在表示位置に設定する。</td></tr>
  <tr><td>8</td><td>protected, unguarded</td></tr>
  <tr><td>9</td><td>SP で埋める。</td></tr>
  <tr><td>10</td><td>入力内容の左寄せ表示</td></tr>
  <tr><td>11</td><td>入力内容の文字順序の逆転</td></tr>
  </table>
</li>
<li><dfn class="cfunc">SSA</dfn>: START OF GUARDED AREA</li>
<li><dfn class="cfunc">ESA</dfn>: END OF SELECTED AREA
  <p>[ECMA-48/8.3.138 SSA, 8.3.47 ESA] 選択領域の開始・終了を示す。
    SDS, SRS 文字列の内部で使用した時は未定義。
  </p>
</li>
<li><dfn class="cfunc">SPA</dfn>: START OF GUARDED AREA</li>
<li><dfn class="cfunc">EPA</dfn>: END OF GUARDED AREA
  <p>[ECMA-48/8.3.129 SPA, 8.3.46 EPA] 保護領域の開始・終了を示す。
    SDS, SRS 文字列の内部で使用した時は未定義。
  </p>
</li>
</ul>


<h3>行に対する属性</h3>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th rowspan="2">DECDHL</th>
    <td><kbd>ESC # 3</kbd></td></tr>
<tr><td><kbd>ESC # 4</kbd></td></tr>
<tr><th>DECSWL</th><td><kbd>ESC # 5</kbd></td></tr>
<tr><th>DECDWL</th><td><kbd>ESC # 6</kbd></td></tr>
</table>
<ul>
<li><dfn class="cfunc">DECDHL</dfn>: Double-Width, Double-Height Line
  <p>現在カーソルのある行について、文字の幅・高さを2倍にして表示する。
  実際には幅を2倍にして、上半分または下半分を表示する。
  <kbd>ESC # 3</kbd> で上半分を、<kbd>ESC # 4</kbd> で下半分を表示する。
  この制御機能は、連続する二つの行でそれぞれ ESC # 3 と ESC # 4 を用いて同じ内容を出力することで、
  縦横2倍に拡大された文字を表示することを目的とする。
  適用前に該当行の文字幅が通常だった場合、行に入り切らなくなった文字は失われる。
  </p>
  <ul>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DECDHL.html">VT510: DECDHL</a></li>
  </ul>
</li>
<li><dfn class="cfunc">DECDWL</dfn>: Double-Width, Single-Height Line
  <p>現在カーソルのある行について、文字の幅を2倍にして表示する。
  適用前に該当行の文字幅が通常だった場合、行に入り切らなくなった文字は失われる。
  </p>
  <ul>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DECDWL.html">VT510: DECDWL</a></li>
  </ul>
</li>
<li><dfn class="cfunc">DECSWL</dfn>: Single-Width, Single-Height Line
  <p>現在カーソルのある行について、DECDHL, DECDWL で設定された文字の幅・表示を元に戻す。</p>
  <ul>
  <li><a href="http://www.vt100.net/docs/vt510-rm/DECSWL.html">VT510: DECSWL</a></li>
  </ul>
</li>
</ul>

<h3>SGR 詳細</h3>
<h4>一覧表</h4>
<table class="normal center">
<tr><th>名称</th>                <th>Sgr</th>  <th>名称</th>                <th>Sgr</th>           </tr>
<tr><th>sgrDefault</th>          <td>0</td>    <th>sgrProportional</th>     <td>26</td>            </tr>
<tr><th>sgrBold</th>             <td>1</td>    <th>sgrNegaOff</th>          <td>27</td>            </tr>
<tr><th>sgrFaint</th>            <td>2</td>    <th>sgrInvisibleOff</th>     <td>28</td>            </tr>
<tr><th>sgrItalic</th>           <td>3</td>    <th>sgrStrikeOff</th>        <td>29</td>            </tr>
<tr><th>sgrUnderline</th>        <td>4</td>    <th>sgrAnsiColor</th>        <td>30-37, 40-47</td>  </tr>
<tr><th>sgrBlink</th>            <td>5</td>    <th>sgrISO8613_6Color</th>   <td>38, 48</td>        </tr>
<tr><th>sgrRapidBlink</th>       <td>6</td>    <th>sgrFgDefault</th>        <td>39</td>            </tr>
<tr><th>sgrNega</th>             <td>7</td>    <th>sgrBgDefault</th>        <td>49</td>            </tr>
<tr><th>sgrInvisible</th>        <td>8</td>    <th>sgrProportionalOff</th>  <td>50</td>            </tr>
<tr><th>sgrStrike</th>           <td>9</td>    <th>sgrFrame</th>            <td>51</td>            </tr>
<tr><th>sgrAnsiFont</th>         <td>10-19</td><th>sgrCircle</th>           <td>52</td>            </tr>
<tr><th>sgrCharsetASCII</th>     <td>10</td>   <th>sgrOverline</th>         <td>53</td>            </tr>
<tr><th>sgrCharsetL</th>         <td>11</td>   <th>sgrFrameOff</th>         <td>54</td>            </tr>
<tr><th>sgrCharsetR</th>         <td>12</td>   <th>sgrOverlineOff</th>      <td>55</td>            </tr>
<tr><th>sgrFraktur</th>          <td>20</td>   <th>sgrAnsiReserved</th>     <td>56-59</td>         </tr>
<tr><th>sgrDoubleUnderline</th>  <td>21</td>   <th>sgrIdeoDecoration</th>   <td>60-64</td>         </tr>
<tr><th>sgrBoldOff</th>          <td>22</td>   <th>sgrIdeoDecorationOff</th><td>65</td>            </tr>
<tr><th>sgrItalicOff</th>        <td>23</td>   <th>sgrIdeoDecoration2</th>  <td>66-69</td>         </tr>
<tr><th>sgrUnderlineOff</th>     <td>24</td>   <th>sgrAixColor</th>         <td>90-97, 100-107</td></tr>
<tr><th>sgrBlinkOff</th>         <td>25</td>   <th>sgrDefaultColor</th>     <td>100</td>           </tr>
</table>

<table class="normal center">
<tr><th>名称</th><th>SGR</th></tr>
<tr><th>sgrKittyDecorationClear </th><td>4:0</td></tr>
<tr><th>sgrKittyDecorationSingle</th><td>4:1</td></tr>
<tr><th>sgrKittyDecorationDouble</th><td>4:2</td></tr>
<tr><th>sgrKittyDecorationCurly </th><td>4:3</td></tr>
<tr><th>sgrMinttyDecorationDotted</th><td>4:4</td></tr>
<tr><th>sgrMinttyDecorationDashed</th><td>4:5</td></tr>
<tr><th>sgrKittyDecorationFg    </th><td>58<sup>違反</sup></td></tr>
<tr><th>sgrKittyDecorationFgOff </th><td>59<sup>違反</sup></td></tr>
<tr><th>sgrMinttySHADOW         </th><td>1:2</td></tr>
<tr><th>sgrMinttyOVERSTRIKE     </th><td>8:7</td></tr>
<tr><th>sgrMinttySUPERSCR       </th><td>73</td></tr>
<tr><th>sgrMinttySUBSCR         </th><td>74</td></tr>
<tr><th>sgrMinttySUPSUB_CLEAR   </th><td>75</td></tr>
</table>

<pre>
# 各端末の対応

D=deprecated R=reserved -=undefined     vt102=vt100
;=only_semicolon :=only_colon           vt320,vt420=vt220
k=Kitty m=mintty r=RLogin u=urxvt       vt520=vt510

|         |                                                                                              |   |        |11111111|
|         |                  1111111111222222222233333333333333344444444444444455555555555555556666666666|777|99999999|00000000|
|         |0112344444445678890123456789012345678901234567888888901234567888888901234567888888890123456789|345|01234567|01234567|
|---------|--:---::::::----:-----------------------------::::::---------::::::----------::::::-----------|---|--------|--------|
|         |  2   012345    7                             012345         012345          012345           |   |        |        |
|---------|----------------------------------------------------------------------------------------------|---|--------|--------|
| ECMA-48 |** ***      **** *****************D***********::::::********* :::::*D*****RRRRRRRRRR**********|   |        |        |
| vt100   |**   *      * *                                                           ---                 |   |        |        |
| vt220   |**   *      * *               * ** *                                      ---                 |   |        |        |
| vt510   |**   *      * **  ***         * ** **                                     ---                 |   |        |        |
| vt525   |**   *      * **  ***         * ** ** ********      *********      *      ---                 |   |        |        |
|---------|----------------------------------------------------------------------------------------------|---|--------|--------|
| Tera Te |**   *      * *               * ** *  ********  *  **********  *  **      ---                 |   |********|********|
| mlterm  |** ***      **** *           ***** ***********  *  **********  *  **   * *---                 |   |********|********|
| rxvt    |**   *      * *               * ** *  ********     ;*********     ;*      ---                 |   |********|********|
| urxvt   |**  **      ****             u****u*  ********  ;  ;*********  ;  ;*      ---                 |   |********|********|
| screen  |** ***      * *               **** *  ********  ;  ;*********  ;  ;*      ---                 |   |********|********|
| iTerm2  |** ***      ***  *            **** * *********  *  **********  ;  ;*      ---                 |   |********|********|
| xterm   |** ***      **** *           ***** ***********  *  **********  *  **      ---                 |   |********|********|
| Kitty   |** ***kkkk    *  *           ****  * *********  *  **********  *  **      ---  k  kk          |   |********|********|
| tmux    |** ***kkkkkk* ** *            **** ***********  *  **********  *  **   * *---  k  kk          |   |********|********|
| mintty  |**m***kkkkkk****m***************** ***********  *::**********  *::** m****---  k::kk          |mmm|********|********|
| RLogin  |** ***      **** *****************************  *  **********  *  **r*****---       rrrrrr    |   |********|********|
|---------|----------------------------------------------------------------------------------------------|---|--------|--------|
| contra  |** ***kkkkkk**** *********************************************************---kkkkkkk**********|mmm|********|********|
</pre>
<ul>
<li>xterm は charproc.c (CASE_SGR) にある。rxvt は command.c (rxvt_process_sgr_mode) にある。
  RLogin は TextRamProc.cpp (CTextRam::fc_SGR) にある。
  urxvt は command.C (rxvt_term::process_sgr_mode) にある。
  iTerm2 は sources/VT100Terminal.m (executeSGR) にある。
  tmux は input.c (input_csi_dispatch_sgr, input_csi_dispatch_sgr_colon) にある。
  vt100 は<a href="https://www.vt100.net/docs/vt100-ug/chapter3.html#SGR">ここ</a>にある。
  vt102 は<a href="https://www.vt100.net/docs/vt102-ug/chapter5.html#S5.5.2.17">5.5.2.17</a>。
  vt220 は<a href="https://www.vt100.net/docs/vt220-rm/chapter4.html#S4.9.1">4.9.1</a> にある。
  vt320 は<a href="https://www.vt100.net/docs/vt320-uu/appendixe.html#SE.7">E.7</a>より。
  vt420 は <a href="https://www.vt100.net/docs/vt420-uu/chapter9.html#S9.7">9.7</a> より。
  vt510 は <a href="https://www.vt100.net/docs/vt510-rm/SGR.html">SGR</a> より。
</li>
</ul>

<h4>既定に戻す</h4>
<ul>
<li>SGR 0 <dfn class="sgr">sgrDefault</dfn>: All attributes off
  <p>設定されている全ての描画属性を無効にし、既定の状態に戻す。</p>
</li>
</ul>

<h4>太字</h4>
<ul>
<li>SGR 1 <dfn class="sgr">sgrBold</dfn>: bold, highlight
  <p>太字、もしくは高輝度の文字。</p>
  <ul>
  <li>互換性: vt100 (bold), ansi (bold/highlight), xterm (bold)</li>
  </ul>
</li>
<li>SGR 2 <dfn class="sgr">sgrFaint</dfn>: faint, second color, dim
  <p>細字、低輝度の文字、もしくは代替色の文字。</p>
</li>
<li>SGR 1:2 <dfn class="sgr">sgrMinttySHADOW</dfn>
  <p>[<a href="https://github.com/mintty/mintty/wiki/Changelog#301-28-may-2019">mintty 3.0.1</a>] 影付き文字。</p>
</li>
<li>SGR 22 <dfn class="sgr">sgrBoldOff</dfn>: bold off, normal color/intensity
  <p>太字・低輝度属性を解除する。
  ansi, xterm では sgrBold/sgrFaint の両方を解除する。
  </p>
  <ul>
  <li>互換性: ansi (bold/faint off), xterm (bold/faint off)</li>
  </ul>
</li>
</ul>

<h4>イタリック</h4>
<ul>
<li>SGR 3 <dfn class="sgr">sgrItalic</dfn>: Italicized
  <p>イタリック体。</p>
</li>
<li>SGR 20 <dfn class="sgr">sgrFraktur</dfn>: Fraktur
  <p>Fraktur フォントまたは Gothic フォント。</p>
</li>
<li>SGR 23 <dfn class="sgr">sgrItalicOff</dfn>: not italicized/fraktur
  <p>sgrItalic, sgrFraktur を解除。</p>
</li>
</ul>

<h4>下線</h4>
<ul>
<li>SGR 4 <dfn class="sgr">sgrUnderline</dfn>: underline, singly underlined</li>
<li>SGR 4:1 <dfn class="sgr">sgrKittyDecorationSingle</dfn>
  <p>下線。</p>
</li>
<li>SGR 21 <dfn class="sgr">sgrDoubleUnderline</dfn>: doubly underlined</li>
<li>SGR 4:2 <dfn class="sgr">sgrKittyDecorationDouble</dfn>
  <p>二重下線。</p>
  <ul>
  <li>4:2 の形式は Kitty 由来
    (Ref. <a href="https://github.com/kovidgoyal/kitty/issues/226">kovidgoyal/kitty#226</a>)
  </li>
  </ul>
</li>
<li>SGR 4:3 <dfn class="sgr">sgrKittyDecorationCurly</dfn>
  <p>[Kitty] 波線。</p>
</li>
<li>SGR 4:4 <dfn class="sgr">sgrMinttyDecorationDotted</dfn></li>
<li>SGR 4:5 <dfn class="sgr">sgrMinttyDecorationDashed</dfn>
  <p>[mintty <a href="https://github.com/kovidgoyal/kitty/issues/226#issuecomment-381665023">comment by mintty @ kovidgoyal/kitty#226</a>] それぞれ点線と破線。</p>
</li>
<li>SGR 24 <dfn class="sgr">sgrUnderlineOff</dfn>: Underline off</li>
<li>SGR 4:0 <dfn class="sgr">sgrKittyDecorationClear</dfn>
  <p>sgrUnderline, sgrDoubleUnderline (対応していれば) を解除。</p>
</li>
<li>SGR 58<sup>違反</sup> <dfn class="sgr">sgrKittyDecorationFg</dfn>:
  <p>[Kitty] 下線の色を ISO 8613-6 形式 (以下 SGR 38, SGR 48 を参照) で指定する。mintty が追随した。
    iTerm2 も対応している様なコメントを何処かで見たが iTerm2 は対応していない。tmux が追随している。</p>
</li>
<li>SGR 59<sup>違反</sup> <dfn class="sgr">sgrKittyDecorationFgOff</dfn>:
  <p>[Kitty] 下線の色を解除。</p>
</li>
<li><a href="https://github.com/vim-jp/vimdoc-ja/blob/master/doc/options.jax">vimdoc-ja/options.jax at master · vim-jp/vimdoc-ja</a>
  mintty が波線等に対応しているアプリケーションはあるのだろうかと調べたら出てきた。
  vim では termcap Cs Ce を下波線に使うらしい。然し ncurses には Cs, Ce という項目はそもそもない様だ。
  また、mintty についても言及されていない。
  https://gitlab.com/gnachman/iterm2/issues/6382
</li>
<li><a href="https://gitlab.com/gnachman/iterm2/issues/6382">Curly and colored underlines (#6382) · Issues · George Nachman / iterm2 · GitLab</a>
  ここによるとこれらの機能は Kitty 由来らしい。vim は既に色々使っているとの事。
</li>
<li><a href="https://sw.kovidgoyal.net/kitty/protocol-extensions.html">Extensions to the xterm protocol — kitty 0.16.0 documentation</a>
  ここを見ると 4:* 58 59 は Kitty による物で、58 59 は Reserved と分かっていて使っている様だ。
</li>
</ul>

<h4>点滅</h4>
<ul>
<li>SGR 5 <dfn class="sgr">sgrBlink</dfn>: blinking, slowly blinking
  <p>遅い点滅。</p>
  <p>[ECMA-48/8.3.117] 150/min 未満の速さで点滅させる。</p>
  <ul>
  <li>xterm, mintty は前景の表示・非表示を切り替える。
    RLogin は前景色と背景色を反転させて点滅を表現する。
    contra では前者に倣う。
  </li>
  <li>xterm, mintty はフォーカスを失うと点滅をやめる。
    RLogin はずっと点滅を続けている。
    contra では後者に倣う。
  </li>
  <li>xterm は点灯時間の方が消滅時間よりも長い気がする。
    mintty, RLogin は同じ長さの気がする。
    contra では後者に倣う。
  </li>
  </ul>
</li>
<li>SGR 6 <dfn class="sgr">sgrRapidBlink</dfn>: rapid blinking
  <p>速い点滅。</p>
  <p>[ECMA-48/8.3.117] 150/min 以上の速さで点滅させる。</p>
  <ul>
  <li>xterm は SGR(5) と同じ速さで点滅する。
    RLogin は2倍の速さで点滅する。
    mintty は定数倍ではないが微妙に速く点滅する。
  </li>
  </ul>
</li>
<li>SGR 25 <dfn class="sgr">sgrBlinkOff</dfn>: blinking off, steady, not blinking
  <p>点滅属性を解除する。</p>
</li>
</ul>

<h4>反転</h4>
<ul>
<li>SGR 7 <dfn class="sgr">sgrNega</dfn>: negative image, inverse
  <p>ネガ反転、もしくは、前景色と背景色を反転させる。</p>
</li>
<li>SGR 27 <dfn class="sgr">sgrNegaOff</dfn>: negative image off, positive image
  <p>反転属性を解除する。</p>
</li>
</ul>

<h4>不可視</h4>
<ul>
<li>SGR 8 <dfn class="sgr">sgrInvisible</dfn>: invisible image, hidden, concealed
  <p>不可視。文字を表示しない。</p>
</li>
<li>SGR 8:7 <dfn class="sgr">sgrMinttyOVERSTRIKE</dfn>:
  <p>[<a href="https://github.com/mintty/mintty/wiki/Changelog#301-28-may-2019">mintty 3.0.1</a>]
    既存の文字を消去せずに上に重ねて描画する。
    例えば <code>printf 'hello\r\e[8:7mworld\n'</code> とすると、hello と world が重なって出力される。
  </p>
  <ul>
  <li>以下は mintty の詳細な振る舞いである。
    <ul>
    <li>全角文字を重ね書きする時は現在位置の文字に挿入され、
      各文字についてカーソルは半角分しか前進しない様だ (<code>printf '日本語\r\e[8:7ma今日は\n'</code>)。</li>
    <li>何文字でも重ね書きできる (<code>printf '\e[8:7m_\b^\b+\b=\b|\b/\e[m\n'</code>)。
      上限があるのか実験したらクラッシュした。脆弱性である。</li>
    <li>(nroff 等で使っている様な) 同じ文字を重ね書きしても
      太字にはならない (<code>printf '\e[8:7maa\baxx\bx\e[m\n'</code>)。</li>
    <li>異なる色の文字も重ねる事ができる (<code>printf '\e[8:7m\e[31mA\e[32m\bx\e[m\n'</code>)。</li>
    </ul>
  </li>
  </ul>
</li>
<li>SGR 28 <dfn class="sgr">sgrInvisibleOff</dfn>: invisible image off, visible image, revealed characters
  <p>不可視属性を解除する。</p>
</li>
</ul>

<h4>打ち消し線</h4>
<ul>
<li>SGR 9 <dfn class="sgr">sgrStrike</dfn>: crossed-out
  <p>打ち消し線。</p>
</li>
<li>SGR 29 <dfn class="sgr">sgrStrikeOff</dfn>: not crossed out
  <p>打ち消し線解除。</p>
</li>
</ul>

<h4>フォント</h4>

<ul>
<li>SGR 10-19 <dfn class="sgr">sgrAnsiFont</dfn>: fonts
  <p>フォントの指定。</p>
  <table class="normal center">
  <tr><th>番号</th><th>機能</th></tr>
  <tr><td>10</td><td>既定のフォント (primary font, default font)</td></tr>
  <tr><td>11</td><td>代替フォント1 (1st alternative font)</td></tr>
  <tr><td>12</td><td>代替フォント2 (2nd alternative font)</td></tr>
  <tr><td>13</td><td>代替フォント3 (3rd alternative font)</td></tr>
  <tr><td>14</td><td>代替フォント4 (4th alternative font)</td></tr>
  <tr><td>15</td><td>代替フォント5 (5th alternative font)</td></tr>
  <tr><td>16</td><td>代替フォント6 (6th alternative font)</td></tr>
  <tr><td>17</td><td>代替フォント7 (7th alternative font)</td></tr>
  <tr><td>18</td><td>代替フォント8 (8th alternative font)</td></tr>
  <tr><td>19</td><td>代替フォント9 (9th alternative font)</td></tr>
  </table>
</li>
<li>SGR 10 <dfn class="sgr">sgrCharsetASCII</dfn>: ASCII char set
  <p>sgrCharsetL, sgrCharsetR で設定された C0:GL に割り当てられた文字を、
  通常の ASCII 文字集合に戻す。
  </p>
  <ul>
  <li>互換性: vt100 (SCO Console のみで利用可能)</li>
  </ul>
</li>
<li>SGR 11 <dfn class="sgr">sgrCharsetL</dfn>: Map 00-7F
  <p>PC character set が設定されている時、
  PC character set の 00-7F の文字を C0:GL にロッキングシフトする。
  但し、C0 の ESC &lt;x1B&gt;, DC1 &lt;x11&gt;, DC3 &lt;x13&gt; はその制御機能を維持し、
  それ以外の C0 の文字はその制御機能を失って PC Charset の文字となる。
  </p>
  <ul>
  <li>互換性: vt100 (SCO Console のみで利用可能)</li>
  </ul>
</li>
<li>SGR 12 <dfn class="sgr">sgrCharsetR</dfn>: Map 80-FF
  <p>PC character set が設定されている時、
  PC character set の 80-FF の文字を C0:GL にロッキングシフトする。
  但し、C0 の ESC &lt;x1B&gt;, DC1 &lt;x11&gt;, DC3 &lt;x13&gt; はその制御機能を維持し、
  それ以外の C0 の文字はその制御機能を失って PC Charset の文字となる。
  </p>
  <p>ISO/ASCII character set が設定されている時、
  ISO/ASCII character の A0-FF の文字を GL にロッキングシフトする。
  </p>
  <ul>
  <li>互換性: vt100 (SCO Console のみで利用可能)</li>
  </ul>
</li>
</ul>

<h4>プロポーショナル (deprecated)</h4>
<ul>
<li>SGR 26 <dfn class="sgr">sgrProportional</dfn>: proportional spacing (reserved)
  <p>[ECMA-48] T.61 で指定される proportional spacing の為に予約されているとしている。
    T.61 は International Teletex Services の為の仕様であるが teletex service 自体が終了した為に失効した様だ。
    現在は最新版 (1993 年) の文書自体が手に入らない状態にあるようだが、改訂前の 1988 年版は手に入る。
  </p>
  <p>[T.416/13.18] deprecated と指定されている。</p>
</li>
<li>SGR 50 <dfn class="sgr">sgrProportionalOff</dfn>: (reserved)
  <p>sgrProportional (SGR 26) の効果を打ち消す為に使用する。</p>
  <p>[T.416/13.18] deprecated</p>
</li>
</ul>

<h4>前景色・背景色</h4>
<ul>
<li>SGR 30-37, 40-47 <dfn class="sgr">sgrAnsiColor</dfn>: foreground, background
  <p>前景色・背景色を設定する。</p>
  <table class="normal center">
  <tr><th>番号</th><th>名称</th><th>機能</th><th>番号</th><th>名称</th><th>機能</th></tr>
  <tr><td>30</td><td>black foreground</td>  <td>前景黒色</td><td>40</td><td>black background</td>  <td>背景黒色</td></tr>
  <tr><td>31</td><td>red foreground</td>    <td>前景茶色</td><td>41</td><td>red background</td>    <td>背景茶色</td></tr>
  <tr><td>32</td><td>green foreground</td>  <td>前景緑色</td><td>42</td><td>green background</td>  <td>背景緑色</td></tr>
  <tr><td>33</td><td>yellow foreground</td> <td>前景土色</td><td>43</td><td>yellow background</td> <td>背景土色</td></tr>
  <tr><td>34</td><td>blue foreground</td>   <td>前景藍色</td><td>44</td><td>blue background</td>   <td>背景藍色</td></tr>
  <tr><td>35</td><td>magenta foreground</td><td>前景紫色</td><td>45</td><td>magenta background</td><td>背景紫色</td></tr>
  <tr><td>36</td><td>cyan foreground</td>   <td>前景碧色</td><td>46</td><td>cyan background</td>   <td>背景碧色</td></tr>
  <tr><td>37</td><td>white foreground</td>  <td>前景灰色</td><td>47</td><td>white background</td>  <td>背景灰色</td></tr>
  </table>
</li>
<li>SGR 90-97, 100-107 <dfn class="sgr">sgrAixColor</dfn>: 高輝度背景色・前景色
  <p>30-37, 40-47 の前景色・背景色を高輝度にした物。</p>
  <p>xterm の説明及び Wikipedia によると、これらの文字色・背景色の設定は aixterm に起源を持つ。</p>
  <table class="normal center">
  <tr><th>番号</th><th>機能</th><th>番号</th><th>機能</th></tr>
  <tr><td>90</td><td>前景鼠色</td><td>100</td><td>背景鼠色</td></tr>
  <tr><td>91</td><td>前景赤色</td><td>101</td><td>背景赤色</td></tr>
  <tr><td>92</td><td>前景草色</td><td>102</td><td>背景草色</td></tr>
  <tr><td>93</td><td>前景黄色</td><td>103</td><td>背景黄色</td></tr>
  <tr><td>94</td><td>前景青色</td><td>104</td><td>背景青色</td></tr>
  <tr><td>95</td><td>前景桃色</td><td>105</td><td>背景桃色</td></tr>
  <tr><td>96</td><td>前景水色</td><td>106</td><td>背景水色</td></tr>
  <tr><td>97</td><td>前景白色</td><td>107</td><td>背景白色</td></tr>
  </table>
  <ul>
  <li>互換性: xterm (88/256 色有効時)</li>
  </ul>
</li>
<li>SGR 38, 48 <dfn class="sgr">sgrISO8613_6Color</dfn>: ISO 8613-6 Colors
  <p>より多彩な色の指定をする為の SGR 属性である。番号 38, 48 に続けて引数を取る。
  規格 ISO 8613-6 (deprecated) と実際の実装に大きな乖離があるので注意を要する。
  </p>
  <table class="normal center">
  <tr><th>番号</th><th>説明</th></tr>
  <tr>
    <td><kbd>3 8 : 0</kbd></td>
    <td>前景色 実装依存</td></tr>
  <tr>
    <td><kbd>3 8 : 1</kbd></td>
    <td>前景色 透明</td></tr>
  <tr>
    <td><kbd>4 8 : 1</kbd></td>
    <td>背景色 透明</td></tr>
  <tr>
    <td><kbd>3 8 : 2 : <i>s</i> : <i>R</i> : <i>G</i> : <i>B</i> : <i>dummy</i> : <i>tol</i> : <i>tols</i></kbd> (ISO 8613)<br/>
        <kbd>3 8 ; 2 ; <i>R</i> ; <i>G</i> ; <i>B</i></kbd> (xterm, etc.)</td>
    <td>前景色 RGB</td></tr>
  <tr>
    <td><kbd>4 8 : 2 : <i>s</i> : <i>R</i> : <i>G</i> : <i>B</i> : <i>dummy</i> : <i>tol</i> : <i>tols</i></kbd> (ISO 8613)<br/>
        <kbd>4 8 ; 2 ; <i>R</i> ; <i>G</i> ; <i>B</i></kbd> (xterm, etc.)</td>
    <td>背景色 RGB</td></tr>
  <tr>
    <td><kbd>3 8 : 3 : <i>s</i> : <i>C</i> : <i>M</i> : <i>Y</i> : <i>dummy</i> : <i>tol</i> : <i>tols</i></kbd> (ISO 8613)</td>
    <td>前景色 CMY</td></tr>
  <tr>
    <td><kbd>4 8 : 3 : <i>s</i> : <i>C</i> : <i>M</i> : <i>Y</i> : <i>dummy</i> : <i>tol</i> : <i>tols</i></kbd> (ISO 8613)</td>
    <td>背景色 CMY</td></tr>
  <tr>
    <td><kbd>3 8 : 4 : <i>s</i> : <i>C</i> : <i>M</i> : <i>Y</i> : <i>K</i> : <i>tol</i> : <i>tols</i></kbd> (ISO 8613)</td>
    <td>前景色 CMYK</td></tr>
  <tr>
    <td><kbd>4 8 : 4 : <i>s</i> : <i>C</i> : <i>M</i> : <i>Y</i> : <i>K</i> : <i>tol</i> : <i>tols</i></kbd> (ISO 8613)</td>
    <td>背景色 CMYK</td></tr>
  <tr>
    <td><kbd>3 8 : 5 : <i>index</i></kbd> (ISO 8613)<br/>
        <kbd>3 8 ; 5 ; <i>index</i></kbd> (xterm, etc.)</td>
    <td>前景色 indexed colors</td></tr>
  <tr>
    <td><kbd>4 8 : 5 : <i>index</i></kbd> (ISO 8613)<br/>
        <kbd>4 8 ; 5 ; <i>index</i></kbd> (xterm, etc.)</td>
    <td>背景色 indexed colors</td></tr>
  </table>

  <p>ANSI では 38, 48 は reserved とされ、[T.416] に内容を委ねている。
    [T.416/13.1.8] 規格では引数の区切はコロン ":" (3/10) とされているが、
    xterm実装 <code>38;5;index</code> (1999) に影響を受けて <u>実際の実装では ";" が用いられる事が多い。</u>
    規格では末端にある空引数は任意に省略可能だが、
    区切にセミコロンを用いている場合、引数の終端を判断できないので省略はできない。
  </p>

  <p>[T.416/13.1.8] 引数 38, 48 の直後の区切りが : なのか ; なのかについては議論が分かれる。</p>
  <ul>
  <li>規格の "38, 48 に続く parameter substring" なる記述の parameter substring を
    ECMA-48/5.4.2 の parameter sub-string の事と解釈すれば、
    38, 48 の引数は ; で区切って新しい別のパラメータとして指定する必要がある。
    つまり、<code>38;5:1</code> や <code>38;2::255:0:0</code> などの様になる。</li>
  <li>然し、上の解釈は不合理である。わざわざ明示的に : を使いながら、
    38, 48 と区切る時にだけ ; を使う設計にする動機が全くない。
    ECMA-48 で使われている parameter string 等の別の単語は T.416 では現れない。
    また、T.416 で使われている parameter element という語は、ECMA-48 には現れない。
    T.416 parameter substring は単にパラメータ内のサブの文字列と解釈するのが自然に思われる。
    総合的に見て ECMA-47/5.4.2 parameter sub-string とは関係ないと判断する。
  </li>
  </ul>

  <p>[T.416/13.1.8] RGB, CMY, CMYK の第2引数 <i class="kbd">s</i> は色空間を指定する id で非負の整数<sup>[T.412/9.1.4.1]</sup> である。
    <u>実際の実装では RGB に対応しているものがあるが、
    何れも第2引数には対応せず後続の引数の番号が 1 つずつ前にずれる</u>。
    →どうやら mintty は第2引数を色深度の情報に使うらしい。つまり100%の時の値。
    つまり 0-255 ならば 255 で 0-100 ならば 100 という事なのだろう。
    xterm はサブパラメータが3つの場合には RGB で解釈し、
    パラメータが4つ以上の時は ISO-8613-6 で解釈する。
  </p>

  <p>[T.416/13.1.8]
    RGB, CMY の第6引数は無視される。
    RGB, CMY, CMYK の第7引数と第8引数はそれぞれ error tolerance と tolerance を測る color space を指定する。
    tolerance color space は 0 for CIELUV, 1 for CIELAB である。
    <u>実際の実装で RGB, CMY の第6引数以降および CMYK の第7引数以降に対応している物は見られない。</u>
    例えば KDE Konsole が 38;2;r;g;b の形式を実装しているが tolerance の引数には対応していない。
    逆に KDE Konsole に対して tolerance を送信するとそれが別の意味に解釈されるので問題である。
    (tolerance は元々 ISO 8613 形式のドキュメントの印刷などで品質評価に使うものなのだろうと思われる。
    端末で表示する場合、品質評価をして出力方法を選択するということは行わないので考慮に入れなくても良いだろう。)
  </p>

  <p>[T.416/13.1.8] 38:5:index は "content colour table" の番号を示す。
    [T.412/9.1.4.1] によれば indexed color の番号は非負の整数と定義されている。特に上限は定められていない。
    最近の実装では xterm に倣って 256 色である場合が多い。
  </p>

  <p>[T.415/13.1.8] SGR 30-37, 40-47 で使用される色は、
    それぞれ indexed color 1, 2, 3, 4, 5, 6, 7, 0 と対応すると定められている。
    然しながら、実際の実装では xterm に倣って 0-7 にそのまま対応しているのが普通である。
  </p>

  <p>[T.416/13.1.8] R, G, B, C, M, Y, K のそれぞれの強度の指定方法について述べられていない。
    実際の実装では R, G, B は 0-255 の値で指定すると解釈している?
  </p>

  <ul>
  <li>互換性: ansi (reserved), xterm (38;2;R;G;B, 48;2;R;G;B, 38;5, 48;5, tolerance なし),
      KDE Konsole (38;5 48;5 38;2;R;G;B 48;2;R;G;B, tolerance なし ),
      RLogin (38:2:R:G:B, 48:2:R:G:B, 38;5, 48;5, tolerance なし),
      Tera Term (38:2:R:G:B, 48:2:R:G:B, 38;5, 48;5, tolerance なし)</li>
  <li>互換性 (Tera Term, xterm): セミコロンとコロンの混合を認めている。
    但し、コロン区切より後にセミコロン区切がある場合は、
    それ以降は別の SGR 指定と見做し、そこで引数の読み取りを終わる。</li>
  <li>Konsole <a href="https://github.com/robertknight/konsole/blob/master/user-doc/README.moreColors">konsole/user-doc/README.moreColors at master ・ robertknight/konsole ・ GitHub</a></li>
  <li>RLogin <a href="http://nanno.dip.jp/softlib/man/rlogin/ctrlcode.html">エスケープシーケンス一覧</a></li>
  <li>contra::tty_player では RGB/CMY/CMYK において最低でも追加で 3/3/4 個の引数を取り
    (但し一度 colon で区切られたら semicolon による区切りは受け入れない)、
    さらに1個以上の colon で区切られた引数が続いている場合に ISO 8613-6 に従った解釈を行う。
    それ以外の場合は読み取られた 3/3/4 個の引数をそれぞれ RGB/CMY/CMYK とみなす。
    ISO 8613-6 に従った解釈の場合、tolerance およびその色空間は使用しない。
  </li>
  <li>Kitty の SGR の設定は cursor.c (cursor_from_sgr) にある。</li>
  </ul>
</li>
<li>SGR 39 <dfn class="sgr">sgrFgDefault</dfn>: default display/foreground color
  <p>前景色を既定色に戻す。</p>
  <p>[ECMA-48] 処理系依存</p>
</li>
<li>SGR 49 <dfn class="sgr">sgrBgDefault</dfn>: default background color
  <p>背景色を既定色に戻す。</p>
  <p>[ECMA-48] 処理系依存</p>
</li>
<li>SGR 100 <dfn class="sgr">sgrDefaultColor</dfn>: default color
  <p>前景色及び背景色を既定色に戻す。
    rxvt 由来の機能 (と xterm の説明には書かれているが、
    rxvt のマニュアル (1998) にこの記述はない)。
    sgrAixColor と値が被っているので注意する。
    xterm は sgrAixColor が無効の時にこれが利用可能である。
  </p>
  <ul>
  <li>互換性: xterm (16 色無効時)</li>
  </ul>
</li>
</ul>

<h4>囲み線</h4>
<ul>
<li>SGR 51 <dfn class="sgr">sgrFrame</dfn>: framed
  <p>四角形の枠線。</p>
</li>
<li>SGR 52 <dfn class="sgr">sgrCircle</dfn>: encircled
  <p>丸囲み線。</p>
</li>
<li>SGR 54 <dfn class="sgr">sgrFrameOff</dfn>: not framed/encircled
  <p>枠線・丸囲み線解除。</p>
</li>
</ul>

<h4>上線</h4>
<ul>
<li>SGR 53 <dfn class="sgr">sgrOverline</dfn>: overlined
  <p>上線。</p>
</li>
<li>SGR 55 <dfn class="sgr">sgrOverlineOff</dfn>: not overlined
  <p>上線解除。</p>
</li>
</ul>

<h4>(予約)</h4>
<ul>
<li>SGR 56-59 <dfn class="sgr">sgrAnsiReserved</dfn>: (reserved)
  <p>[ECMA-48] 将来の標準化のために予約されている。</p>
  <ul>
  <li>互換性: ansi (reserved)</li>
  </ul>
</li>
</ul>

<h4>CJK装飾</h4>
<ul>
<li>SGR 60-64 <dfn class="sgr">sgrIdeoDecoration</dfn>: CJK装飾(ANSI)
  <p>[ECMA-48] CJK文字に対する装飾を有効にする。ECMA-48 では下線または右側に線というような曖昧な記述であるが、
  JIS X 0211 によれば横書きの場合は下線で、縦書きの場合には右側に傍線といった意味である。
  これらを組み合わせた場合にどの様な表示になるかについては既定されていない。
  </p>
  <table class="normal center">
  <tr><th>番号</th><th>機能</th>    <th>横書き</th>  <th>縦書き</th>  </tr>
  <tr><td>60</td><td>傍線</td>      <td>下線</td>    <td>右線</td>    </tr>
  <tr><td>61</td><td>二重傍線</td>  <td>下二重線</td><td>右二重線</td></tr>
  <tr><td>62</td><td>左傍線</td>    <td>上線</td>    <td>左線</td>    </tr>
  <tr><td>63</td><td>左二重傍線</td><td>上二重線</td><td>左二重線</td></tr>
  <tr><td>64</td><td>傍点・強調</td><td colspan="2">ideogram stress marking</td></tr>
  </table>
  <ul>
  <li>互換性: ECMA-48</li>
  </ul>
</li>
<li>SGR 66-69 <dfn class="sgr">sgrIdeoDecoration2</dfn>: CJK装飾2
  <p>[JIS X 0211] CJK文字に対する装飾で 60-64 の時とは、縦書き・横書きの切り替わり方が異なる物である。</p>
  <p>Note: ECMA-48 5th edition (1991) には書かれていないが JIS X 0211 にはある。
  恐らく、ISO/IEC 6429:1992 で導入された物だろう
  (JIS X 0211 は ISO/IEC 6429:1992 に "IDT" [ISO/IEC GUIDE 21-1:2005(E) 4.2] と書かれている)。
  </p>
  <table class="normal center">
  <tr><th>番号</th><th>機能</th>    <th>横書き</th>  <th>縦書き</th>  </tr>
  <tr><td>66</td><td>左傍線</td>    <td>下線</td>    <td>左線</td>    </tr>
  <tr><td>67</td><td>左二重傍線</td><td>下二重線</td><td>左二重線</td></tr>
  <tr><td>68</td><td>右傍線</td>    <td>上線</td>    <td>右線</td>    </tr>
  <tr><td>69</td><td>右二重傍線</td><td>上二重線</td><td>右二重線</td></tr>
  </table>
  <ul>
  <li>互換性: JIS X 0211, ISO/IEC 6429:1992</li>
  </ul>
</li>
<li>SGR 65 <dfn class="sgr">sgrIdeoDecorationOff</dfn>: CJK装飾解除
  <p>[ECMA-48] CJK装飾 60-64, 66-69 で設定された属性を解除する。</p>
  <ul>
  <li>互換性: ECMA-48, JIS X 0211</li>
  </ul>
</li>
</ul>

<h4>上付き・下付き</h4>
<ul>
<li><dfn class="cfunc">PLD</dfn>: PARTIAL LINE DOWN
  <p>[ECMA-48/8.3.92] 下付き文字にする。PLU で解除する。</p>
</li>
<li><dfn class="cfunc">PLU</dfn>: PARTIAL LINE UP
  <p>[ECMA-48/8.3.93] 上付き文字にする。PLD で解除する。</p>
</li>
<li>SGR 73 <dfn class="sgr">sgrMinttySUPERSCR</dfn>: 上付き</li>
<li>SGR 74 <dfn class="sgr">sgrMinttySUBSCR</dfn>: 下付き</li>
<li>SGR 75 <dfn class="sgr">sgrMinttySUPSUB_CLEAR</dfn>: 上付き・下付き解除
  <p>[<a href="https://github.com/mintty/mintty/wiki/Changelog#301-28-may-2019">mintty 3.0.1</a>] 上付き・下付きの解除</p>
</li>
<li>[T.416/13.1.8] 上付き(PLU)・下付き(PLD)の内部で下線・打ち消し線の類を設定した場合は、
  それに合わせた位置に線を描画する様にする。
  [T.416/13.1.5] 上付き・下付きにする前から設定されている下線・打ち消し線の類はそのままの位置で描画する。
</li>
</ul>

<h4>互換性</h4>
<ul>
<li>[ECMA-48/8.3.117] ANSI では 0-65 の全てについて隈なく定義されている。
  但し、26, 50 (propotional spacing) は T.61 で定義される。
  38, 48 (前景色・背景色) は T.416 で定義される。
  56-59 は将来のために予約されている。
  0, 38, 48 は処理系依存。
</li>
<li>[T.416/13.1.8] 規定されているのは 0-50 の範囲。
  ただし、8,28 (invisible), 20 (fraktur), 39,49 (default color) は規定されていない。
  26, 50 (proportional spacing) は deprecated とされる。
</li>
<li>[JIS X 0211/8.3.118] 基本的に ECMA-48 と同様。
  但し 66-69 が追加されている。38, 48 は JIS X 4106 (T.416 の日本語版)で規定される。
</li>
<li><a href="http://www.vt100.net/docs/vt100-ug/chapter3.html#SGR">VT100</a>,
  <a href="http://www.vt100.net/docs/vt102-ug/chapter5.html#S5.5.2.17">VT102</a>:
  ECMA-48 の 0, 1, 4, 5, 7 のみ。
</li>
<li><a href="http://www.vt100.net/docs/vt220-rm/chapter4.html#S4.9.1">VT220</a>,
  <a href="http://www.vt100.net/docs/vt320-uu/appendixe.html#SE.7">VT320</a>,
  <a href="http://www.vt100.net/docs/vt420-uu/chapter9.html#S9.7">VT420</a>:
  ECMA-48 の 0, 1,22, 4,24, 5,25, 7,27 に対応。
</li>
<li><a href="http://www.vt100.net/docs/vt510-rm/SGR.html">VT510</a>:
  VT420 に加えて 8,28 (不可視) に対応。
  更に、10, 11, 12 に対応 (詳細な動作はリンクを参照)。
</li>
<li><a href="http://invisible-island.net/xterm/ctlseqs/ctlseqs.html">xterm</a> (2016-09-20):
  ECMA-48 の 0-50 の内 5 (rapid blink), 10-20 (fonts, fraktur),
  26,50 (proportional spacing), 38,48 (ISO 8613-6) 以外に対応。
  16色対応がコンパイルされている場合は 90-97,100-107 (sgrAixColors) に対応し、
  そうでない場合は 100 (sgrDefaultColor) に対応する。
  更に、88/256色対応がコンパイルされている場合は
  38:2, 38:5, 48:2, 48:5 (ISO-8613-6) に対応する
  (註: xterm のドキュメントには ISO-8613-3 と書かれているがこれは ISO-8613-6 の誤りである)。
  38:2 の RGB 強度は 0-255 で指定する。38:5 の色番号は 0-255 で指定する。
  ISO 8613-6 の区切りとして ":" の他に ";" も使える (但し、一度 ":" を区切りに使った場合、";" は使えない)。
</li>
<li><a href="http://doc.gnu-darwin.org/rxvt/rxvtRef.html">rxvt</a> (2016-09-22):
  ECMA-48 の 0, 1,22, 4,24, 5,25, 7,27, 30-37,40-47, 39,49 が実装されている。
</li>
<li><a href="http://manpages.ubuntu.com/manpages/xenial/en/man7/urxvt.7.html">urxvt</a> (2016-09-22):
  ECMA-48 の 0, 1,22, 3,23, 4,24, 5,6, 7,27, 30-49 に対応している。
  ISO 8613-6 については 38;5 と 48;5 に対応している。
  1 については明るい前景色で実装される。
  非標準の動作として、
  5,6 は独立したスイッチとして実装され明るい背景色と記述がある。
  5 は 25 で解除し、6 は 26 で解除する必要がある。
  8 についてはドキュメントに記載されているものの未実装 (NYI) とある。
  また 90-97,100-107 に対応している。
</li>
<li><a href="https://github.com/robertknight/konsole/blob/master/src/Vt102Emulation.cpp">konsole</a> (2016-09-20):
  ECMA-48 の 0, 1,22, 4,24, 5,25, 7,27, 30-47 及び aixterm の 90-97,100-107 に対応する。
  38;2 38:5 48;2 48;5 に対応する。コロンは使えない。
</li>
<li><a href="http://nanno.dip.jp/softlib/man/rlogin/ctrlcode.html">RLogin</a> (2016-09-20):
  ECMA-48 の 0-65, 及び 90-97,100-107 に対応する。
  但し、10-20 のフォントは予め設定を行う。
  また ISO 8613-6 は 38:2, 38;5, 48:2, 48;5 に対応する。
  38:2 RGB の値の範囲は記述なし。38:5 色番号は 0-255 である。
</li>
<li><a href="https://ttssh2.osdn.jp/manual/ja/about/ctrlseq.html">Tera Term (ttssh2)</a>:
  ECMA-48 の 0, 1,22, 4,24, 5,25, 7,27, 30-37,40-47, 39,49 および aixterm の 90-97,100-107 に対応している。
  また 38:2, 48:2, 38:5, 48:5 に対応している。引数の区切りは ";" も可能だがひとたび ":" が出たら ";" は使えない。
</li>
<li>cygwin:
  ECMA-48 の 0; 1,2,22; 7,27; 30-37,39; 40-47,49 が実装されている。
  但し 1 = 明るい前景色、2 = 暗い前景色 としての実装。
  4,24 は下線の代わりに代替色になる。
  5,25 は点滅の代わりに明るい背景色になる。
</li>
<li>MS-DOS?
  <a href="http://www5c.biglobe.ne.jp/~ecb/assembler2/b_2.html">エスケープシーケンス</a>　によると
  ECMA-48 の 0, 1, 4, 5, 7, 8, 30-37, 40-47 が実装されている。
  但し 1 はハイライトとして実装される (ただし <q>"モノクロモードのみ"</q> とのことである)。
  2 は細字の代わりに縦線が付加される。
  個別にリセットする機能については言及がない。
  他に 16 は不可視 8 と同じで、17-23 は 31-37 と同じ。
</li>
<li><a href="http://bjh21.me.uk/all-escapes/all-escapes.txt">all-escapes.txt</a> (2016-09-22):
  <p>どんな機能が存在するかだけでどの機能がどこで実装されているかなどについての記述がない。
  また、機能自体も不明瞭な点が存在するし、情報自体が怪しかったり古かったりするので注意する。
  </p>
  <ul>
  <li>SCOANSI (?) について幾つかの非標準の動作が記述されている。
    <kbd>CSI 2 ; <i>Ps</i> ; <i>Ps</i> m</kbd> で前景色・背景色を指定する。
    初めの <i class="kbd">Ps</i> が前景色で、二つ目の <i class="kbd">Ps</i> が背景色で、SCO color number で指定する。
    3 は後方互換モードで M6845 ビデオコントローラにおける 5 の意味を切り替える。
    <kbd>CSI 3 ; 1 m</kbd> は 5 を点滅の意味にし、
    <kbd>CSI 3 ; 0 m</kbd> は 5 を明るい背景色の意味にする。
    点滅(明るい背景色)は 6 で解除する。
    50 で前景色・背景色を元に戻し、51 で全ての色(?)をシステムの既定に戻す。
    また、90-97,100-107 は色の順序が異なる: KBGCRMYW である。
  </li>
  <li>iBCS2 extensions:
    6 点滅(5)の代わりに明るい前景色を用いる (VGA でのみ)。
    10 reset selected mapping, display control flag, toggle meta flag.
    11 select null mapping, set display control flag, reset toggle meta flag.
    (The toggle meta flag causes the high bit of a byte to be toggled before the mapping table translation is done.)
    38 で下線を有効にし 39 で下線を解除する。
  </li>
  <li>Linux extensions:
    12 select null mapping, set display control flag, set toggle meta flag.
    21 は 1 の効果を解除する。38 は下線を有効にし、また、前景色を既定に戻す (?)
  </li>
  <li>rxvt では 100 で前景色・背景色を既定に戻すと記述されているが、
    rxvt 本体のドキュメントには記されていない。
    all-escapes.txt の情報源に rxvt が書かれていないことを見ると、
    これは単に xterm の説明にあったものを写しただけと思われる。
  </li>
  <li>LQP02 (DEC private SGRs): ?1  Set secondary overprint mode, ?2  Enable shadow print.
  </li>
  </ul>
</li>
<li>また、出元不明の情報として以下の様なメモが残っていたが、情報源は失念した。
  <ul>
  <li>???: 3 は反転、21 は暗い前景色、22 は既定色、17-23 はそれぞれ前景色 RBMGYCW</li>
  </ul>
</li>
</ul>

<h2>ユーザ入力の設定</h2>

<h3>キーボード入力</h3>
<h4>キー入力の符号化表現</h4>
<p>ここでは xterm に於ける実装を基本形としてキー入力の符号化表現について説明する。以下はカーソルキーである。</p>
<table class="normal center">
<caption>カーソルキー</caption>
<tr><th>keyname</th><th>符号化表現</th></tr>
<tr><td><kbd>insert</kbd></td><td><kbd>CSI 2 ~</kbd>                 </td></tr>
<tr><td><kbd>delete</kbd></td><td><kbd>CSI 3 ~</kbd>                 </td></tr>
<tr><td><kbd>home  </kbd></td><td><kbd>CSI H</kbd> / <kbd>SS3 H</kbd></td></tr>
<tr><td><kbd>end   </kbd></td><td><kbd>CSI F</kbd> / <kbd>SS3 F</kbd></td></tr>
<tr><td><kbd>prior </kbd></td><td><kbd>CSI 5 ~</kbd>                 </td></tr>
<tr><td><kbd>next  </kbd></td><td><kbd>CSI 6 ~</kbd>                 </td></tr>
<tr><td><kbd>up    </kbd></td><td><kbd>CSI A</kbd> / <kbd>SS3 A</kbd></td></tr>
<tr><td><kbd>down  </kbd></td><td><kbd>CSI B</kbd> / <kbd>SS3 B</kbd></td></tr>
<tr><td><kbd>right </kbd></td><td><kbd>CSI C</kbd> / <kbd>SS3 C</kbd></td></tr>
<tr><td><kbd>left  </kbd></td><td><kbd>CSI D</kbd> / <kbd>SS3 D</kbd></td></tr>
<tr><td><kbd>begin </kbd></td><td><kbd>CSI E</kbd> / <kbd>SS3 E</kbd></td></tr>
</table>
<ul>
<li><kbd>begin</kbd> はテンキーの真ん中 (<kbd>5</kbd> の NumLock を外している時) である。</li>
</ul>

<table class="normal center">
<caption>ファンクションキー</caption>
<tr><th>keyname</th><th>符号化表現</th><th>keyname</th><th>符号化表現</th></tr>
<tr><td><kbd>f1 </kbd></td><td><kbd>SS3 P</kbd>    </td><td><kbd>f11</kbd></td><td><kbd>CSI 2 3 ~</kbd></td></tr>
<tr><td><kbd>f2 </kbd></td><td><kbd>SS3 Q</kbd>    </td><td><kbd>f12</kbd></td><td><kbd>CSI 2 4 ~</kbd></td></tr>
<tr><td><kbd>f3 </kbd></td><td><kbd>SS3 R</kbd>    </td><td><kbd>f13</kbd></td><td><kbd>CSI 2 5 ~</kbd></td></tr>
<tr><td><kbd>f4 </kbd></td><td><kbd>SS3 S</kbd>    </td><td><kbd>f14</kbd></td><td><kbd>CSI 2 6 ~</kbd></td></tr>
<tr><td><kbd>f5 </kbd></td><td><kbd>CSI 1 5 ~</kbd></td><td><kbd>f15</kbd></td><td><kbd>CSI 2 8 ~</kbd></td></tr>
<tr><td><kbd>f6 </kbd></td><td><kbd>CSI 1 7 ~</kbd></td><td><kbd>f16</kbd></td><td><kbd>CSI 2 9 ~</kbd></td></tr>
<tr><td><kbd>f7 </kbd></td><td><kbd>CSI 1 8 ~</kbd></td><td><kbd>f17</kbd></td><td><kbd>CSI 3 1 ~</kbd></td></tr>
<tr><td><kbd>f8 </kbd></td><td><kbd>CSI 1 9 ~</kbd></td><td><kbd>f18</kbd></td><td><kbd>CSI 3 2 ~</kbd></td></tr>
<tr><td><kbd>f9 </kbd></td><td><kbd>CSI 2 0 ~</kbd></td><td><kbd>f19</kbd></td><td><kbd>CSI 3 3 ~</kbd></td></tr>
<tr><td><kbd>f10</kbd></td><td><kbd>CSI 2 1 ~</kbd></td><td><kbd>f20</kbd></td><td><kbd>CSI 3 4 ~</kbd></td></tr>
</table>
<ul>
<li>xterm では <kbd>CSI &gt; 2 n</kbd> とすれば修飾を番号増加に使える。
  <kbd>S-</kbd> が +10 で <kbd>C-</kbd> が +20 である。
  これにより <kbd>f21</kbd> 以降を調べることができて、
  <kbd>f21</kbd>-<kbd>f42</kbd> は <kbd>CSI 4 2 ~</kbd>-<kbd>CSI 6 3 ~</kbd>
  の連続する符号化表現が与えられていると分かる。
</li>
<li>urxvt では <kbd>f1</kbd>-<kbd>f4</kbd> に
  <kbd>CSI 1 1 ~</kbd>-<kbd>CSI 1 4 ~</kbd> を割り当てている。
  <kbd>S-</kbd> は +10 に対応して、<kbd>f21</kbd>, <kbd>f22</kbd> は
  <kbd>CSI 2 3 $</kbd><sup>非ANSI</sup>, <kbd>CSI 2 4 $</kbd><sup>非ANSI</sup> である。
  <kbd>C-</kbd> は <kbd>~</kbd>, <kbd>$</kbd> をそれぞれ
  <kbd>^</kbd>, <kbd>@</kbd> に置き換える。
</li>
<li>cygwin は urxvt に近いが、<kbd>f1</kbd>-<kbd>f5</kbd> を
  <kbd>CSI [ A</kbd>-<kbd>CSI [ E</kbd><sup>非ANSI</sup> に置き換えている。
</li>
</ul>

<h4>キー入力の制御機能</h4>
<table class="normal center">
<tr><th>略号</th><th>符号化表現</th></tr>
<tr><th>DECKPAM</th> <td><kbd>ESC =</kbd></td></tr>
<tr><th>DECKPNM</th> <td><kbd>ESC &gt;</kbd></td></tr>
</table>

<ul>
<li>Mode 2 <dfn class="cmode">KAM</dfn>: KEYBOARD ACTION MODE [既定値 RM]
  <ul>
  <li><dfn class="cmode-rm">ENABLED</dfn> (RM): 全てまたは一部の手動入力装置が使用可能状態。</li>
  <li><dfn class="cmode-sm">DISABLED</dfn> (SM): 全てまたは一部の手動入力装置が使用不能状態。</li>
  </ul>
  <ul>
  <li>互換性: [ECMA-48/7.2.11]</li>
  <li>互換性: [<a href="http://www.vt100.net/docs/vt510-rm/KAM">VT510: KAM</a>]
    キー入力が送信されなくなる。
    キーボードがロックされている間 "Wait" という文字列がキーボード状態行に表示される。
    f3 及び f4 のキー入力は影響を受けない。
  </li>
  <li>互換性: xterm は全てのキーが効かなくなる。
    SRM によるローカルエコーも起こらない。マウスは有効。
    RLogin も同様の振る舞い。</li>
  </ul>
</li>
<li>Mode 12 <dfn class="cmode">SRM</dfn>: SEND/RECEIVE MODE (Local Echo: Send/Receive Mode) [既定値 SM]
  <ul>
  <li><dfn class="cmode-rm">MONITOR</dfn> (RM): 手許で入力した内容がすぐに表示される (ローカルエコー)。</li>
  <li><dfn class="cmode-sm">SIMULTANEOUS</dfn> (SM): ユーザ入力と表示は切断されている。装置が受信した内容だけが表示される。</li>
  </ul>
  <ul>
  <li>互換性: [ECMA-48/7.2.15]</li>
  <li>互換性: [<a href="http://www.vt100.net/docs/vt510-rm/SRM">VT510: SRM</a>]
    註: Description の最後の文に typo がある。not が抜けている。
  </li>
  <li>互換性: xterm はローカルエコーが有効のとき全てのキーのキーシーケンスを直接端末に渡す。
    CR, LF も変化なく渡す。マウスは渡さない (多分)。RLogin も同様の振る舞い。</li>
  </ul>
</li>
<li>Mode ?8 <dfn class="cmode">DECARM</dfn>: Autorepeat Mode [既定値: SM]
  <p>[<a href="https://www.vt100.net/docs/vt510-rm/DECARM.html">VT510/DECARM</a>]
    設定されている時、キーを 0.5 秒以上押し続けるとキーを離すまでそのキーの入力を繰り返す。
  </p>
</li>
<li>Mode ?1 <dfn class="cmode">DECCKM</dfn>: Cursor Keys Mode [既定値 RM]
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECCKM">VT510/DECCKM</a>]
    設定されている時、矢印キーによる入力を <kbd>SS3 A</kbd> 等の形式で送信する。
    解除されている時、矢印キーによる入力を <kbd>CSI A</kbd> 等の形式で送信する。
  </p>
</li>
<li>Mode ?66 <dfn class="cmode">DECNKM</dfn>: Numeric Keypad Mode [既定値 RM]
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECNKM">VT510/DECNKM</a>]
    設定されている時、テンキーでエスケープシーケンスを送る (DECKPAM)。
    解除されている時、テンキーで通常の文字を送る (DECKPNM)。
  </p>
</li>
<li><dfn class="cfunc">DECKPAM</dfn> <kbd>ESC =</kbd>: Keypad Application Mode
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECKPAM">VT510/DECKPAM</a>]
   テンキーでエスケープシーケンスを送る。
  </p>
</li>
<li><dfn class="cfunc">DECKPNM</dfn> <kbd>ESC &gt;</kbd>: Keypad Numeric Mode
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECKPNM">VT510/DECKPNM</a>]
   テンキーで通常の文字を送る。
  </p>
</li>
<li>Mode ?67 <dfn class="cmode">DECBKM</dfn>: Backarrow Keypad Mode [既定値 RM]
  <p>[<a href="http://www.vt100.net/docs/vt510-rm/DECBKM">VT510/DECBKM</a>]
    設定されている時、Back キーで <kbd>BS</kbd> を送信する。
    解除されている時、Back キーで <kbd>DEL</kbd> を送信する。
  </p>
</li>
<li>Mode ?2004 <dfn class="cmode">XTERM_PASTE_IN_BRACKET</dfn>: Bracketed Paste Mode
  <p>[xterm] 設定されている時、貼り付けによる入力内容を <kbd>CSI 2 0 0 ~</kbd> と
    <kbd>CSI 2 0 1 ~</kbd> で囲んでアプリケーションに送信する。
  </p>
</li>
<li>Mode ?1050 <dfn class="cmode">XTERM_TCAP_FKEYS</dfn>:</li>
<li>Mode ?1051 <dfn class="cmode">XTERM_SUN_FKEYS</dfn>:</li>
<li>Mode ?1052 <dfn class="cmode">XTERM_HP_FKEYS</dfn>:</li>
<li>Mode ?1053 <dfn class="cmode">XTERM_SCO_FKEYS</dfn>:</li>
<li>Mode ?1060 <dfn class="cmode">XTERM_LEGACY_FKEYS</dfn>:</li>
<li>Mode ?1061 <dfn class="cmode">XTERM_VT220_FKEYS</dfn>:
  <p>[xterm] マニュアルには書いてあるが手許の xterm#348 (cygwin),
    xterm#334 (fc30) では 1050,1051,1060,1061 しか実装されていない。
    少なくとも 1050,1051,1060,1061 は排他的であった。
    つまり、1つを SM/RM すると他は RM される。
    6つが全て排他的であると考えるのが自然だろう。
  </p>
  <ul>
  <li>XTERM_HP_FKEYS について、[xterm ctlseqs.pdf/HP-Style Function Keys] にはコンパイル時に有効にできるとある。
    詳細は terminfo で xterm-hp を見よとの事。
    コマンド <code>TERM=xterm-hp infocmp -d xterm | grep -v 'NULL\.$'</code> で
    xterm-hp 特有の設定を表示できる。
    XTERM_SUN_FKEYS については同様に terminfo xterm-sun を見よと書かれている。
    XTERM_SCO_FKEYS については何も書かれていないが terminfo xterm-sco があった。
    XTERM_LEGACY_FKEYS については xterm-xfree86 及び xterm-xf86-* が対応する terminfo だろうか。
    XTERM_VT220_FKEYS については xterm-vt220 がある。
  </li>
  <li>xterm-sun (terminfo): カーソルキーは以下の表に纏める。
    Fn key に関しては、terminfo を観察すると 10 毎に数値が連続しているので
    恐らく <kbd>f1</kbd>-<kbd>f10</kbd> とその装飾だと推測したが、
    xterm で確認すると装飾は mod で行われる様だ。
    <kbd>f1</kbd>-<kbd>f10</kbd> は <kbd>CSI 2 2 4 z</kbd>-<kbd>CSI 2 3 3 z</kbd> である。
    <kbd>f11</kbd>-<kbd>f20</kbd> は <kbd>CSI 1 9 2 z</kbd>-<kbd>CSI 2 0 1 z</kbd> である。
    <kbd>f31</kbd>-<kbd>f40</kbd> は <kbd>CSI 2 0 8 z</kbd>-<kbd>CSI 2 1 7 z</kbd> である。
    <kbd>f41</kbd>-<kbd>f50</kbd> は <kbd>CSI 2 1 8 z</kbd>-<kbd>CSI 2 2 2 z</kbd>, <kbd>CSI 2 3 4 z</kbd>-<kbd>CSI 2 3 8 z</kbd> である。
    <kbd>f21</kbd>-<kbd>f30</kbd> は terminfo から還元に抜けている。
    但し、<kbd>S-f6</kbd> (197), <kbd>C-f7</kbd> (214), <kbd>C-f9</kbd> (216), <kbd>C-S-f3</kbd> (220), <kbd>C-S-f1</kbd> (218)
    はそれぞれ <kbd>copy</kbd>, <kbd>home</kbd>, <kbd>next</kbd>, <kbd>end</kbd>, <kbd>kb2</kbd> と重複するので terminfo では抜けている。
    <kbd>undo</kbd> vs <kbd>S-f4</kbd> (195), <kbd>help</kbd> vs <kbd>S-f5</kbd> (196),
    <kbd>find</kbd> vs <kbd>S-f9</kbd> (200), <kbd>prior</kbd> vs <kbd>C-S-f5</kbd> (222)
    は重複したものが terminfo に登録されている。
    他に <kbd>C-S-f8</kbd> (terminfo f48) 以降は terminfo に登録されていない。
    (<kbd>kb2</kbd> は良くわからないキーだが一応 xterm に対して <kbd>SS3 u</kbd> が割り当てられている。)
  </li>
  <li>xterm-hp (terminfo): カーソルキーは以下の表に纏める。
    Fn key に関しては <kbd>f1</kbd>-<kbd>f8</kbd> しかない。
    それぞれ <kbd>ESC p</kbd>-<kbd>ESC w</kbd> が割り当てられている。
    他に特有のキー <kbd>clear</kbd> (<kbd>ESC J</kbd>) がある。</li>
  <li>xterm-sco (terminfo): カーソルキーは以下の表に纏める。
    Fn key に関しては <kbd>f1</kbd>-<kbd>f14</kbd> が <kbd>CSI M</kbd>-<kbd>CSI Z</kbd> で、
    <kbd>f15</kbd>-<kbd>f40</kbd> が <kbd>CSI a</kbd>-<kbd>CSI z</kbd> で、
    <kbd>f41</kbd> (<kbd>CSI @</kbd>)
    <kbd>f42</kbd> (<kbd>CSI [</kbd>)
    <kbd>f43</kbd> (<kbd>CSI \</kbd>)
    <kbd>f44</kbd> (<kbd>CSI ]</kbd>)
    <kbd>f45</kbd> (<kbd>CSI ^</kbd>)
    <kbd>f46</kbd> (<kbd>CSI _</kbd>)
    <kbd>f47</kbd> (<kbd>CSI `</kbd>)
    <kbd>f48</kbd> (<kbd>CSI {</kbd>) と延々と続く。
    何処に切れ目が在るのか読み取れないが、
    xterm の既定と同じく 12 周期で良いのだろうか。
    他に特有のキー <kbd>begin</kbd> (<kbd>CSI E</kbd>) がある。</li>
  </ul>
  <table class="normal">
  <tr><th>keyname</th><th>xterm</th><th>xterm-sun</th><th>xterm-hp</th><th>xterm-sco</th></tr>
  <tr><td><kbd>up    </kbd></td><td><kbd>SS3 A  </kbd></td><td><kbd>SS3 A      </kbd></td><td><kbd>ESC A</kbd></td><td><kbd>CSI A</kbd></td></tr>
  <tr><td><kbd>down  </kbd></td><td><kbd>SS3 B  </kbd></td><td><kbd>SS3 B      </kbd></td><td><kbd>ESC B</kbd></td><td><kbd>CSI B</kbd></td></tr>
  <tr><td><kbd>right </kbd></td><td><kbd>SS3 C  </kbd></td><td><kbd>SS3 C      </kbd></td><td><kbd>ESC C</kbd></td><td><kbd>CSI C</kbd></td></tr>
  <tr><td><kbd>left  </kbd></td><td><kbd>SS3 D  </kbd></td><td><kbd>SS3 D      </kbd></td><td><kbd>ESC D</kbd></td><td><kbd>CSI D</kbd></td></tr>
  <tr><td><kbd>insert</kbd></td><td><kbd>CSI 2 ~</kbd></td><td><kbd>CSI 2 z    </kbd></td><td><kbd>ESC Q</kbd></td><td><kbd>CSI L</kbd></td></tr>
  <tr><td><kbd>delete</kbd></td><td><kbd>CSI 3 ~</kbd></td><td><kbd>CSI 3 z    </kbd></td><td><kbd>ESC P</kbd></td><td><kbd>DEL  </kbd></td></tr>
  <tr><td><kbd>home  </kbd></td><td><kbd>SS3 H  </kbd></td><td><kbd>CSI 2 1 4 z</kbd></td><td><kbd>ESC h</kbd></td><td><kbd>CSI H</kbd></td></tr>
  <tr><td><kbd>end   </kbd></td><td><kbd>SS3 F  </kbd></td><td><kbd>CSI 2 2 0 z</kbd></td><td><kbd>ESC F</kbd></td><td><kbd>CSI F</kbd></td></tr>
  <tr><td><kbd>prior </kbd></td><td><kbd>CSI 5 ~</kbd></td><td><kbd>CSI 2 2 2 z</kbd></td><td><kbd>ESC T</kbd></td><td><kbd>CSI I</kbd></td></tr>
  <tr><td><kbd>next  </kbd></td><td><kbd>CSI 6 ~</kbd></td><td><kbd>CSI 2 1 6 z</kbd></td><td><kbd>ESC S</kbd></td><td><kbd>CSI G</kbd></td></tr>
  <tr><td><kbd>mouse </kbd></td><td><kbd>CSI &lt;</kbd></td><td><kbd>CSI M</kbd></td><td><kbd>CSI M</kbd></td><td><kbd>CSI &gt; M</kbd></td></tr>
  </table>
  <ul>
  <li>xterm-xf86-v44 (terminfo): カーソルキーは基本的には違いはない。
    但し、xterm-xf86-v40 では修飾は <kbd>SS3 <i>mod</i> <i>A</i></kbd> の形式だった様だ。
    xterm-xf86-v32,v33 では <kbd>delete</kbd> (<kbd>DEL</kbd>),
    <kbd>find</kbd> (<kbd>CSI 1 ~</kbd>), <kbd>select</kbd> (<kbd>CSI 4 ~</kbd>) が登録されている。
    他に <kbd>kb2</kbd> と <kbd>begin</kbd> は同じ <kbd>SS3 E</kbd> を出している。
    Fn key に関しては元の xterm から <kbd>f1</kbd>-<kbd>f4</kbd> に対応する部分が変わっている。
    xterm-{xfree86,xf86-v{40,43,44}} については <kbd>SS3 <i>mod</i> <i>A</i></kbd>
    (A は <kbd>f1</kbd>-<kbd>f4</kbd> に対し <kbd>P</kbd>-<kbd>S</kbd>) の形式である。
    xterm-xf86-v{32,33,333} については以下の表にまとめた。
    <table class="normal">
    <tr><th>keyname</th><th>v32,33</th><th>keyname</th><th>v32,33,333</th><th>keyname</th><th>v32,33,333</th></tr>
    <tr><td><kbd>f1</kbd></td><td><kbd>CSI 1 1 ~</kbd></td><td><kbd>f13</kbd></td><td><kbd>CSI 2 5 ~</kbd></td><td><kbd>f17</kbd></td><td><kbd>CSI 3 1 ~</kbd></td></tr>
    <tr><td><kbd>f2</kbd></td><td><kbd>CSI 1 2 ~</kbd></td><td><kbd>f14</kbd></td><td><kbd>CSI 2 6 ~</kbd></td><td><kbd>f18</kbd></td><td><kbd>CSI 3 2 ~</kbd></td></tr>
    <tr><td><kbd>f3</kbd></td><td><kbd>CSI 1 3 ~</kbd></td><td><kbd>f15</kbd></td><td><kbd>CSI 2 8 ~</kbd></td><td><kbd>f19</kbd></td><td><kbd>CSI 3 3 ~</kbd></td></tr>
    <tr><td><kbd>f4</kbd></td><td><kbd>CSI 1 4 ~</kbd></td><td><kbd>f16</kbd></td><td><kbd>CSI 2 9 ~</kbd></td><td><kbd>f20</kbd></td><td><kbd>CSI 3 4 ~</kbd></td></tr>
    </table>
  </li>
  <li>xterm-vt220 (terminfo):
    カーソルキーは <kbd>home</kbd> (<kbd>CSI 1 ~</kbd>), <kbd>end</kbd> (<kbd>CSI 4 ~</kbd>) が異なるのみ。
    Fn キーについては <kbd>f13</kbd>-<kbd>f20</kbd> が異なるのみ?
    <table class="normal">
    <tr><th>keyname</th><th>xterm-vt220</th><th>keyname</th><th>xterm-vt220</th></tr>
    <tr><td><kbd>f13</kbd></td><td><kbd>CSI 2 5 ~</kbd></td><td><kbd>f17</kbd></td><td><kbd>CSI 3 1 ~</kbd></td></tr>
    <tr><td><kbd>f14</kbd></td><td><kbd>CSI 2 6 ~</kbd></td><td><kbd>f18</kbd></td><td><kbd>CSI 3 2 ~</kbd></td></tr>
    <tr><td><kbd>f15</kbd></td><td><kbd>CSI 2 8 ~</kbd></td><td><kbd>f19</kbd></td><td><kbd>CSI 3 3 ~</kbd></td></tr>
    <tr><td><kbd>f16</kbd></td><td><kbd>CSI 2 9 ~</kbd></td><td><kbd>f20</kbd></td><td><kbd>CSI 3 4 ~</kbd></td></tr>
    </table>
  </li>
  <li>xterm (default):
    Fn key に関しては <kbd>f1</kbd>-<kbd>f4</kbd> については <kbd>SS3 P</kbd> の形式である。
    <kbd>f5</kbd>-<kbd>f12</kbd> については <kbd>CSI <i>Ps</i> ~</kbd> の形式である。
    修飾に関しては一貫して <kbd>CSI <i>Ps</i> ; <i>mod</i> <i>Ft</i></kbd> の形式である。
  </li>
  <li>xterm (XTERM_LEGACY_FKEYS):
    Cursor key は <kbd>delete</kbd> (<kbd>DEL</kbd>) が xterm からの変化。修飾は効かない。
    Fn key は全て <kbd>CSI <i>Ps</i> ~</kbd> の形式になる。
    但し C- 修飾は番号を +10 する。他の修飾は効かない。
    振る舞いを見ると terminfo xterm-xf86-v32,v33 に対応している様に見える。
  </li>
  <li>xterm (XTERM_VT220_FKEYS):
    Cursor key については全て番号になる。修飾は一切効かない。
    Fn key は修飾が無い時は default と同じである。<kbd>S-</kbd> 修飾は無視される。
    <kbd>C-</kbd> 修飾は番号を +10 するのに対応する。
    terminfo で <kbd>f13</kbd>-<kbd>f20</kbd> が上書きされているのは、
    これにより <kbd>f20</kbd> 迄取り扱える様にする為だったのだろう。
    <kbd>M-</kbd> 修飾 (Alt key) も無視されている。
  </li>
  </ul>
</li>
<li><dfn class="cfunc">XTERM_SET_MOD_FKEYS</dfn> <kbd>CSI &gt; <i>Ps1</i> ; <i>Ps2</i> m</kbd>: Set key modifier options (xterm)</li>
<li><dfn class="cfunc">XTERM_SET_MOD_FKEYS0</dfn> <kbd>CSI &gt; <i>Ps1</i> n</kbd>: Disable key modifier options (xterm)
  <p>[xterm] modifyOtherKeys 等に値を設定する。<i class="kbd">Ps1</i> には影響を受けるキーの種類を指定する。
    <i class="kbd">Ps2</i> には修飾の形式を指定する。
    XTERM_SET_MOD_FKEYS で <i class="kbd">Ps2</i> を省略すると初期値を設定する。
    XTERM_SET_MOD_FKEYS0 は -1 (修飾無効) に設定する。
    引数を全く指定しないと全ての設定を初期値にする。
  </p>
  <table class="normal">
  <tr><th><i class="kbd">Ps1</i></th><th>設定名</th></tr>
  <tr><td>0</td><td>modifyKeyboard</td></tr>
  <tr><td>1</td><td>modifyCursorKeys</td></tr>
  <tr><td>2</td><td>modifyFunctionKeys</td></tr>
  <tr><td>3</td><td>modifyKeypadKeys</td></tr>
  <tr><td>4</td><td>modifyOtherKeys</td></tr>
  <tr><td>5</td><td>modifyStringKeys</td></tr>
  </table>
  <table class="normal">
  <tr><th><i class="kbd">Ps2</i></th>
      <th><kbd>CSI <i>F</i></kbd></th><th><kbd>SS3 <i>F</i></kbd></th>
      <th><kbd>CSI <i>Ps</i> <i>F</i></kbd></th>
      <th><kbd>CSI 2 7 ; 1 ; <i>code</i> <i>F</i></kbd></th></tr>
  <tr><td>-1</td><td colspan="4">修飾無効 (Fn key は修飾により番号がずれる)</td></tr>
  <tr><td>0</td><td><kbd>CSI <i>mod</i> <i>F</i></kbd></td><td><kbd>SS3 <i>mod</i> <i>F</i></kbd></td>
    <td rowspan="3"><kbd>CSI <i>Ps</i> ; <i>mod</i> <i>F</i></kbd></td>
    <td rowspan="3"><kbd>CSI 2 7 ; <i>mod</i> ; <i>code</i> <i>F</i></kbd></td></tr>
  <tr><td>1</td><td colspan="2"><kbd>CSI <i>mod</i> <i>F</i></kbd></td></tr>
  <tr><td>2</td><td colspan="2"><kbd>CSI 1 ; <i>mod</i> <i>F</i></kbd></td></tr>
  <tr><td>3</td><td colspan="2"><kbd>CSI &gt; 1 ; <i>mod</i> <i>F</i></kbd></td>
    <td><kbd>CSI &gt; <i>Ps</i> ; <i>mod</i> <i>F</i></kbd></td>
    <td><kbd>CSI &gt; 2 7 ; <i>mod</i> ; <i>code</i> <i>F</i></kbd></td></tr>
  </table>
  <ul>
  <li>xterm: <i class="kbd">Ps1</i> = 0,1,2,4 に対応している。3,5 は予約。
    0 (modifyKeyboard) は何か分からない。1 (modifyCursorKeys) は上下左右・insert,delete,home,end,next,prior を対象とする。
    2 (modifyFunctionKeys) は fn key を対象とする。4 はその他のキー全般を対象とする。
    マニュアルには <i class="kbd">Ps2</i> = 1 が Alt-/Meta- 修飾を行い、2 が全ての修飾を行うと書かれているが、
    実際の xterm では振る舞いが異なる。単に修飾の形式を指定する様に見える。
    <i class="kbd">Ps2</i> = 3 は modifyOtherKeys に対しては無修飾になっている。
    引数を省略した時に初期値に戻すのは効いていない。
  </li>
  <li>RLogin: <i class="kbd">Ps1</i> = 1,2,3,4,5 に対応している。
    3 (modifyKeypadKeys) は kp key を対象とする。4 は <kbd>BS</kbd>,<kbd>RET</kbd>,<kbd>ESC</kbd>,<kbd>TAB</kbd>,<kbd>SP</kbd> のみに作用する。
    5 (modifyStringKeys) は数字とアルファベットに作用する。記号類は影響を受けない。設定で変更可能。
  </li>
  </ul>
  <p>実際の実装で様々なキーの組み合わせに対してどのようなコードを送るかはまちまちである。</p>
  <ul>
  <li>xterm: 既定で <kbd>CSI 2 7 ~</kbd> 形式を使う。
    <kbd>S-a</kbd> に対しては <kbd>A</kbd> ではなく <kbd>S-A</kbd> が送信される。
    CapsLock が入っている時には <kbd>S-A</kbd> に対して <kbd>S-a</kbd> が送信される。
    (日本語キーボードで) <kbd>S-1</kbd> とすると <kbd>S-!</kbd> ではなく <kbd>!</kbd> が送信される。
    しかし <kbd>C-S-1</kbd> に対しては <kbd>C-!</kbd> ではなくて <kbd>C-S-!</kbd> が送信される。
    <kbd>M-</kbd> 修飾は <kbd>A-</kbd> 修飾として加算される。
  </li>
  <li>mintty: 基本的に <kbd>CSI u</kbd> 形式を使う。
    <kbd>M-</kbd> 修飾だけの場合は <kbd>ESC</kbd> を前置するが、
    それ以外の修飾が混ざると <kbd>M-</kbd> は <kbd>A-</kbd> 修飾を加算する。
    文字と修飾の組み合わせは xterm と殆ど同じだが、<kbd>M-S-a</kbd> に対して
    <kbd>M-A</kbd> を送る (xterm は <kbd>M-S-A</kbd> である)。
    <kbd>C-M-S-a</kbd> に対しては　<kbd>C-M-S-A</kbd> を送る。
  </li>
  <li>RLogin: <kbd>CSI 2 7 ~</kbd> 形式を使う。
    既定では modifyStringKeys (<kbd>CSI > 5 m</kbd>)まで指定しないとアルファベットや数字の修飾は有効にならない。
    RLogin の場合は <kbd>S-1</kbd> 等をアプリケーション側で記号に変換しなければならない。
    つまりアプリケーション側でキーボード配列を想定しなければならず不便である。
    純粋な記号の修飾 (例えば <kbd>C-:</kbd>) は入力できない (何も送信されない)。
  </li>
  <li>contra: 現在の実装では以下の様に実装している。アルファベットキーについては、
    CapsLock の状態によってショートカットキーの意味が変化するのは不自然なので、
    S 以外の修飾が入っている場合には CapsLock の状態に拘らずアルファベットは小文字にし、S は修飾に含める。
    それ以外の場合は CapsLock に従って大文字か小文字を通常の文字として送信する。
    数字または記号キーについては、S によって別の記号に変化する場合には、その記号に置き換えて S は修飾に含めない。
    <kbd>M-</kbd> は常に前置 <kbd>ESC</kbd> で実装している。
  </li>
  <li>gnome-terminal: そもそも対応していない。</li>
  </ul>
  <table class="normal contra-cell-center">
  <tr><th>入力            </th><th>xterm                            </th><th>RLogin                       </th><th>contra                   </th></tr>
  <tr><td><kbd>a</kbd>    </td><td><kbd>a</kbd>/<kbd>A</kbd>        </td><td><kbd>a</kbd>/<kbd>A</kbd>    </td><td><kbd>a</kbd>/<kbd>A</kbd></td></tr>
  <tr><td><kbd>S-a</kbd>  </td><td><kbd>S-A</kbd>/<kbd>S-a</kbd>    </td><td><kbd>S-A</kbd>               </td><td><kbd>A</kbd>/<kbd>a</kbd></td></tr>
  <tr><td><kbd>C-a</kbd>  </td><td><kbd>C-a</kbd>/<kbd>C-A</kbd>    </td><td><kbd>C-A</kbd>               </td><td><kbd>C-a</kbd>           </td></tr>
  <tr><td><kbd>C-S-a</kbd></td><td><kbd>C-S-A</kbd>/<kbd>C-S-a</kbd></td><td><kbd>C-S-A</kbd>             </td><td><kbd>C-S-a</kbd>         </td></tr>
  <tr><td><kbd>1</kbd>    </td><td><kbd>1</kbd>                     </td><td><kbd>1</kbd>                 </td><td><kbd>1</kbd>             </td></tr>
  <tr><td><kbd>S-1</kbd>  </td><td><kbd>!</kbd>                     </td><td><kbd>S-1</kbd>               </td><td><kbd>!</kbd>             </td></tr>
  <tr><td><kbd>C-1</kbd>  </td><td><kbd>C-1</kbd>                   </td><td><kbd>C-1</kbd><sup>*1</sup>  </td><td><kbd>C-1</kbd>           </td></tr>
  <tr><td><kbd>C-S-1</kbd></td><td><kbd>C-S-!</kbd>                 </td><td><kbd>C-S-1</kbd><sup>*1</sup></td><td><kbd>C-!</kbd>           </td></tr>
  </table>
  <ul>
  <li>*1 = RLogin [オプション]-[キーコード] の下部にあるチェックボックスにチェックを入れる必要がある。</li>
  </ul>
</li>
</ul>

<h3>マウス追跡 (Mouse Tracking)</h3>
<ul>
<li>Mode ?9 <dfn class="cmode">XTERM_X10_MOUSE</dfn>: Send Mouse X &amp; Y [xterm, 既定値 RM]</li>
<li>Mode ?1000 <dfn class="cmode">XTERM_VT200_MOUSE</dfn>: Send Mouse X &amp; Y [xterm, 既定値 RM]</li>
<li>Mode ?1001 <dfn class="cmode">XTERM_VT200_HIGHLIGHT_MOUSE</dfn>: Use Hilite Mouse Tracking [xterm, 既定値 RM]</li>
<li>Mode ?1002 <dfn class="cmode">XTERM_BTN_EVENT_MOUSE</dfn>: Use Cell Motion Mouse Tracking [xterm, 既定値 RM]</li>
<li>Mode ?1003 <dfn class="cmode">XTERM_ANY_EVENT_MOUSE</dfn>: Use All Motion Mouse Tracking [xterm, 既定値 RM]
  <p>[xterm] これらはマウスイベントの通知を制御する。
    上記5つのモードは排他的であり、何れかを設定すると他の物は解除される。何れかの解除シーケンスを送ると全て解除される。
    それぞれどの範囲のマウスイベントまで通知するかで異なる。
    XTERM_X10_MOUSE はマウスボタンの押下が通知される。
    XTERM_VT200_MOUSE と XTERM_VT200_HIGHLIGHT_MOUSE はマウスボタンの押下・解放が通知される。
    XTERM_VT200_HIGHLIGHT_MOUSE の場合にはマウスボタンを押している間は選択範囲がハイライトされ、
    ボタンが解放された時には他のモードとは異なるシーケンス (選択イベント) を通知する。
    XTERM_BTN_EVENT_MOUSE はマウスボタンを押下している間のマウス移動も通知する。
    XTERM_ANY_EVENT_MOUSE は更にマウスボタンが離れている時の移動も通知する。
    マウスイベントは以下のシーケンスを用いて送信される。
    全て解除されているとマウスイベントは通知されない。
  </p>
  <table class="normal center contra-cell-centered">
  <caption>表: 通知されるイベントの種類</caption>
  <tr><th>モード</th><th>押下</th><th>解放</th><th>選択</th><th>ドラッグ</th><th>移動</th></tr>
  <tr><th>XTERM_X10_MOUSE</th>            <td>★</td><td>  </td><td>  </td><td>  </td><td>  </td></tr>
  <tr><th>XTERM_VT200_MOUSE</th>          <td>★</td><td>★</td><td>  </td><td>  </td><td>  </td></tr>
  <tr><th>XTERM_VT200_HIGHLIGHT_MOUSE</th><td>★</td><td>  </td><td>★</td><td>  </td><td>  </td></tr>
  <tr><th>XTERM_BTN_EVENT_MOUSE</th>      <td>★</td><td>★</td><td>  </td><td>★</td><td>  </td></tr>
  <tr><th>XTERM_ANY_EVENT_MOUSE</th>      <td>★</td><td>★</td><td>  </td><td>★</td><td>★</td></tr>
  </table>
</li>
<li>Mode ?1005 <dfn class="cmode">XTERM_EXT_MODE_MOUSE</dfn>: Enable Extended Mouse Mode [xterm, 既定値 RM]</li>
<li>Mode ?1006 <dfn class="cmode">XTERM_SGR_EXT_MODE_MOUSE</dfn>: [xterm, 既定値 RM]</li>
<li>Mode ?1015 <dfn class="cmode">URXVT_EXT_MODE_MOUSE</dfn>: [urxvt, 既定値 RM]
  <p>[xterm] これらのモードはマウスイベントの通知に使われるシーケンスの形式を変更するのに使う。
    上記3つのモードはは排他的であり、
    何れかを設定すると他は解除されるし、何れかを解除しようとすると全て解除される。
    XTERM_EXT_MODE_MOUSE は utf-8 形式を指定する。
    URXVT_EXT_MODE_MOUSE は urxvt 形式を指定する。
    XTERM_SGR_EXT_MODE_MOUSE は SGR 形式を指定する。
    それぞれの形式に対して以下のようなシーケンスで (選択以外の) マウスイベントが通知される。
    XtermX10MouseR は何れも設定されていない時に使われる既定のシーケンスである。
  </p>
  <table class="normal center">
  <tr><th>略号</th>                        <th>形式</th> <th>Sequence</th></tr>
  <tr><th>XtermX10MouseR</th>              <td>既定</td> <td><kbd>CSI M <i>C</i> <i>C</i> <i>C</i></kbd></td></tr>
  <tr><th>XtermExtModeMouseR</th>          <td>utf-8</td><td><kbd>CSI M <i>C8</i> <i>C8</i> <i>C8</i></kbd></td></tr>
  <tr><th>UrxvtExtModeMouseR</th>          <td>urxvt</td><td><kbd>CSI <i>Ps</i> ; <i>Pn</i> ; <i>Pn</i> M</kbd></td></tr>
  <tr><th>XtermSgrExtModeMouseR</th>       <td>SGR</td>  <td><kbd>CSI &lt; <i>Ps</i> ; <i>Pn</i> ; <i>Pn</i> M</kbd></td></tr>
  <tr><th>XtermSgrExtModeReleaseMouseR</th><td>SGR</td>  <td><kbd>CSI &lt; <i>Ps</i> ; <i>Pn</i> ; <i>Pn</i> m</kbd></td></tr>
  </table>
  <p>解放イベントを通知する時、
    XTERM_SGR_EXT_MODE_MOUSE が設定されている場合は XtermSgrExtModeReleaseMouseR が使われ、
    第一引数には離されたボタンに対応する値が使用される。
    それ以外の設定の時はイベントは第一引数を 3 として通知される
    (どのマウスボタンが離されたかを検知する手立てはない)。
  </p>
  <ul>
  <li>一つ目の引数 <var>B</var> はイベントの対象となるマウスボタン及び修飾を示す。
    マウスボタンを示す整数に、修飾を表す整数を加算した物が引数の値になる。
    <table class="normal center">
    <caption>表: マウスボタン</caption>
    <tr><th>名称</th>   <th>数値</th><th>動作</th></tr>
    <tr><th>MB1</th>    <td>0</td> <td>左ボタン (button 1) が押下された時に発生</td></tr>
    <tr><th>MB2</th>    <td>1</td> <td>中ボタン (button 2) が押下された時に発生</td></tr>
    <tr><th>MB3</th>    <td>2</td> <td>右ボタン (button 3) が押下された時に発生</td></tr>
    <tr><th>Release</th><td>3</td> <td>マウスボタンが離れた時・マウスボタンが離れている時のマウス移動で使用</td></tr>
    <tr><th>MB4</th>    <td>64</td><td>マウスホイールが上に回転した時に発生</td></tr>
    <tr><th>MB5</th>    <td>65</td><td>マウスホイールが下に回転した時に発生</td></tr>
    </table>
    <table class="normal center">
    <caption>表: 修飾</caption>
    <tr><th>名称</th>   <th>数値</th><th>修飾キー・説明</th></tr>
    <tr><th>Shift</th>  <td>4</td> <td>Shift</td></tr>
    <tr><th>Meta</th>   <td>8</td> <td>Meta</td></tr>
    <tr><th>Control</th><td>16</td><td>Control</td></tr>
    <tr><th>Motion</th><td>32</td><td>マウス移動</td></tr>
    </table>
  </li>
  <li>2つ目の引数 <var>X</var> はマウスポインタの横位置を表す列番号である。端末の最も左の列が 1 に対応する。</li>
  <li>3つ目の引数 <var>Y</var> はマウスポインタの縦位置を表す行番号である。端末の一番上の行が 1 に対応する。</li>
  <li><i class="kbd">C</i> は引数の整数値に 0x20 を加算した値をバイト値とする文字である。引数の値は最大 223 (= 0xFF-0x20) に制限される。</li>
  <li><i class="kbd">C8</i> は引数の整数値に 0x20 を加算した値を文字コードと見て UTF-8 形式で符号化したバイト列である。</li>
  <li><i class="kbd">Ps</i> は引数の整数値を整数リテラルで表現した /[0-9]+/ の形式の文字列である。</li>
  </ul>
  <p>XTERM_VT200_HIGHLIGHT_MOUSE が設定されている時、
    マウスボタンを離した時に解放イベントの代わりに選択イベントが発生する。
    選択イベントは形式に応じて以下のシーケンスを用いて通知される。
    第1引数・第2引数はマウスボタンを離した位置 (選択の終点) を表す (その他の通知の第2引数・第3引数に対応する)。
  </p>
  <table class="normal center">
  <tr><th>略号</th>                          <th>形式</th> <th>符号化表現</th></tr>
  <tr><th>XtermX10HighlightMouseR</th>       <td>既定</td> <td><kbd>CSI t <i>C</i> <i>C</i></kbd></td></tr>
  <tr><th>XtermExtModeHighlightMouseR</th>   <td>utf-8</td><td><kbd>CSI t <i>C8</i> <i>C8</i></kbd></td></tr>
  <tr><th>UrxvtExtModeHighlightMouseR</th>   <td>urxvt</td><td><kbd>CSI <i>Pn</i> ; <i>Pn</i> t</kbd></td></tr>
  <tr><th>XtermSgrExtModeHighlightMouseR</th><td>SGR</td>  <td><kbd>CSI &lt; <i>Pn</i> ; <i>Pn</i> t</kbd></td></tr>
  </table>
  <ul>
  <li>互換性: xterm, rxvt, mintty, RLogin, rosaterm</li>
  <li>rosaterm ではそれぞれのモードを独立に on/off できるように実装してしまった。
    複数のモードが設定されている時、XTERM_SGR_EXT_MODE_MOUSE, URXVT_EXT_MODE_MOUSE, XTERM_EXT_MODE_MOUSE の順に優先される。
    より優先順位の高い形式が off になっている時に限り、その形式が実際に働く。
    また、XTERM_SGR_EXT_MODE_MOUSE が設定されている時、マウスボタンが離された事を示すシーケンス (<var>B</var> = 3 | 修飾) の送信は省略される。
  </li>
  <li>xterm, mintty では左クリック・中クリック・右クリックが MB1, MB2, MB3 に対応する。
    RLogin では左クリック・右クリックが MB1, MB2 に対応する。
  </li>
  <li>References
    <ul>
    <li><a href="http://qiita.com/items/4de35de8f0abe4f35392">SGR(1006)形式の拡張マウストラッキングについて #224桁問題 #Terminal #端末エミュレーション - Qiita [キータ]</a></li>
    </ul>
  </li>
  </ul>
</li>
<li>Mode ?1004 <dfn class="cmode">XTERM_FOCUS_EVENT_MOUSE</dfn>: Send FocusIn/FocusOut Events [xterm]
  <p>xterm の振る舞いを見るとフォーカスを得ると <kbd>CSI O CSI I</kbd> を送る。フォーカスを失うと <kbd>CSI O</kbd> を送る。
    1000,1002,1003 とは独立の設定である。修飾キーによる修飾は行われない様である。
  </p>
  <p>互換性: xterm</p>
</li>
</ul>

<!--************************************************************************-->
<h2>古い物: ISO/IEC 2022 関連</h2>

<h3><dfn class="cfunc">ACS</dfn>: ANNOUNCE CODE STRUCTURE</h3>
<table class="normal center">
<tr><th>略号</th><th>Sequence</th><th>C/R</th></tr>
<tr><th>ACS</th>
  <td><kbd>ESC SP <i>Ft</i></kbd></td>
  <td>1/11 2/0 <i class="kbd">Ft</i></td>
  </tr>
</table>

<p>ESC SP <i class="kbd">Ft</i> の形式のシーケンスは ACS と呼ばれる。
通信の初めに、文字コードで有効な G0 G1 G2 G3 から GL GR へのシフトの構造を伝達する為の符号である。
<i class="kbd">Ft</i> に指定する文字で構造を指定する。
</p>

<table class="normal center contra-cell-center">
<tr><th>番号</th><th>符号化表現</th><th>機能(7bit)</th><th>機能(8bit)</th></tr>
<tr><td> 1</td><td><kbd>ESC SP A</kbd></td><td colspan="2">(GL=G0 固定)</td></tr>
<tr><td> 2</td><td><kbd>ESC SP B</kbd></td><td>SI,SO</td><td>LS0,LS1R</td></tr>
<tr><td> 3</td><td><kbd>ESC SP C</kbd></td><td>使用不可</td><td rowspan="2">(GL=G0, GR=G1 固定)</td></tr>
<tr><td> 4</td><td><kbd>ESC SP D</kbd></td><td>SI,SO</td></tr>
<tr><td> 5</td><td><kbd>ESC SP E</kbd></td><td colspan="2">ECMA-35/11 にある 7/8bit 変換完全対応?</td></tr>
<tr><td> 6</td><td><kbd>ESC SP F</kbd></td><td rowspan="2">C1 を <kbd>ESC <i>Fe</i></kbd> で符号化</td><td colspan="2">S7C1T: C1 を <kbd>ESC <i>Fe</i></kbd> で符号化</td></tr>
<tr><td> 7</td><td><kbd>ESC SP G</kbd></td><td colspan="2">S8C1T: C1 を <kbd><i>CR</i></kbd> で符号化</td></tr>
<tr><td> 8</td><td><kbd>ESC SP H</kbd></td><td colspan="2">94文字集合のみ使用可能</td></tr>
<tr><td> 9</td><td><kbd>ESC SP I</kbd></td><td colspan="2">94/96文字集合の何れも使用可能</td></tr>
<tr><td>10</td><td><kbd>ESC SP J</kbd></td><td colspan="2">(8bitでも)7bit符号を使用</td></tr>
<tr><td>11</td><td><kbd>ESC SP K</kbd></td><td>使用不可</td><td colspan="2">8bit符号を使用</td></tr>
<tr><td>12</td><td><kbd>ESC SP L</kbd></td><td colspan="2">ANSI conformance Lv1 (dpANS X3.134.1), ECMA-43 Lv1</td></tr>
<tr><td>13</td><td><kbd>ESC SP M</kbd></td><td colspan="2">ANSI conformance Lv2 (dpANS X3.134.1), ECMA-43 Lv2</td></tr>
<tr><td>14</td><td><kbd>ESC SP N</kbd></td><td colspan="2">ANSI conformance Lv3 (dpANS X3.134.1), ECMA-43 Lv3</td></tr>
<tr><td>15</td><td><kbd>ESC SP O</kbd></td><td colspan="2">(予約)</td></tr>
<tr><td>16</td><td><kbd>ESC SP P</kbd></td><td>SI</td><td>LS0</td></tr>
<tr><td>17</td><td><kbd>ESC SP Q</kbd></td><td colspan="2">(予約)</td></tr>
<tr><td>18</td><td><kbd>ESC SP R</kbd></td><td rowspan="2">SO</td><td>LS1</td></tr>
<tr><td>19</td><td><kbd>ESC SP S</kbd></td><td>LS1R</td></tr>
<tr><td>20</td><td><kbd>ESC SP T</kbd></td><td rowspan="2">LS2</td><td>LS2</td></tr>
<tr><td>21</td><td><kbd>ESC SP U</kbd></td><td>LS2R</td></tr>
<tr><td>22</td><td><kbd>ESC SP V</kbd></td><td rowspan="2">LS3</td><td>LS3</td></tr>
<tr><td>23</td><td><kbd>ESC SP W</kbd></td><td>LS3R</td></tr>
<tr><td>24</td><td><kbd>ESC SP X</kbd></td><td colspan="2">(予約)</td></tr>
<tr><td>25</td><td><kbd>ESC SP Y</kbd></td><td colspan="2">(予約)</td></tr>
<tr><td>26</td><td><kbd>ESC SP Z</kbd></td><td colspan="2">SS2 (GL)</td></tr>
<tr><td>27</td><td><kbd>ESC SP [</kbd></td><td colspan="2">SS3 (GL)</td></tr>
<tr><td>28</td><td><kbd>ESC SP \</kbd></td><td>-</td><td>SS2,SS3(GR)</td></tr>
<tr><td>29-63</td><td>...</td><td colspan="2">(予約)</td></tr>
</table>

<ul>
<li>対応: xterm = F, G, L, M, N; VT510 = F, G, L, M, N</li>
<li><a href="http://www.vt100.net/docs/vt510-rm/ANSI">VT510: ANSI Conformance Level</a></li>
<li><a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-035.pdf">ECMA-35</a></li>
</ul>

<!--===================================================================================-->
<h2>古い物: エスケープシーケンス表</h2>
<table class="normal center">
<tr><th>シーケンス</th><th>説明</th><th>対応</th></tr>
<tr><td><code>\e*</code></td><td>全て消去</td><td>O</td></tr>
</table>
<!--
m.コンソール入力, ESC[6n

e.面クリ, ESC*
f.面クリ, CLS 　このコマンドはバッチファイルのみに利用できる。
-->

<table class="normal center">
<tr><th>Control</th><th>ESC Sequence</th><th>環境</th><th>略号</th><th>説明</th></tr>
<tr><td>\x8E</td><td><code>\eN</code></td><td></td><td>SS2</td><td>Single Shift 2: 後述</td></tr>
<tr><td>\x8F</td><td><code>\eO</code></td><td></td><td>SS3</td><td>Single Shift 3: 後述</td></tr>
</table>

<!--===================================================================================-->
<h2 id="section.reference">文献 (reference)</h2>
<h3>標準規格 (standards)</h3>
<ul>
<li><b>ANSI X3.4</b>
  [<a href="https://en.wikipedia.org/wiki/ASCII">ASCII - Wikipedia</a> <a href="https://ja.wikipedia.org/wiki/ASCII">日本語</a>]
  <p>いわゆる <b>ASCII</b> である。
  7-bit 符号は ISO/IEC 646 として、
  8-bit 符号は ISO/IEC 8859 として発展している。
  JIS X 0201 は日本語で用いられる 8 bit 符号である。
  以下の表は Wikipedia から。</p>
  <ul>
  <li>ASA X3.4-1963</li>
  <li>ASA X3.4-1965 (approved, but not published)</li>
  <li>USAS X3.4-1967</li>
  <li>USAS X3.4-1968</li>
  <li>ANSI X3.4-1977</li>
  <li>ANSI X3.4-1986</li>
  <li>ANSI X3.4-1986 (R1992)</li>
  <li>ANSI X3.4-1986 (R1997)</li>
  <li>ANSI INCITS 4-1986 (R2002)</li>
  <li>ANSI INCITS 4-1986 (R2007)</li>
  <li>ANSI INCITS 4-1986 (R2012)</li>
  </ul>
</li>
<li><b>ECMA-6</b>, <b>ISO/IEC 646</b>
  [<a href="https://en.wikipedia.org/wiki/ISO/IEC_646">ISO/IEC 646 - Wikipedia</a> <a href="https://ja.wikipedia.org/wiki/ISO/IEC_646">日本語</a>]
  <p>ASCII 7-bit 符号。</p>
  <ul>
  <li>ISO/R646-1967</li>
  <li>ISO 646:1972</li>
  <li>ISO 646:1983</li>
  <li><b>ISO/IEC 646:1991</b></li>
  <li>ECMA-6 1st edition (1965-04-30)</li>
  <li>ECMA-6 2nd edition (1967-06)</li>
  <li>ECMA-6 3rd edition (1970-07)</li>
  <li>ECMA-6 4th edition (1973-08)</li>
  <li>ECMA-6 5th edition (1984-12, 1985-03)</li>
  <li><b>ECMA-6 6th edition</b> (1991-12, 1997-08)</li>
  </ul>
</li>
<li><b>ISO/IEC 8859</b> [<a href="https://en.wikipedia.org/wiki/ISO/IEC_8859">ISO/IEC 8859 - Wikipedia</a> <a href="https://ja.wikipedia.org/wiki/ISO/IEC_8859">日本語]</a>
</li>
<li><b>ECMA-48</b>, <b>ISO/IEC 6429</b>, <b>JIS X 0211</b>
  [<a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape code - Wikipedia</a>]
  <p>いわゆる <b>ANSI</b> と呼ばれる規格は初め ECMA-48 として出発した。
  これは ECMA-6 (ISO/IEC 646, ASCII) の拡張として定義された。
  その後で ANSI 規格として採用された。
  これを実装する端末を ANSI terminals などと呼ぶ。
  </p>
  <ul>
  <li>ECMA-48 1st edition (1976, 1979 廃止)</li>
  <li>ANSI X3.64 (1979, 1994 廃止)</li>
  <li>ECMA-48 2nd edition (1979, 1984 廃止): <a href="http://www.ecma-international.org/publications/standards/Ecma-048-arch.htm">Standard ECMA-48-archive</a></li>
  <li>FIPS PUB 86 (1981, 廃止)</li>
  <li>ISO 6429:1983 (1983, 1988 廃止)</li>
  <li>ECMA-48 3rd edition (1984, 1986 廃止): <a href="http://www.ecma-international.org/publications/standards/Ecma-048-arch.htm">Standard ECMA-48-archive</a></li>
  <li>ECMA-48 4th edition (1986, 1991 廃止): <a href="http://www.ecma-international.org/publications/standards/Ecma-048-arch.htm">Standard ECMA-48-archive</a></li>
  <li>JIS X 0211:1986 (1986, 1991 廃止)</li>
  <li>ISO 6429:1988 (1988, 1992 廃止)</li>
  <li><b>ECMA-48 5th edition</b> (1991): <a href="http://www.ecma-international.org/publications/standards/Ecma-048.htm">Standard ECMA-48</a></li>
  <li>JIS X 0211:1991 (1991, 1994 廃止)</li>
  <li><b>ISO/IEC 6429:1992</b> (1992)</li>
  <li><b>JIS X 0211:1994</b> (1994): <a href="http://kikakurui.com/x0/X0211-1994-01.html">JIS X 0211:1994 符号化文字集合用制御機能</a></li>
  </ul>
</li>
<li><b>T.416</b>: ISO 8613-6, CCITT Recommendation T.416, JIS X 4106 (和訳、2010年廃止)</li>
<li><b>T.61</b>: CCITT Recommendation T.61</li>
<li>References
  <ul>
  <li><a href="http://en.wikipedia.org/wiki/Control_code">Control character - Wikipedia, the free encyclopedia</a></li>
  <li><a href="http://en.wikipedia.org/wiki/C0_and_C1_control_codes">C0 and C1 control codes - Wikipedia, the free encyclopedia</a></li>
  <li><a href="http://ja.wikipedia.org/wiki/%E5%88%B6%E5%BE%A1%E6%96%87%E5%AD%97">制御文字 - Wikipedia</a></li>
  <li></li>
  <li><a href="http://www.wdic.org/w/WDIC/ISO/IEC%202022">ISO/IEC 2022 ‐ 通信用語の基礎知識</a></li>
  <li><a href="http://ja.wikipedia.org/wiki/ISO/IEC_2022">ISO/IEC 2022 - Wikipedia</a></li>
  <li><a href="http://en.wikipedia.org/wiki/ISO/IEC_2022">ISO/IEC 2022 - Wikipedia, the free encyclopedia</a></li>
  <li><a href="http://isoreg.com/">::: ISO REG Quality Registrars Inc. :::: - HOME</a></li>
  <li><a href="http://www.itscj.ipsj.or.jp/ISO-IR/">International Register of Coded Character Sets</a></li>
  <li></li>
  </ul>
</li>
</ul>

<h3>端末の実装 (terminals)</h3>
<ul>
<li>xterm
  <a href="http://invisible-island.net/xterm/ctlseqs/ctlseqs.html">ctlseqs(ms)</a>
  <a href="http://invisible-island.net/xterm/ctlseqs/ctlseqs.pdf">pdf</a>
  <del><a href="http://www.xfree86.org/current/ctlseqs.html">Xterm Control Sequences</a></del>
</li>
<li>VT
  <ul>
  <li><a href="http://www.vt100.net/docs/vt100-ug/chapter3.html">VT100.net: Digital VT100 User Guide</a></li>
  <li><a href="http://vt100.net/docs/vt510-rm/contents">VT510 Video Terminal Programmer Information</a></li>
  <li>
    <a href="http://www.ccs.neu.edu/research/gpc/VonaUtils/vona/terminal/VT100_Escape_Codes.html">VT100 escape codes</a>
    [<a href="http://www.mit.edu/~vona/VonaUtils/vona/terminal/VT100_Escape_Codes.html">old2</a>
    <a href="http://www.mit.edu/~vona/MSim/vona/terminal/VT100_Escape_Codes.html">old1</a>
    <a href="http://web.archive.org/web/20100206175957/http://www.mit.edu/~vona/VonaUtils/vona/terminal/VT100_Escape_Codes.html">archive:20100206</a>
    <a href="http://web.archive.org/web/20081018174018/http://www.mit.edu/~vona/MSim/vona/terminal/VT100_Escape_Codes.html">archive:20081018</a>
    <a href="http://hackipedia.org/Protocols/Terminal,%20DEC%20VT100/html/VT100%20Escape%20Codes.html">mirror2</a>]
    <p>[2011/11/07] ページを書いていた <a href="http://www.ccs.neu.edu/research/gpc/vona.html">Marsette Vona さん</a>が異動したみたい。
      20111016 に移動先でページが作られたみたいだからそちらへリンク。
    </p>
  </li>
  <li><a href="http://www.termsys.demon.co.uk/vtansi.htm">ANSI/VT100 Terminal Control</a></li>
  <li><a href="http://ascii-table.com/ansi-escape-sequences-vt-100.php">ASCII Table &#45; ANSI Escape sequences &#40;ANSI Escape codes&#41; &#45; VT100 / VT52</a></li>
  <li><a href="http://ascii-table.com/ansi-escape-sequences.php">ASCII Table &#45; ANSI Escape sequences</a></li>
  </ul>
</li>
<li><a href="http://bjh21.me.uk/all-escapes/all-escapes.txt">all-escapes.txt</a></li>
<li>rxvt <a href="http://doc.gnu-darwin.org/rxvt/rxvtRef.html">Rxvt Technical Reference</a> [<a href="http://www.usf.uos.de/infoservice/doc/localhtml/rxvt/refer.html">old</a>]</li>
<li>urxvt <a href="http://manpages.ubuntu.com/manpages/lucid/man7/urxvt.7.html">Ubuntu Manpage: RXVT REFERENCE - FAQ, command sequences and other background</a></li>
<li>ttssh2 <a href="http://ttssh2.sourceforge.jp/manual/ja/about/ctrlseq.html">対応制御シーケンス - Tera Term</a></li>
<li>ANSI.SYS
  <ul>
  <li><a href="http://en.wikipedia.org/wiki/ANSI.SYS">ANSI.SYS - Wikipedia, the free encyclopedia</a></li>
  <li><a href="http://fpcu.on.coocan.jp/dosvcmd/ansi.htm">ANSI.SYS - キーボードと画面の拡張制御のサポート [FPCU]DOS/V&amp;Windowsコマンド・プロンプト・リファレンス</a></li>
  </ul>
</li>
<li>RLogin
  <ul>
  <li><a href="http://nanno.dip.jp/softlib/man/rlogin/">rlogin/telnet/ssh(クライアント)ターミナルソフト</a></li>
  <li><a href="http://nanno.dip.jp/softlib/man/rlogin/ctrlcode.html">エスケープシーケンス一覧</a></li>
  </ul>
</li>
<li>MS-DOS
  <ul>
  <li><a href="http://hp.vector.co.jp/authors/VA016670/escape_code.html">エスケープシーケンスについて</a></li>
  </ul>
</li>
<li>OpenVMS <a href="http://h50146.www5.hp.com/products/software/oe/openvms/manual/v84/html/DCPS27/TRANS/docu_009.html">日本HP - OpenVMS マニュアル - 日本語トランスレータ・リファレンス・マニュアル</a></li>
<li><a href="http://odl.sysworks.biz/disk$cddoc04jan11/decw$book/aa-pbwga-12_a02.decw$book">Digital ANSI-Compliant Printing Protocol Level 3 Programming Reference Manual</a></li>
<li><a href=""></a></li>
</ul>

<h3>termcap/terminfo</h3>

<p>色々な端末の差異を吸収する為に作られたデータベース・ライブラリ。ncurses もこれを利用する。</p>
<ul>
<li><a href="http://linuxpakistan.net/man.php?query=terminfo&amp;type=2&amp;section=5">terminfo man page</a></li>
<li><a href="http://h50146.www5.hp.com/products/software/oe/tru64unix/manual/v51a_ref/HTML/MAN/MAN4/0087____.HTM">terminfo(4)</a> 日本語 man</li>
<li><a href="http://invisible-island.net/ncurses/man/terminfo.5.html">terminfo.5</a></li>
</ul>
<p>特定の TERM に対する terminfo のエスケープシーケンスの定義などは、</p>
<pre class="agh-prog-bash">infocmp cygwin</pre>
<p class="resume">等として見る事ができる。</p>

<!--===================================================================================-->
<h2>古: ISO/IEC 2022 文字集合制御</h2>
<!--...................................................................................-->
<table class="normal center">
<tr><td><code>\e!<i class="kbd">I</i> <i class="kbd">Ft</i></code></td><td>C0 への呼出</td></tr>
<tr><td><code>\e"<i class="kbd">I</i> <i class="kbd">Ft</i></code></td><td>C1 への呼出</td></tr><!--"-->
<tr><td><code>\e&amp;<i class="kbd">Ft</i></code></td><td>改訂番号識別</td></tr>
<tr><td><code>\17</code></td><td>G0 から GL へとシフト</td></tr>
<tr><td><code>\16</code></td><td>G1 から GL へとシフト</td></tr>
<tr><td><code>\en</code></td><td>G2 から GL へとシフト</td></tr>
<tr><td><code>\eo</code></td><td>G3 から GL へとシフト</td></tr>
<tr><td><code>\e~</code></td><td>G1 から GR へとシフト</td></tr>
<tr><td><code>\e}</code></td><td>G2 から GR へとシフト</td></tr>
<tr><td><code>\e|</code></td><td>G3 から GR へとシフト</td></tr>
<tr><td><code>\eN</code></td><td rowspan="2">G2 から GR に次の一文字だけシフト</td></tr>
<tr><td><code>\216</code></td></tr>
<tr><td><code>\eO</code></td><td rowspan="2">G3 から GR に次の一文字だけシフト</td></tr>
<tr><td><code>\217</code></td></tr>
</table>
<table class="normal center">
<tr><th>シーケンス</th><th>環境</th><th>文字集合</th></tr>
<tr><td><code>\e$B</code></td><td></td><td>KI 新JIS JIS X 0208-1983</td></tr>
<tr><td><code>\e$@</code></td><td></td><td>KI 旧JIS JIS X 0208-1978</td></tr>
<tr><td><code>\e$B</code></td><td></td><td>KI UJIS (EUC-JP, (JIS X 0208-1983)</td></tr>
<tr><td><code>\e$K</code></td><td></td><td>KI 区点</td></tr>
<tr><td><code>\e(J</code></td><td></td><td>KI JIS ローマ字 JIS X 0201</td></tr>
<tr><td><code>\e(B</code></td><td></td><td>KO ASCII</td></tr>
<tr><td><code>\e</code></td><td></td><td></td></tr>
</table>
<!--...................................................................................-->
<h3>94 文字集合</h3>
<h4>操作</h4>
<table class="normal center">
<tr><th>シーケンス</th><th>操作</th></tr>
<tr><td><code>\e(<strong>*</strong></code></td><td>G0 への読込</td></tr>
<tr><td><code>\e)<strong>*</strong></code></td><td>G1 への読込</td></tr>
<tr><td><code>\e*<strong>*</strong></code></td><td>G2 への読込</td></tr>
<tr><td><code>\e+<strong>*</strong></code></td><td>G3 への読込</td></tr>
</table>
<h4>文字集合一覧</h4>
<table class="normal center">
<tr><th><strong>*</strong></th><th>名称</th></tr>
<tr><td><code>@</code></td><td>IRV of ISO 646 : 1983</td></tr>
<tr><td><code>A</code></td><td>ISO 646, British Version BSI 4730</td></tr>
<tr><td><code>B</code></td><td>ISO 646, USA Version X3.4 - 1968</td></tr>
<tr><td><code>C</code></td><td>NATS, Primary Set for Finland and Sweden</td></tr>
<tr><td><code>D</code></td><td>NATS, Secondary Set for Finland and Sweden</td></tr>
<tr><td><code>E</code></td><td>NATS, Primary Set for Denmark and Norway</td></tr>
<tr><td><code>F</code></td><td>NATS, Secondary Set for Denmark and Norway</td></tr>
<tr><td><code>G</code></td><td>ISO 646, Swedish Version SEN 850200 (Ann. B)</td></tr>
<tr><td><code>H</code></td><td>ISO 646, Swedish Version for Names, (SEN 850200 Ann.C)</td></tr>
<tr><td><code>I</code></td><td>Katakana Character Set JIS C6220-1969</td></tr>
<tr><td><code>J</code></td><td>ISO 646, Japanese Version for Roman Characters JIS C6220-1969</td></tr>
<tr><td><code>Y</code></td><td>ISO 646, Version for Italian, ECMA (Olivetti)</td></tr>
<tr><td><code>L</code></td><td>ISO 646, Version for Portuguese, ECMA (Olivetti)</td></tr>
<tr><td><code>Z</code></td><td>ISO 646, Version for Spanish, ECMA (Olivetti)</td></tr>
<tr><td><code>[</code></td><td>Character Set for Greek, ECMA (Olivetti)</td></tr>
<tr><td><code>\\</code></td><td>Latin-Greek Character Set, ECMA (Olivetti)</td></tr>
<tr><td><code>K</code></td><td>ISO 646, German Version DIN 66083</td></tr>
<tr><td><code>R</code></td><td>ISO 646, French Version, NF Z 62010-1973 (Withdrawn in April 1985)</td></tr>
<tr><td><code>U</code></td><td>Latin-Greek Character Set, ECMA (Honeywell-Bull)</td></tr>
<tr><td><code>X</code></td><td>Greek Character Set for Bibliography, ISO 5428</td></tr>
<tr><td><code>N</code></td><td>Basic Cyrillic Character Set, ECMA (Cii Honeywell-Bull) and ISO 5427</td></tr>
<tr><td><code>O</code></td><td>Extended Graphic Character Set for Bibliography, DIN 31624</td></tr>
<tr><td><code>M</code></td><td>Character Set for African Languages, DIN 31625 and ISO 6438</td></tr>
<tr><td><code>V</code></td><td>Character Set for Viewdata and Teletext (UK)</td></tr>
<tr><td><code>W</code></td><td>INIS, Sub-set of the IRV</td></tr>
<tr><td><code>]</code></td><td>INIS, Non-standard Extension of Reg. 49</td></tr>
<tr><td><code>^</code></td><td>INIS, Cyrillic Extension of Reg. 49</td></tr>
<tr><td><code>P</code></td><td>Extended Graphic Character Set for Bibliography ISO 5426-1980</td></tr>
<tr><td><code>Q</code></td><td>Extension of the Cyrillic Character Set of Reg. 37, ISO 5427-1981</td></tr>
<tr><td><code>S</code></td><td>Greek Character Set for Bibliography, ISO 5428-1980</td></tr>
<tr><td><code>T</code></td><td>Coded Character Set for Information Interchange, Standard Chinese GB 1988-80</td></tr>
<tr><td><code>_</code></td><td>Arabic Character Set CODAR-U IERA (Morocco)</td></tr>
<tr><td><code>`</code></td><td>ISO 646, Norwegian Version NS 4551</td></tr>
<tr><td><code>a</code></td><td>Norwegian Character Set, Version 2, NS 4551 (Withdrawn in June 1987)</td></tr>
<tr><td><code>e</code></td><td>APL Character Set, Canadian APL Working Group</td></tr>
<tr><td><code>f</code></td><td>ISO 646, French Version NF Z 62010-1982</td></tr>
<tr><td><code>b</code></td><td>Supplementary Set for Videotex, CCITT</td></tr>
<tr><td><code>c</code></td><td>Second Supplementary Set for Videotex (Mosaic), CCITT</td></tr>
<tr><td><code>d</code></td><td>
  Third Supplementary Set for Videotex, (Mosaic), CCITT (superseded by Reg. 173)<br />
  Third supplementary set of Mosaic Characters/ Videotex and Facsimile
</td></tr>
<tr><td><code>g</code></td><td>ISO 646, Version for Portuguese, ECMA (IBM)</td></tr>
<tr><td><code>h</code></td><td>ISO 646, Version for the Spanish languages, ECMA (IBM)</td></tr>
<tr><td><code>i</code></td><td>ISO 646, Hungarian Version Hungarian standard 7795/3</td></tr>
<tr><td><code>j</code></td><td>Greek Character Set ELOT, Hellenic Organization for Standardization (Withdrawn in November 1986)</td></tr>
<tr><td><code>k</code></td><td>7-bit Arabic Code for Information Interchange, Arab standard ASMO-449, ISO 9036</td></tr>
<tr><td><code>l</code></td><td>Supplementary Set for Use with Registration No.2</td></tr>
<tr><td><code>m</code></td><td>Japanese OCR-A graphic set JIS C6229-1984</td></tr>
<tr><td><code>n</code></td><td>Japanese OCR-B Graphic Set JIS C6229-1984</td></tr>
<tr><td><code>o</code></td><td>Japanese OCR-B, Additional Graphic Set, JIS C6229-1984</td></tr>
<tr><td><code>p</code></td><td>Japanese Basic Hand-printed Graphic Set for OCR JIS C6229-1984</td></tr>
<tr><td><code>q</code></td><td>Japanese Additional Handprinted Graphic Character Set for OCR JIS C6229- 1984</td></tr>
<tr><td><code>r</code></td><td>Katakana hand-printed Graphic Character Set for OCR JIS C6229-1984</td></tr>
<tr><td><code>s</code></td><td>E13B Graphic Character Set Japanese National Committee for ISO/TC97/SC2</td></tr>
<tr><td><code>t</code></td><td>Supplementary Set of Graphic Characters for Videotex and Teletext ANSI and Teletext ANSI and CSA (Withdrawn in November 1986)</td></tr>
<tr><td><code>u</code></td><td>Teletex Primary Set of Graphic Characters CCITT Rec. T.61</td></tr>
<tr><td><code>v</code></td><td>Teletex Supplementary Set of Graphic characters CCITT Rec. T.61</td></tr>
<tr><td><code>w</code></td><td>Alternate Primary Graphic Set No. 1 CSA Standard Z 243.4-1985</td></tr>
<tr><td><code>x</code></td><td>Alternate Primary Graphic Set No.2 CSA Standard Z 243.4-1985</td></tr>
<tr><td><code>|</code></td><td>Supplementary Set of graphic Characters for CCITT Rec. T.101, Data Syntax III</td></tr>
<tr><td><code>y</code></td><td>Mosaic-1 Set of Data Syntax I of CCITT Rec. T.101</td></tr>
<tr><td><code>z</code></td><td>Serbocroatian and Slovenian Latin Alphabet</td></tr>
<tr><td><code>{</code></td><td>Serbocroatian Cyrillic Alphabet</td></tr>
<tr><td><code>}</code></td><td>Macedonian Cyrillic Alphabet</td></tr>
<tr><td><code>!@</code></td><td>Greek Primary Set of CCITT</td></tr>
<tr><td><code>!A</code></td><td>Character Set of Cuba</td></tr>
<tr><td><code>!B</code></td><td>Invariant characters (82) of ISO/IEC 646</td></tr>
<tr><td><code>!C</code></td><td>Variant of the ISO 7-bit coded character set for the Irish Gaelic language</td></tr>
<tr><td><code>!D</code></td><td>Turkmen Alphabet</td></tr>
<tr><td><code>!E</code></td><td>American National Standard Extended Latin Alphabet Coded Character Set for Bibliographic Use (ANSEL)</td></tr>
<tr><td><code>!F</code></td><td>Turkmen character set for 8-bit codes</td></tr>
</table>
<!--...................................................................................-->
<h3>96 文字集合</h3>
<h4>操作</h4>
<table class="normal center">
<tr><th>シーケンス</th><th>操作</th></tr>
<tr><td><code>\e-<strong>*</strong></code></td><td>G1 への読込</td></tr>
<tr><td><code>\e.<strong>*</strong></code></td><td>G2 への読込</td></tr>
<tr><td><code>\e/<strong>*</strong></code></td><td>G3 への読込</td></tr>
</table>
<h4>文字集合一覧</h4>
<table class="normal center">
<tr><th><strong>*</strong></th><th>名称</th></tr>
<tr><td><code>A</code></td><td>Right-hand Part of Latin Alphabet No.1 ISO 8859/1, ECMA-94</td></tr>
<tr><td><code>B</code></td><td>Right-hand Part of Latin Alphabet No.2 ISO 8859/2, ECMA-94</td></tr>
<tr><td><code>C</code></td><td>Right-hand Part of Latin Alphabet No.3 ISO DIS 8859/3, ECMA-94</td></tr>
<tr><td><code>D</code></td><td>Right-hand Part of Latin Alphabet No.4 ISO DIS 8859/4, ECMA-94</td></tr>
<tr><td><code>@</code></td><td>Right-hand Part of the Latin/Cyrillic Alphabet ECMA-113 (Version of June 1986)</td></tr>
<tr><td><code>E</code></td><td>General Purpose Supplementary Graphic Set CSA Standard Z 243.4-1985</td></tr>
<tr><td><code>F</code></td><td>Right-hand Part of the Latin/Greek Alphabet Standard ELOT 928, ECMA-118, ISO DIS 8859/7</td></tr>
<tr><td><code>G</code></td><td>Right-hand Part of the Latin/Arabic Alphabet ECMA-114, ISO 8859/6</td></tr>
<tr><td><code>}</code></td><td>Supplementary Set of Mosaic Characters for CCITT Rec. 101, Data Syntax III</td></tr>
<tr><td><code>H</code></td><td>Latin/Hebrew Alphabet Standard ECMA-121</td></tr>
<tr><td><code>I</code></td><td>Right-hand Part for Czechoslovak Standard CSN 369103</td></tr>
<tr><td><code>J</code></td><td>Supplementary Set of Latin Alphabetic and non-Alphabetic Graphic Characters</td></tr>
<tr><td><code>K</code></td><td>Technical Set</td></tr>
<tr><td><code>L</code></td><td>Cyrillic part of the Latin/Cyrillic Alphabet</td></tr>
<tr><td><code>M</code></td><td>Right-hand part of Latin Alphabet No.5</td></tr>
<tr><td><code>N</code></td><td>Residual Characters from ISO 6937-2 : 1983</td></tr>
<tr><td><code>O</code></td><td>Basic Cyrillic Character Set for 8-bit Codes</td></tr>
<tr><td><code>P</code></td><td>Supplementary set for Latin Alphabets No.1, No.2 and No.5</td></tr>
<tr><td><code>Q</code></td><td>Basic Box Drawings Set</td></tr>
<tr><td><code>R</code></td><td>Supplementary Set ISO/IEC 6937 : 1992</td></tr>
<tr><td><code>V</code></td><td>Supplementary Set for Latin Alphabet No. 6</td></tr>
<tr><td><code>X</code></td><td>Sami (Lappish) Supplementary Set</td></tr>
<tr><td><code>S</code></td><td>CCITT Hebrew Supplementary Set</td></tr>
<tr><td><code>T</code></td><td>Thai Set</td></tr>
<tr><td><code>U</code></td><td>Arabic/French/German Set</td></tr>
<tr><td><code>Y</code></td><td>Baltic Rim Supplementary Set</td></tr>
<tr><td><code>Z</code></td><td>Vietnamese Standard Code for Information Interchange</td></tr>
<tr><td><code>[</code></td><td>Technical Character Set No.1: IEC Publication 1289</td></tr>
<tr><td><code>\\</code></td><td>Welsh variant of Latin Alphabet No. 1</td></tr>
<tr><td><code>]</code></td><td>Sami supplementary Latin set</td></tr>
<tr><td><code>^</code></td><td>Latin/Hebrew Alphabet</td></tr>
<tr><td><code>_</code></td><td>Celtic Supplementary Latin Set</td></tr>
<tr><td><code>`</code></td><td>Uralic Supplementary Cyrllic Set</td></tr>
<tr><td><code>a</code></td><td>Volgaic Supplementary Cyrllic Set</td></tr>
<tr><td><code>b</code></td><td>European Supplementary Latin Set ("Latin 9")</td></tr>
<tr><td><code>c</code></td><td>Supplementary set for Latin-1 alternative with EURO SIGN</td></tr>
<tr><td><code>d</code></td><td>Supplementary set for Latin-4 alternative with EURO SIGN</td></tr>
<tr><td><code>e</code></td><td>Supplementary set for Latin-7 alternative with EURO SIGN</td></tr>
<tr><td><code>g</code></td><td>Ogham coded character set for information interchange</td></tr>
<tr><td><code>h</code></td><td>Sami supplementary Latin set no 2</td></tr>
<tr><td><code>f</code></td><td>Romanian Character Set for Information Interchange</td></tr>
<tr><td><code>i</code></td><td>Right-hand part of Latin/Greek alphabet</td></tr>
<tr><td><code>j</code></td><td>Latin/Hebrew character set for 8-bit codes</td></tr>
</table>
<!--...................................................................................-->
<h3>94<sup>n</sup> 文字集合</h3>
<h4>操作</h4>
<table class="normal center">
<tr><th>シーケンス</th><th>操作</th></tr>
<tr><td><code>\e$(<strong>*</strong></code></td><td>G0 への読込</td></tr>
<tr><td><code>\e$)<strong>*</strong></code></td><td>G1 への読込</td></tr>
<tr><td><code>\e$*<strong>*</strong></code></td><td>G2 への読込</td></tr>
<tr><td><code>\e$+<strong>*</strong></code></td><td>G3 への読込</td></tr>
</table>
<h4>文字集合一覧</h4>
<table class="normal center">
<tr><th><strong>*</strong></th><th>名称</th></tr>
<tr><td><code>@</code></td><td>
  Japanese Character Set JISC C 6226-1978
  ※ <code>\e$(@</code> の代わりに <code>\e$@</code> と記す。
</td></tr>
<tr><td><code>A</code></td><td>
  Chinese Character Set Chinese Standard GB 2312-80<br />
  ※ <code>\e$(A</code> の代わりに <code>\e$A</code> と記す。
</td></tr>
<tr><td><code>B</code></td><td>
  Japanese Character Set JIS C 6226-1983<br />
  Update Registration 87 Japanese Graphic Character Set for Information Interchange<br />
  ※ <code>\e$(B</code> の代わりに <code>\e$B</code> と記す。
</td></tr>
<tr><td><code>C</code></td><td>Korean Graphic Character Set, Korean Standard KSC 5601-1987</td></tr>
<tr><td><code>D</code></td><td>Supplementary Japanese Graphic Character Set for Information Interchange</td></tr>
<tr><td><code>E</code></td><td>CCITT Chinese Set</td></tr>
<tr><td><code>F</code></td><td>Blissymbol Graphic Character Set</td></tr>
<tr><td><code>G</code></td><td>Chinese Standard Interchange Code - Set 1, CNS 11643-1992</td></tr>
<tr><td><code>H</code></td><td>Chinese Standard Interchange Code - Set 2, CNS 11643-1992</td></tr>
<tr><td><code>I</code></td><td>Chinese Standard Interchange Code - Set 3, CNS 11643-1992</td></tr>
<tr><td><code>J</code></td><td>Chinese Standard Interchange Code - Set 4, CNS 11643-1992</td></tr>
<tr><td><code>K</code></td><td>Chinese Standard Interchange Code - Set 5, CNS 11643-1992</td></tr>
<tr><td><code>L</code></td><td>Chinese Standard Interchange Code - Set 6, CNS 11643-1992</td></tr>
<tr><td><code>M</code></td><td>Chinese Standard Interchange Code - Set 7, CNS 11643-1992</td></tr>
<tr><td><code>N</code></td><td>DPRK Standard Korean Graphic Character Set for Information Interchange</td></tr>
<tr><td><code>O</code></td><td>Japanese Graphic Character Set for Information Interchange --- Plane 1</td></tr>
<tr><td><code>P</code></td><td>Japanese Graphic Character Set for Information Interchange --- Plane 2</td></tr>
<tr><td><code>Q</code></td><td>Japanese Graphic Character Set for Information Interchange, Plane 1 (Update of ISO-IR 228)</td></tr>
</table>
<!--...................................................................................-->
<h3>96<sup>n</sup> 文字集合</h3>
<h4>操作</h4>
<table class="normal center">
<tr><th>シーケンス</th><th>操作</th></tr>
<tr><td><code>\e$-<strong>*</strong></code></td><td>G1 への読込</td></tr>
<tr><td><code>\e$.<strong>*</strong></code></td><td>G2 への読込</td></tr>
<tr><td><code>\e$/<strong>*</strong></code></td><td>G3 への読込</td></tr>
</table>
<!--...................................................................................-->
<h3>その他</h3>
<h4>操作</h4>
<table class="normal center">
<tr><th>シーケンス</th><th>操作</th></tr>
<tr><td><code>\e%<strong>*</strong></code></td><td>文字コードの切替</td></tr>
</table>
<h4>文字集合一覧</h4>
<table class="normal center">
<tr><th><strong>*</strong></th><th>名称</th></tr>
<tr><td><code>A </code></td><td>Syntax of the North American Videotex/Teletex Presentation Level Protocol (NAPLPS), CSA T 500-1983</td></tr>
<tr><td><code>/B</code></td><td>Virtual Terminal service Transparent Set</td></tr>
<tr><td><code>C </code></td><td>Data Syntax I of CCITT Rec.T.101</td></tr>
<tr><td><code>D </code></td><td>Data Syntax II of CCITT Rec. T.101</td></tr>
<tr><td><code>E </code></td><td>Photo-Videotex Data Syntax of CCITT Rec. T.101</td></tr>
<tr><td><code>F </code></td><td>Audio Data Syntax of CCITT Rec. T.101</td></tr>
<tr><td><code>/@</code></td><td>ISO/IEC 10646:1993, UCS-2, Level 1</td></tr>
<tr><td><code>/A</code></td><td>ISO/IEC 10646:1993, UCS-4, Level 1</td></tr>
<tr><td><code>/C</code></td><td>ISO/IEC 10646:1993, UCS-2, Level 2</td></tr>
<tr><td><code>/D</code></td><td>ISO/IEC 10646:1993, UCS-4, Level 2</td></tr>
<tr><td><code>/E</code></td><td>ISO/IEC 10646:1993, UCS-2, Level 3</td></tr>
<tr><td><code>/F</code></td><td>ISO/IEC 10646:1993, UCS-4, Level 3</td></tr>
<tr><td><code>B </code></td><td>UCS Transformation Format One (UTF-1)</td></tr>
<tr><td><code>H </code></td><td>Videotex Enhanced Man Machine Interface (VEMMI) Data Syntax of ITU-T Rec. T.107</td></tr>
<tr><td><code>/G</code></td><td>UTF-8 Level 1</td></tr>
<tr><td><code>/H</code></td><td>UTF-8 Level 2</td></tr>
<tr><td><code>/I</code></td><td>UTF-8 Level 3</td></tr>
<tr><td><code>/J</code></td><td>UTF-16 Level 1</td></tr>
<tr><td><code>/K</code></td><td>UTF-16 Level 2</td></tr>
<tr><td><code>/L</code></td><td>UTF-16 Level 3</td></tr>
<tr><td><code>G </code></td><td>UTF-8 without implementation level</td></tr>
<!--
-->
</table>
<!--...................................................................................-->
<h3>参考</h3>
<ul>
<li><a href="http://ja.wikipedia.org/wiki/ISO/IEC_2022#.E5.88.B6.E5.BE.A1.E6.A9.9F.E8.83.BD">ISO/IEC 2022 - Wikipedia</a></li>
<li><a href="http://kikaku.itscj.ipsj.or.jp/ISO-IR/">International Register of Coded Character Sets</a>
  <del><a href="http://www.itscj.ipsj.or.jp/ISO-IR/overview.htm">overview</a></del>
</li>
</ul>
<!--===================================================================================-->
<h2>古: キーシーケンス</h2>
<p>ターミナルからプログラムへ送られるデータ</p>
<!--.........................................................................-->
<h3>他の操作キー</h3>
<table class="normal center">
<tr><th>キー</th>         <th>普通</th>              <th>vt100</th>             <th>vt52?/rxvt</th>        <th>xterm</th></tr>
<tr><td>Home</td>         <td><code>\e[1~</code></td><td><code>\e[2~</code></td><td><code>\e[7~</code></td><td><code>\e[H</code></td></tr>
<tr><td>Insert</td>       <td><code>\e[2~</code></td><td><code>\e[1~</code></td><td><code>\e[2~</code></td><td><code>\e[2~</code></td></tr>
<tr><td>Delete</td>       <td><code>\e[3~</code></td><td><code>\e[4~</code></td><td><code>\e[3~</code></td><td><code>\e[3~</code></td></tr>
<tr><td>End</td>          <td><code>\e[4~</code></td><td><code>\e[5~</code></td><td><code>\e[8~</code></td><td><code>\e[F</code></td></tr>
<tr><td>PageUp/Prior</td> <td><code>\e[5~</code></td><td><code>\e[3~</code></td><td><code>\e[5~</code></td><td><code>\e[5~</code></td></tr>
<tr><td>PageDown/Next</td><td><code>\e[6~</code></td><td><code>\e[6~</code></td><td><code>\e[6~</code></td><td><code>\e[6~</code></td></tr>
<tr><td>Find</td>         <td></td>                  <td></td>                  <td><code>\e[1~</code></td><td></td></tr>
<tr><td>Select</td>       <td></td>                  <td></td>                  <td><code>\e[4~</code></td><td><code>\e[4</code></td></tr>
<tr><td>Execute</td>      <td></td>                  <td></td>                  <td><code>\e[3~</code></td><td></td></tr>
</table>
<p>Function Key 修飾可能。</p>
<!--.........................................................................-->
<h3>テンキー (Keypad)</h3>
<p>テンキーのキー入力は、モードによって送信されるシーケンスが異なる。</p>
<ul>
<li>DECPNM が設定されている時: Normal</li>
<li>DECPAM が設定されている時: Application</li>
</ul>
<table class="normal center">
<tr><th>キー</th><th>Normal</th><th>App (PC)</th><th>App (VT220/rxvt)</th><th>App (VT52)</th></tr>
<tr><td>KP Space</td>  <td><code><em>&nbsp;</em></code></td><td><code><em>\eO&nbsp;</em></code></td><td><code><em>\eO&nbsp;</em></code></td><td><code><em>\e?&nbsp;</em></code></td></tr>
<tr><td>KP Tab</td>    <td><code>\t</code></td>   <td><code>\eOI</code></td>  <td><code>\eOI</code></td>  <td><code>\e?I</code></td> </tr>
<tr><td>KP Enter</td>  <td><code>\r</code></td>   <td><code>\eOM</code></td>  <td><code>\eOM</code></td>  <td><code>\e?M</code></td> </tr>
<tr><td>KP *</td>      <td><code>*</code></td>    <td><code>\eOj</code></td>  <td><code>\eOj</code></td>  <td><code>\e?j</code></td> </tr>
<tr><td>KP +</td>      <td><code>+</code></td>    <td><code>\eOk</code></td>  <td><code>\eOk</code></td>  <td><code>\e?k</code></td> </tr>
<tr><td>KP ,</td>      <td><code>,</code></td>    <td><code>\eOl</code></td>  <td><code>\eOl</code></td>  <td><code>\e?l</code></td> </tr>
<tr><td>KP -</td>      <td><code>-</code></td>    <td><code>\eOm</code></td>  <td><code>\eOm</code></td>  <td><code>\e?m</code></td> </tr>
<tr><td>KP ./Del</td>  <td><code>.</code></td>    <td><code>\e[3~</code></td> <td><code>\eOn</code></td>  <td><code>\e?n</code></td> </tr>
<tr><td>KP /</td>      <td><code>/</code></td>    <td><code>\eOo</code></td>  <td><code>\eOo</code></td>  <td><code>\e?o</code></td> </tr>
<tr><td>KP 0/Ins</td>  <td><code>0</code></td>    <td><code>\e[2~</code></td> <td><code>\eOp</code></td>  <td><code>\e?p</code></td> </tr>
<tr><td>KP 1/End</td>  <td><code>1</code></td>    <td><code>\eOF</code></td>  <td><code>\eOq</code></td>  <td><code>\e?q</code></td> </tr>
<tr><td>KP 2/Down</td> <td><code>2</code></td>    <td><code>\e[B</code></td>  <td><code>\eOr</code></td>  <td><code>\e?r</code></td> </tr>
<tr><td>KP 3/PgDn</td> <td><code>3</code></td>    <td><code>\e[6~</code></td> <td><code>\eOs</code></td>  <td><code>\e?s</code></td> </tr>
<tr><td>KP 4/Left</td> <td><code>4</code></td>    <td><code>\e[D</code></td>  <td><code>\eOt</code></td>  <td><code>\e?t</code></td> </tr>
<tr><td>KP 5/Begin</td><td><code>5</code></td>    <td><code>\e[E</code></td>  <td><code>\eOu</code></td>  <td><code>\e?u</code></td> </tr>
<tr><td>KP 6/Right</td><td><code>6</code></td>    <td><code>\e[C</code></td>  <td><code>\eOv</code></td>  <td><code>\e?v</code></td> </tr>
<tr><td>KP 7/Home</td> <td><code>7</code></td>    <td><code>\eOH</code></td>  <td><code>\eOw</code></td>  <td><code>\e?w</code></td> </tr>
<tr><td>KP 8/Up</td>   <td><code>8</code></td>    <td><code>\e[A</code></td>  <td><code>\eOx</code></td>  <td><code>\e?x</code></td> </tr>
<tr><td>KP 9/PgUp</td> <td><code>9</code></td>    <td><code>\e[5~</code></td> <td><code>\eOy</code></td>  <td><code>\e?y</code></td> </tr>
<tr><td>KP =</td>      <td><code>=</code></td>    <td><code>\eOX</code></td>  <td><code>\eOX</code></td>  <td><code>\e?X</code></td> </tr>
</table>
<p>但し、テンキーの Function キーは Normal/Application で共通である。(然し、環境によって異なる)</p>
<table class="normal center">
<tr><th>キー</th><th>PC/VT220/rxvt</th><th>VT52</th></tr>
<tr><td>KP F1</td>     <td><code>\eOP</code></td>  <td><code>\eP</code></td> </tr>
<tr><td>KP F2</td>     <td><code>\eOQ</code></td>  <td><code>\eQ</code></td> </tr>
<tr><td>KP F3</td>     <td><code>\eOR</code></td>  <td><code>\eR</code></td> </tr>
<tr><td>KP F4</td>     <td><code>\eOS</code></td>  <td><code>\eS</code></td> </tr>
</table>
<!--.........................................................................-->
<h3>その他</h3>
<p>xterm で定義されているその他の修飾されたキーボード入力</p>
<table class="normal center">
<tr>
  <th>key</th><th>C-</th><th>C-M- (1)</th><th>C-M- (2)</th>
  <th>S-</th><th>S-C-</th><th>S-C-M- (1)</th><th>S-C-M- (2)</th>
</tr>
<tr><td><code>\t</code></td>         <td><code>\e[27;5;9~</code></td> <td><code>\e[27;13;9~</code></td> <td><code>\e[27;7;9~</code></td>
    <td><code>\e[27;2;9~</code></td> <td><code>\e[27;6;9~</code></td><td>--</td><td>--</td></tr>
<tr><td><code>\r</code></td>         <td><code>\e[27;5;13~</code></td><td><code>\e[27;13;13~</code></td><td><code>\e[27;7;13~</code></td>
    <td><code>\e[27;2;13~</code></td><td><code>\e[27;6;13~</code></td><td>--</td><td>--</td></tr>
<tr><td><code>,</code></td>          <td><code>\e[27;5;44~</code></td><td><code>\e[27;13;44~</code></td><td><code>\e[27;7;44~</code></td>
    <td><code>&lt;</code></td>       <td><code>\e[27;6;60~</code></td><td><code>\e[27;14;60~</code></td><td><code>\e[27;8;60~</code></td></tr>
<tr><td><code>-</code></td>          <td><code>\e[27;5;45~</code></td><td><code>\e[27;13;45~</code></td><td><code>\e[27;7;45~</code></td>
    <td><code>=</code></td>          <td><code>\e[27;5;61~</code></td><td><code>\e[27;13;61~</code></td><td><code>\e[27;7;61~</code></td></tr>
<tr><td><code>.</code></td>          <td><code>\e[27;5;46~</code></td><td><code>\e[27;13;46~</code></td><td><code>\e[27;7;46~</code></td>
    <td><code>&gt;</code></td>       <td><code>\e[27;6;62~</code></td><td><code>\e[27;14;62~</code></td><td><code>\e[27;8;62~</code></td></tr>
<tr><td><code>/</code></td>          <td><code>\e[27;5;47~</code></td><td><code>\e[27;13;47~</code></td><td><code>\e[27;7;47~</code></td>
    <td><code>?</code></td>          <td><code>\e[27;6;63~</code></td><td><code>\e[27;14;63~</code></td><td><code>\e[27;8;63~</code></td></tr>
<tr><td><code>0</code></td>          <td><code>\e[27;5;48~</code></td><td><code>\e[27;13;48~</code></td><td><code>\e[27;7;48~</code></td>
    <td>--</td><td>--</td><td>--</td><td>--</td></tr>
<tr><td><code>1</code></td>          <td><code>\e[27;5;49~</code></td><td><code>\e[27;13;49~</code></td><td><code>\e[27;7;49~</code></td>
    <td><code>!</code></td>          <td><code>\e[27;6;33~</code></td><td><code>\e[27;14;33~</code></td><td><code>\e[27;8;33~</code></td></tr>
<tr><td><code>2</code></td>          <td>--</td>                      <td><code>\e[27;13;50~</code></td><td><code>\e[27;7;50~</code></td>
    <td><code>"</code></td>          <td><code>\e[27;6;34~</code></td><td><code>\e[27;14;34~</code></td><td><code>\e[27;8;34~</code></td></tr><!--"-->
<tr><td><code>3</code></td>          <td>--</td>                      <td><code>\e[27;13;51~</code></td><td><code>\e[27;7;51~</code></td>
    <td><code>#</code></td>          <td><code>\e[27;6;35~</code></td><td><code>\e[27;14;35~</code></td><td><code>\e[27;8;35~</code></td></tr>
<tr><td><code>4</code></td>          <td>--</td>                      <td><code>\e[27;13;52~</code></td><td><code>\e[27;7;52~</code></td>
    <td><code>$</code></td>          <td><code>\e[27;6;36~</code></td><td><code>\e[27;14;36~</code></td><td><code>\e[27;8;36~</code></td></tr>
<tr><td><code>5</code></td>          <td>--</td>                      <td><code>\e[27;13;53~</code></td><td><code>\e[27;7;53~</code></td>
    <td><code>%</code></td>          <td><code>\e[27;6;37~</code></td><td><code>\e[27;14;37~</code></td><td><code>\e[27;8;37~</code></td></tr>
<tr><td><code>6</code></td>          <td>--</td>                      <td><code>\e[27;13;54~</code></td><td><code>\e[27;7;54~</code></td>
    <td><code>&amp;</code></td>      <td><code>\e[27;6;38~</code></td><td><code>\e[27;14;38~</code></td><td><code>\e[27;8;38~</code></td></tr>
<tr><td><code>7</code></td>          <td>--</td>                      <td><code>\e[27;13;55~</code></td><td><code>\e[27;7;55~</code></td>
    <td><code>'</code></td>          <td><code>\e[27;5;39~</code></td><td><code>\e[27;13;39~</code></td><td><code>\e[27;7;39~</code></td></tr><!--'-->
<tr><td><code>8</code></td>          <td>--</td>                      <td><code>\e[27;13;56~</code></td><td><code>\e[27;7;56~</code></td>
    <td><code>(</code></td>          <td><code>\e[27;6;40~</code></td><td><code>\e[27;14;40~</code></td><td><code>\e[27;8;40~</code></td></tr>
<tr><td><code>9</code></td>          <td><code>\e[27;5;57~</code></td><td><code>\e[27;13;57~</code></td><td><code>\e[27;7;57~</code></td>
    <td><code>)</code></td>          <td><code>\e[27;6;41~</code></td><td><code>\e[27;14;41~</code></td><td><code>\e[27;8;41~</code></td></tr>
<tr><td><code>:</code></td>          <td><code>\e[27;6;58~</code></td><td><code>\e[27;14;58~</code></td><td><code>\e[27;8;58~</code></td>
    <td><code>*</code></td>          <td><code>\e[27;6;42~</code></td><td><code>\e[27;14;42~</code></td><td><code>\e[27;8;42~</code></td></tr>
<tr><td><code>;</code></td>          <td><code>\e[27;5;59~</code></td><td><code>\e[27;13;59~</code></td><td><code>\e[27;7;59~</code></td>
    <td><code>+</code></td>          <td><code>\e[27;6;43~</code></td><td><code>\e[27;14;43~</code></td><td><code>\e[27;8;43~</code></td></tr>
<tr><td><code>\\</code></td>         <td><code>\e[27;5;92~</code></td><td><code>\e[27;13;92~</code></td><td><code>\e[27;7;92~</code></td>
    <td><code>_</code></td>          <td>--</td><td>--</td><td>--</td></tr>
</table>

<p>rosaterm の現状</p>
<ul>
<li>rosaterm の場合、M- は常に単に \e を先頭に付けるだけである</li>
<li>「S- で文字が変わるキー」は shift で抑もの文字が変わる為、
  Shift 修飾が実質意味を為さない物である。
  以下の表では日本語のキーボードを想定して、
  異なる文字について横に並べた。
</li>
<li>灰色で示しているのが、他のキー入力とシーケンスが同じだが、
  その事が周知の事実であり屡々代用される物である。
</li>
<li>赤色で示しているのは、
  他のキー入力とシーケンスが同じだが、
  その事は余り知られていない・代用される事はない物である。
  これについては異なるシーケンスを今後割り当てても問題ないと考える。
</li>
</ul>

<table class="normal center">
<tr><th colspan="5">S- で文字が変わるキー</th></tr>
<tr><th>Key</th><th>k</th><th>C-k</th><th>S-k</th><th>C-S-k</th></tr>
<tr><td>:</td>  <td><code>:</code></td> <td><code>\e[58;5^</code> <!--<code>\C-z</code>--></td><td><code>*</code></td>   <td><code>\e[42;5^</code> <!--<code>\C-j</code> --></td></tr>
<tr><td>;</td>  <td><code>;</code></td> <td><code>\e[59;5^</code> <!--<code>\C-[</code>--></td><td><code>+</code></td>   <td><code>\e[43;5^</code> <!--<code>\C-k</code> --></td></tr>
<tr><td>,</td>  <td><code>,</code></td> <td><code>\e[44;5^</code> <!--<code>\C-l</code>--></td><td><code>&lt;</code></td><td><code>\e[60;5^</code> <!--<code>\C-\\</code>--></td></tr>
<tr><td>-</td>  <td><code>-</code></td> <td><code>\e[45;5^</code> <!--<code>\C-m</code>--></td><td><code>=</code></td>   <td><code>\e[61;5^</code> <!--<code>\C-]</code> --></td></tr>
<tr><td>.</td>  <td><code>.</code></td> <td><code>\e[46;5^</code> <!--<code>\C-n</code>--></td><td><code>&gt;</code></td><td><code>\e[62;5^</code> <!--<code>\C-^</code> --></td></tr>
<tr><td>/</td>  <td><code>/</code></td> <td><code>\e[47;5^</code> <!--<code>\C-o</code>--></td><td><code>?</code></td>   <td><code>\e[63;5^</code> <!--<code>\C-_</code> --></td></tr>
<tr><td>@</td>  <td><code>@</code></td> <td><code>\C-@</code></td>   <td><code>`</code></td><td><code>\e[96;5^</code> <!--<code>\C-@</code>--></td>  </tr>
<tr><td>0</td>  <td><code>0</code></td> <td><code>\e[0;5^</code></td><td>--</td>            <td>--</td>                               </tr>
<tr><td>1</td>  <td><code>1</code></td> <td><code>\e[1;5^</code></td><td><code>!</code></td><td><code>\e[33;5^</code></td>  </tr>
<tr><td>2</td>  <td><code>2</code></td> <td><code>\e[2;5^</code></td><td><code>"</code></td><td><code>\e[34;5^</code></td>  </tr><!--"-->
<tr><td>3</td>  <td><code>3</code></td> <td><code>\e[3;5^</code></td><td><code>#</code></td><td><code>\e[35;5^</code></td>  </tr>
<tr><td>4</td>  <td><code>4</code></td> <td><code>\e[4;5^</code></td><td><code>$</code></td><td><code>\e[36;5^</code></td>  </tr>
<tr><td>5</td>  <td><code>5</code></td> <td><code>\e[5;5^</code></td><td><code>%</code></td><td><code>\e[37;5^</code></td>  </tr>
<tr><td>6</td>  <td><code>6</code></td> <td><code>\e[6;5^</code></td><td><code>&</code></td><td><code>\e[38;5^</code></td>  </tr>
<tr><td>7</td>  <td><code>7</code></td> <td><code>\e[7;5^</code></td><td><code>'</code></td><td><code>\e[39;5^</code></td>  </tr><!--'-->
<tr><td>8</td>  <td><code>8</code></td> <td><code>\e[8;5^</code></td><td><code>(</code></td><td><code>\e[40;5^</code></td>  </tr>
<tr><td>9</td>  <td><code>9</code></td> <td><code>\e[9;5^</code></td><td><code>)</code></td><td><code>\e[41;5^</code></td>  </tr>
<tr><td>A-Z</td><td><code>a</code></td> <td><code>\C-a</code></td>   <td><code>A</code></td><td><code>\e[97;6^</code></td></tr>
<tr><td>[</td>  <td><code>[</code></td> <td><code>\C-[</code></td>   <td><code>{</code></td><td><code>\e[123;5^</code> <!--<code>\C-[</code>--></td></tr>
<tr><td>\\1</td><td><code>\\</code></td><td><code>\C-\\</code></td>  <td><code>|</code></td><td><code>\e[124;5^</code> <!--<code>\C-\\</code>--></td></tr>
<tr><td>\\2</td><td><code>\\</code></td><td><code>\C-\\</code></td>  <td><code>_</code></td><td><code>\C-_</code></td></tr>
<tr><td>]</td>  <td><code>]</code></td> <td><code>\C-]</code></td>   <td><code>}</code></td><td><code>\e[125;5^</code> <!--<code>\C-]</code>--></td></tr>
<tr><td>^</td>  <td><code>^</code></td> <td><code>\C-^</code></td>   <td><code>~</code></td><td><code>\e[126;5^</code> <!--<code>\C-^</code>--></td></tr>
<tr><th colspan="5">特別なキー</th></tr>
<tr><th>Key</th><th>k</th><th>C-k</th><th>S-k</th><th>C-S-k</th></tr>
<tr><td>backspace</td><td><code>\C-?</code></td>              <td class="markA"><code>\C-_</code></td> <td><code>\e[8;2^</code> <!--<code>\C-h</code>--></td><td><code>\e[8;6^ </code></td></tr>
<tr><td>return</td>   <td class="markA"><code>\C-m</code></td><td><code>\e[13;5^<!--\C-m--></code></td><td><code>\e[13;2^</code><!--<code>\C-m</code>--></td><td><code>\e[13;6^</code></td></tr>
<tr><td>tab</td>      <td class="markA"><code>\C-i</code></td><td><code>\e[9;5^<!--\C-i--></code></td> <td><code>\e[9;2^</code> <!--<code>\C-i</code>--></td><td><code>\e[9;6^</code> </td></tr>
<tr><td>space</td>    <td><code>' '</code></td>               <td class="markA"><code>\C-@</code></td> <td><code>\e[32;2^</code><!--<code>' '</code> --></td><td><code>\e[32;6^</code></td></tr>
<tr><td>escape</td>   <td class="markA"><code>\C-[</code></td><td>(win)</td>                           <td><code>\e[27;2^</code><!--<code>\C-[</code>--></td><td>(win)</td></tr>
</table>

<p>他に Function Key がある。これらの修飾は、既に述べた通りで他のキー入力との重複もない。
  但し、Windows によって F1-F12 の shift は F11-22 として解釈される。
</p>
<table class="normal center">
<tr><th>Key</th><th>Normal</th><th>Application</th></tr>
<tr><td>up</td>      <td><code>\e[A</code></td><td><code>\eOA</code></td></tr>
<tr><td>down</td>    <td><code>\e[B</code></td><td><code>\eOB</code></td></tr>
<tr><td>right</td>   <td><code>\e[C</code></td><td><code>\eOC</code></td></tr>
<tr><td>left</td>    <td><code>\e[D</code></td><td><code>\eOD</code></td></tr>
<tr><td>home</td>    <td colspan="2"><code>\e[1~</code></td></tr>
<tr><td>insert</td>  <td colspan="2"><code>\e[2~</code></td></tr>
<tr><td>delete</td>  <td colspan="2"><code>\e[3~</code></td></tr>
<tr><td>end</td>     <td colspan="2"><code>\e[4~</code></td></tr>
<tr><td>pageup</td>  <td colspan="2"><code>\e[5~</code></td></tr>
<tr><td>pagedown</td><td colspan="2"><code>\e[6~</code></td></tr>
<tr><td>F1-F5</td>   <td colspan="2"><code>\e[11~</code></td></tr>
<tr><td>F6-F10</td>  <td colspan="2"><code>\e[17~</code></td></tr>
<tr><td>F11-F14</td> <td colspan="2"><code>\e[23~</code></td></tr>
<tr><td>F15-F16</td> <td colspan="2"><code>\e[28~</code></td></tr>
<tr><td>F17-F20</td> <td colspan="2"><code>\e[31~</code></td></tr>
<tr><td>F21-F24</td> <td colspan="2"><code>\e[23$</code></td></tr>
</table>

<!--===================================================================================-->
<!--===================================================================================-->
<!--===================================================================================-->
<!--↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑-->
<hr style="height:1px;"/>
<div class="linkbar2">
  <span class="left">-- ≪</span>
  <span class="right">≫ --</span>
  <span class="center">
  akinomyoga/contra :: Control functions
  </span>
</div>
<div class="address2">
  <span class="left">作成 2010-11-08</span>
  <span class="left">更新 2016-10-08</span>
  <address class="right">&copy; 2010-2016, K. Murase <a href="mailto:myoga.murase@gmail.com">myoga.murase@gmail.com</a></address>
</div>
</body>
</html>
